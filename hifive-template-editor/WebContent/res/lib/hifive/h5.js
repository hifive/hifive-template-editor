/* Copyright (C) 2012-2014 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.14 gitCommitId a4c4bbab5019987c08ee2ba99ec4612a7054b8b3 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(a){function d(a,d,k){var x=null,C=ib[a],O=tb[a];O&&(x=O(a,C,d,k));!x&&C&&(x=e.u.str.format.apply(null,[C].concat(d)));x&&(x+="(code="+a+")");d=x?Error(x):Error("FwError: code = "+a);a&&(d.code=a);k&&(d.detail=k);throw d;}function ca(a,d,k){var x=null,C=ib[a];C&&(d=[C].concat(d),x=e.u.str.format.apply(null,d));return{code:a,message:x,detail:k}}function R(a){return null==a?a:M(a)?a:[a]}function Z(a){var d=document.createElement("span");d.innerHTML='<a href="'+a+'" />';return d.firstChild.href}
function y(a){return"string"===typeof a}function Da(a){return a.isRejected?a.isRejected():"rejected"===a.state()}function Ea(a){return a.isResolved?a.isResolved():"resolved"===a.state()}function la(a){return!y(a)?!1:!!a.match(/^[A-Za-z_\$][\w|\$]*$/)}function va(d){if("regexp"===a.type(d))return d;var e="",e=-1!==d.indexOf("*")?a.map(d.split("*"),function(a){return a.replace(/\W/g,"\\$&")}).join(".*"):d;return RegExp("^"+e+"$")}function wa(a,d,e){a&&(a._h5UnwrappedCall?a._h5UnwrappedCall(d,e):a[d](e))}
function aa(d,e,k,x){return d[a.hasOwnProperty("curCSS")?"pipe":"then"](e,k,x)}function jb(a){return a&&a.document&&a.document.nodeType===Ja&&V(a.document)===a}function T(a){return typeof a.nodeType===ja?jb(a)?a.document:null:a.nodeType===Ja?a:a.ownerDocument}function V(a){return window.document===a?window:a.defaultView||a.parentWindow}function Ka(a,d,k,x){function C(){!q&&++j===p&&d&&d()}function O(){q=!0;k?k.apply(this,arguments):x&&e.settings.commonFailHandler&&e.settings.commonFailHandler.call(this,
arguments)}var D=a?a.length:0,I=e.async.isPromise;if(1===D){D=a[0];if(I(D)){D.done(d);k?D.fail(k):x&&e.settings.commonFailHandler&&D.fail(e.settings.commonFailHandler);return}D=0}if(0===D)d();else{for(var H=[],u=0,o=a.length;u<o;u++)D=a[u],I(D)&&H.push(D);var p=H.length;if(0===p)d&&d();else for(var j=0,q=!1,u=0;u<p;u++)H[u].done(C).fail(O)}}var kb=void 0;if(window.h5){if(window.h5.env&&"1.1.14"===window.h5.env.version)return;kb=window.h5}var e={};window.h5=e;e.coexist=function(){window.h5=kb;return e};
e.env={version:"1.1.14"};var ib={},tb={},lb=12029,ja="undefined",ba=1,Ja=9,M=Array.isArray||function(){var a=Object.prototype.toString;return function(d){return"[object Array]"===a.call(d)}}(),Q=function(){if("function"===typeof RegExp()){var a=Object.prototype.toString;return function(d){return"[object Function]"===a.call(d)}}return function(a){return"function"===typeof a}}(),mb={controllerInternal:null},nb;(function(){function m(a){switch(a){case "string":return"s";case "number":return"n";case "boolean":return"b";
case "String":return"S";case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case H:return"u";case "undefElem":return"_";case "objElem":return"@"}}function G(a,b){if(y(a)){var c=a;b&&(c=c.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return c=c.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,
"\\b").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}return a instanceof String?new String(G(a.toString())):a}function k(a,b){return"1"===b?a:y(a)?a.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):a instanceof String?new String(k(a.toString())):a}function x(a,b,c){var d=e.async.deferred();e.ajax({url:a,async:b,cache:c,dataType:"script",converters:{"text script":function(a){return a}}}).done(function(){var a=
I(arguments);a.push(this.url);d.notifyWith(d,a);d.resolveWith(d,a)}).fail(function(){d.rejectWith(d,I(arguments))});return d.promise()}function C(a){y(a)||d(u,"h5.u.obj.ns()");for(var a=a.split("."),b=a.length,c=0;c<b;c++)la(a[c])||d(u,"h5.u.obj.ns()");for(var g=window,c=0;c<b;c++){var F=a[c];typeof g[F]===H&&(g[F]={});g=g[F]}return g}function O(a,b){var c=C(a),g;for(g in b)b.hasOwnProperty(g)&&(void 0!==c[g]&&d(o,[a,g]),c[g]=b[g])}function D(b){return!b||!b.jquery?!1:b.jquery===a().jquery}function I(a){return Array.prototype.slice.call(a)}
var H="undefined",u=11E3,o=11001,p=11004,j=11005,q=11006,A={},c={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&#39;"},b=void 0!==document.createElement("script").onload,f=-1===/\r\n/.toString().indexOf("\r\n");O("h5.u",{loadScript:function(c,f){var o=e.async.deferred,g=R(c);(!g||0===g.length)&&d(11007);for(var F=0,S=g.length;F<S;F++)c=g[F],(!y(c)||!a.trim(c))&&d(11007);null!=f&&!a.isPlainObject(f)&&d(11008,"h5.u.loadScript()");var r=f&&!1===f.async?!1:!0,t=!!(f&&!0===f.force),F=!!(f&&!0===
f.parallel),j=!!(f&&!0===f.atomic),m=!t,q=r?o():null,k=r?function(a){q.reject(ca(11010,[a]))}:null,S=r?function(){var a=o();setTimeout(function(){a.resolve([])},0);return a.promise()}:null,D=F?[]:null,C=[],p={};if(r){if(!j&&b){var u=a("head"),H=function(a){var b=o(),c=document.createElement("script");c.onload=function(){c.onload=null;A[a]=a;b.resolve()};c.onerror=function(){c.onerror=null;b.reject(a)};c.type="text/javascript";c.src=m?a:a+(-1<a.indexOf("?")?"&_":"?_")+ +new Date;u[0].appendChild(c);
return b.promise()};if(F)D.push(S()),a.each(g,function(){var a=Z(this);if(!t&&a in A)return!0;D.push(H(a))}),Ka(D,function(){q.resolve()},k);else{var G=aa(o().resolve(),S);a.each(g,function(){var a=Z(this);G=aa(G,function(){if(t||!(a in A))return H(a)},k)});aa(G,function(){q.resolve()},k)}}else if(F){var n=[];D.push(S());n.push(null);a.each(g,function(){var a=Z(this);if(!t&&(a in A||a in p))return!0;D.push(x(a,r,m));j?p[a]=a:n.push(null)});F=g=null;j?(g=function(){a.each(I(arguments),function(b,c){a.globalEval(c[0])});
a.extend(A,p);q.resolve()},F=a.noop):(g=function(){q.resolve()},F=function(){for(var b=I(arguments),c=0;c<n.length;c++)if(b[c]){var d=b[c][3];n[c]!==d&&(a.globalEval(b[c][0]),n.splice(c,1,d))}});e.async.when(D).done(g).fail(k).progress(F)}else G=aa(o().resolve(),S),a.each(g,function(){var b=Z(this);G=aa(G,function(){var c=o();!t&&(b in A||b in p)?c.resolve():x(b,r,m).done(function(d){j?(C.push(d),p[b]=b):(a.globalEval(d),A[b]=b);c.resolve()}).fail(function(){c.reject(this.url)});return c.promise()},
k)}),aa(G,function(){j&&(a.each(C,function(b,c){a.globalEval(c)}),a.extend(A,p));q.resolve()},k);return q.promise()}a.each(g,function(){var b=Z(this);if(!t&&(b in A||b in p))return!0;x(b,r,m).done(function(c){j?(C.push(c),p[b]=b):(a.globalEval(c),A[b]=b)}).fail(function(){d(11010,[b])})});j&&(a.each(C,function(b,c){a.globalEval(c)}),a.extend(A,p))},createInterceptor:function(a,b){return function(c){var d={},F=a?a.call(this,c,d):c.proceed();c.result=F;if(!b)return F;if(F&&Q(F.promise)&&!D(F)){var f=
this;wa(F,"always",function(){b.call(f,c,d)});return F}b.call(this,c,d);return F}}});O("h5.u.str",{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.lastIndexOf(b)===c},format:function(a,b){if(null==a)return"";var c=arguments;return a.replace(/\{(\d+)\}/g,function(a,b){var d=c[parseInt(b,10)+1];return typeof d===H?H:d})},escapeHtml:function(b){return"string"!==a.type(b)?b:b.replace(/[&"'<>]/g,function(a){return c[a]})}});O("h5.u.obj",
{expose:O,ns:C,serialize:function(b){function c(a){for(var b=0,d=F.length;b<d;b++)if(a===F[b])return!0;return!1}function o(a){for(var b=0,c=F.length;b<c;b++)a===F[b]&&F.splice(b,1)}function g(b){var r=b,t=a.type(b);"object"===typeof b&&(b instanceof String?t="String":b instanceof Number?t="Number":b instanceof Boolean&&(t="Boolean"));switch(t){case "String":case "string":r=m(t)+G(r);break;case "Boolean":r=r.valueOf();case "boolean":r=m(t)+(r?1:0);break;case "Number":r=r.valueOf();if(a.isNaN&&a.isNaN(b)||
a.isNumeric&&!a.isNumeric(b))r=Infinity===b.valueOf()?m("infinity"):-Infinity===b.valueOf()?m("-infinity"):m("nan");r=m(t)+r;break;case "number":r=a.isNaN&&a.isNaN(b)||a.isNumeric&&!a.isNumeric(b)?Infinity===b?m("infinity"):-Infinity===b?m("-infinity"):m("nan"):m(t)+r;break;case "regexp":r=m(t)+G(r.toString(),f);break;case "date":r=m(t)+ +r;break;case "array":c(b)&&d(ERR_CODE_REFERENCE_CYCLE);F.push(b);for(var l=[],r=m(t)+"[",t=0,e=b.length;t<e;t++){l[t.toString()]=!0;var x;x=b.hasOwnProperty(t)?
"function"===a.type(b[t])?m(H):g(b[t]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):m("undefElem");r+='"'+x+'"';t!==b.length-1&&(r+=",")}var t="",q;for(q in b)l[q]||"function"!==a.type(b[q])&&(t+='"'+G(q)+'":"'+g(b[q]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');t&&(r+=(b.length?",":"")+'"'+m("objElem")+"{"+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),r=r.replace(/,$/,""),r+='}"');r+="]";o(b);break;case "object":c(b)&&d(j);F.push(b);r=m(t)+"{";for(q in b)b.hasOwnProperty(q)&&"function"!==a.type(b[q])&&
(r+='"'+q+'":"'+g(b[q]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');r=r.replace(/,$/,"");r+="}";o(b);break;case "null":case H:r=m(t)}return r}Q(b)&&d(11002);var F=[];return"2|"+g(b)},deserialize:function(b){function c(b){function o(a){switch(a){case "s":return"string";case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";case "r":return"regexp";
case "a":return"array";case "o":return"object";case "l":return"null";case "u":return H;case "_":return"undefElem";case "@":return"objElem"}}b.match(/^(.)(.*)/);b=RegExp.$1;g=RegExp.$2?RegExp.$2:"";if(void 0!==b&&""!==b)switch(o(b)){case "String":g=new String(k(g,f));break;case "string":break;case "Boolean":"0"===g||"1"===g?g=new Boolean("1"===g):d(q);break;case "boolean":"0"===g||"1"===g?g="1"===g:d(q);break;case "nan":""!==g&&d(q);g=NaN;break;case "infinity":""!==g&&d(q);g=Infinity;break;case "-infinity":""!==
g&&d(q);g=-Infinity;break;case "Number":"infinity"===o(g)?g=new Number(Infinity):"-infinity"===o(g)?g=new Number(-Infinity):"nan"===o(g)?g=new Number(NaN):(g=new Number(g),isNaN(g.valueOf())&&d(q));break;case "number":g=(new Number(g)).valueOf();isNaN(g)&&d(q);break;case "array":var r;try{r=a.parseJSON(g)}catch(j){d(q)}M(r)||d(q);for(var l=0;l<r.length;l++)switch(o(r[l].substring(0,1))){case "undefElem":delete r[l];break;case "objElem":for(var e=c(m("object")+r[l].substring(1)),b=[],l=0,x=r.length-
1;l<x;l++)b[l]=r[l];r=b;for(var A in e)r[A]=e[A];break;default:r[l]=c(r[l])}g=r;break;case "object":try{r=a.parseJSON(g)}catch(D){d(q)}a.isPlainObject(r)||d(q);for(A in r)r[A]=c(r[A]);g=r;break;case "date":g=new Date(parseInt(g,10));break;case "regexp":try{l=g.match(/^\/(.*)\/(.*)$/),e=k(l[1],f),g=RegExp(e,l[2])}catch(C){d(q)}break;case "null":""!==g&&d(q);g=null;break;case H:""!==g&&d(q);g=void 0;break;default:d(p)}return k(g,f)}y(b)||d(11009);b.match(/^(.)\|(.*)/);var f=RegExp.$1;"1"!==f&&"2"!==
f&&d(11003,[f,"2"]);var g=RegExp.$2;return c(g)},isJQueryObject:D,argsToArray:I,getByPath:function(a,b){y(a)||d(u,"h5.u.obj.getByPath()");var c=a.split("."),f=0;if("window"===c[0]&&(!b||b===window))f=1;for(var F=b||window,o=c.length;f<o&&!(F=F[c[f]],null==F);f++);return F}})})();(function(){function m(a,d){a.target||(a.target=d);a.timeStamp||(a.timeStamp=(new Date).getTime());if(!a.isDefaultPrevented){var e=!1;a.isDefaultPrevented=function(){return e};a.preventDefault=function(){e=true}}if(!a.isImmediatePropagationStopped){var m=
!1;a.isImmediatePropagationStopped=function(){return m};a.stopImmediatePropagation=function(){m=true}}}function G(a){var d={},m;for(m in a){var k=a[m];if(a.hasOwnProperty(m)&&(Q(k)||null===k||"string"===typeof k||"number"===typeof k||"boolean"===typeof k))d[m]=k}this._mix=function(a){for(var e in d)a[e]=d[e]};this._hasInterface=function(a){for(var m in d)if(!e.u.str.startsWith(m,"_")&&typeof a[m]===ja)return!1;return!0}}function k(a){return new G(a)}a.extend(G.prototype,{mix:function(a){return this._mix(a)},
hasInterface:function(a){return this._hasInterface(a)}});e.u.obj.expose("h5.mixin",{createMixin:k,eventDispatcher:k({hasEventListener:function(a,d){if(!this._eventListeners)return!1;var e=this._eventListeners[a];if(!e||!this._eventListeners.hasOwnProperty(a))return!1;for(var m=0,k=e.length;m<k;m++)if(e[m]===d)return!0;return!1},addEventListener:function(a,e){(2>arguments.length||!y(a))&&d(16E3);null==e||this.hasEventListener(a,e)||(this._eventListeners||(this._eventListeners={}),this._eventListeners.hasOwnProperty(a)||
(this._eventListeners[a]=[]),this._eventListeners[a].push(e))},removeEventListener:function(a,d){if(this.hasEventListener(a,d))for(var e=this._eventListeners[a],m=0,k=e.length;m<k;m++)if(e[m]===d){e.splice(m,1);break}},dispatchEvent:function(a){if(this._eventListeners){var d=this._eventListeners[a.type];if(d){d=d.slice(0);m(a,this);for(var e=0,k=d.length;e<k&&!a.isImmediatePropagationStopped();e++)Q(d[e])?d[e].call(a.target,a):d[e].handleEvent&&d[e].handleEvent(a);return a.isDefaultPrevented()}}}})})})();
(function(){var m,G,k,x,C,O,D;function I(a){return a.match(/^error$/i)?m:a.match(/^warn$/i)?G:a.match(/^info$/i)?k:a.match(/^debug$/i)?x:a.match(/^trace$/i)?C:a.match(/^all$/i)?O:a.match(/^none$/i)?D:null}function H(a,b){var c={},d=a.slice(0,b),f=Math.min(J,b),e=d.slice(0,f).join(" <- ");d.length>f&&(e+=" ...");c.preview=e;c.all=d.join("\n");return c}function u(a){var b="";a.name?b=a.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(a.toString()),b=RegExp.$1);return b}function o(b){for(var b=e.u.obj.argsToArray(b),
c=[],d=0,f=b.length;d<f;d++)c.push(a.type(b[d]));return c.join(", ")}function p(){}function j(c){(!y(c)||0===a.trim(c).length)&&d(b);this.category=a.trim(c)}var q=10002,A=10003,c=10004,b=10005,f=10007,l=10008,N=10010,J=3;m=50;G=40;k=30;x=20;C=10;O=0;D=-1;var g=null;p.prototype={init:function(){},log:function(a){window.console&&(y(a.args[0])?this._logMsg(a):this._logObj(a))},_logMsg:function(a){var b=a.args,c=null,c=1===b.length?b[0]:e.u.str.format.apply(e.u.str,b),b=this._getLogPrefix(a)+c;a.logger.enableStackTrace&&
(b+="  ["+a.stackTrace.preview+"]");a.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(b):this._consoleOut(a.level,b);a.logger.enableStackTrace&&this._consoleOut(a.level,a.stackTrace.all);a.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(a,b){var c=!1;a==m&&console.error?(console.error(b),c=!0):a==G&&console.warn?(console.warn(b),c=!0):a==k&&console.info?(console.info(b),c=!0):a==x&&console.debug&&(console.debug(b),c=!0);!c&&console.log&&console.log(b)},
_getLogPrefix:function(a){return"["+a.levelString+"]"+a.date.getHours()+":"+a.date.getMinutes()+":"+a.date.getSeconds()+","+a.date.getMilliseconds()+": "},_logObj:function(a){var b=a.args,c=this._getLogPrefix(a);b.unshift(c);a.level==m&&console.error?this._output(console.error,b):a.level==G&&console.warn?this._output(console.warn,b):a.level==k&&console.info?this._output(console.info,b):a.level==x&&console.debug?this._output(console.debug,b):this._output(console.log,b)},_output:function(a,b){try{if(a.apply){a.apply(console,
b);return}}catch(c){}a(b)}};j.prototype={enableStackTrace:!1,maxStackSize:10,error:function(a){this._log(m,arguments,this.error)},warn:function(a){this._log(G,arguments,this.warn)},info:function(a){this._log(k,arguments,this.info)},debug:function(a){this._log(x,arguments,this.debug)},trace:function(a){this._log(C,arguments,this.trace)},_traceFunctionName:function(b){var c=Error(),d=c.stack||c.stacktrace,c=[];if(d)var c=d.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,
"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),f=null,c=a.map(c,function(b){return f=0===b.length?null:""===a.trim(b)?"{anonymous}":a.trim(b)}).slice(3);else for(var d=0,e=this.maxStackSize;d<e;d++){var g=u(b),l=o(b.arguments),j;try{j=b.caller}catch(m){c.push("{unable to trace}");break}if(!g)if(j){c.push("{anonymous}("+l+")");break}else c.push("{root}("+l+")");c.push("{"+g+"}("+l+")");b=j}return H(c,this.maxStackSize)},_log:function(a,b,c){var b={level:a,args:e.u.obj.argsToArray(b),
stackTrace:this.enableStackTrace?this._traceFunctionName(c):""},d=g.out,f=g.defaultOut,c=null;if(d)for(var d=R(d),o=0,l=d.length;o<l;o++){var j=d[o];if(j.compiledCategory.test(this.category)){c=j;break}}c||(c=f);o=c.compiledLevel;c=c.compiledTargets;if(!(a<o||0>o))if(b.logger=this,b.date=new Date,b.levelString=this._levelToString(a),c&&0!==c.length){o=0;for(l=c.length;o<l;o++)c[o].log(b)}},_levelToString:function(a){if(a===m)return"ERROR";if(a===G)return"WARN";if(a===k)return"INFO";if(a===x)return"DEBUG";
if(a===C)return"TRACE"}};e.u.obj.expose("h5.log",{createLogger:function(a){return new j(a)},configure:function(){function b(e,g,m){var k=null==m;if(!k){var t=g.category;(!y(t)||0===a.trim(t).length)&&d(N);t=a.trim(t);-1!==a.inArray(t,j)&&d(q,g.category);g.compiledCategory=va(t);j.push(t)}t=null==g.level?I(k?o.level:m.level):y(g.level)?I(a.trim(g.level)):g.level;"number"!==typeof t&&d(A,g.level);g.compiledLevel=t;var t=[],n=g.targets;if(!k||null!=n){var L=[];null==n||M(n)||y(n)&&a.trim(n).length||
d(l);for(var n=R(n),E=0,w=n.length;E<w;E++){null==n[E]||y(n[E])&&a.trim(n[E]).length||d(l);var v=n[E];if(v){-1!==a.inArray(v,L)&&d(f,v);var p=e[v];p||d(c,v);L.push(v);t.push(p.compiledTarget)}}if(!k&&(e=m.targets,null!=e)){e=R(e);E=0;for(w=e.length;E<w;E++)v=e[E],-1===a.inArray(v,L)&&(t.push(m.compiledTargets[E]),L.push(v))}}g.compiledTargets=t}var o={level:"NONE",targets:null},j=[],m=a.extend(!0,{},e.settings.log?e.settings.log:{defaultOut:o}),k=m.target;k||(k={},m.target=k);(function(b){a.isPlainObject(b)||
d(10009);for(var c in b){var f=b[c];a.type(f.type)!=="object"&&f.type!=="console"&&d(1E4);var o=null,o=f.type==="console"?new p:a.extend(true,{},f.type);o.init&&o.init(f);f.compiledTarget=o}b.console={type:"console",compiledTarget:new p}})(k);var u=m.defaultOut;u||(u=o,m.defaultOut=u);b(k,u);var J=m.out;if(J)for(var J=R(J),x=0,G=J.length;x<G;x++)b(k,J[x],u);g=m}})})();(function(){function d(m){e.settings.aspects=a.map(R(m),function(a){a.target&&(a.compiledTarget=va(a.target));a.pointCut&&(a.compiledPointCut=
va(a.pointCut));return a})}e.u.obj.ns("h5.settings");e.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(a){a=a.status;if("POST"===this.type||!(0===a||a===lb))return!1}},trackstartTouchAction:"none"};var G=e.u.createInterceptor(function(a,d){this.log.info("{0}.{1}が開始されました。",this.__name,a.funcName);this.log.info(a.args);d.start=new Date;return a.proceed()},function(a,
d){var e=(new Date).getTime()-d.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",this.__name,a.funcName,e)});e.u.obj.expose("h5.core.interceptor",{lapInterceptor:G,logInterceptor:G,errorInterceptor:function(a){var d=null;try{d=a.proceed()}catch(m){e.settings.commonFailHandler&&Q(e.settings.commonFailHandler)&&e.settings.commonFailHandler.call(null,m)}return d}});a(document).trigger("h5preinit");e.settings.aspects&&d(e.settings.aspects);e.log.configure()})();(function(){e.u.obj.expose("h5.env",
{ua:function(d){function e(a,b){var c=F(a,"[^;)]*",b).split(" ");return 1===c.length?"":c[c.length-1]}function k(a,b){var c=F(a,"[^;) ]*",b).split("/");return 1===c.length?"":c[c.length-1]}function x(a,b){var c=F(a,"[^;) ]*",b).split(":");return 1===c.length?"":c[c.length-1]}var C=!!d.match(/iPhone/i),y=!!d.match(/iPad/i),D=C||y,I=!!d.match(/android/i),H=!!d.match(/Windows Phone/i),u=!!d.match(/MSIE/)||!!d.match(/Trident/),o=!!d.match(/Firefox/i),p=!!d.match(/Chrome/i)||!!d.match(/CrMo/)||!!d.match(/CriOS/),
j=!I&&!!d.match(/Safari/i)&&!p,q=!!d.match(/Webkit/i),A=!!d.match(/Opera/i),c=I&&!!d.match(/Safari/i)&&!p,b=!(!C&&!H&&!(c&&d.match(/Mobile/)&&!d.match(/SC-01C/)||I&&p&&d.match(/Mobile/)||d.match(/Fennec/i)||d.match(/Opera Mobi/i))),f=!(!y&&!(c&&!d.match(/Mobile/)||I&&p&&!d.match(/Mobile/)||d.match(/SC-01C/)||d.match(/Fennec/i)||d.match(/Opera Tablet/i))),l=!b&&!f,N=null,J=null,g=function(b,c){return a.trim(d.substring(d.indexOf(b)+b.length,d.indexOf(c))).split("_")},F=function(b,c,f){return a.trim(d.match(!1===
f?RegExp(b+c):RegExp(b+c,"i")))};if(C)J=g("iPhone OS","like"),N=parseInt(J[0]),J=J.join(".");else if(y)J=g("CPU OS","like"),N=parseInt(J[0]),J=J.join(".");else if(!I||!o)I?(J=e("Android"),N=parseInt(J.split(".")[0])):H&&((J=e("Windows Phone OS"))||(J=e("Windows Phone")),N=parseInt(J.split(".")[0]));u&&A&&(u=!1);var S=g=null;if(D||I&&c)g=N,S=J;else{var r=null;u?r=e("MSIE",!1)||x("rv"):p?(r=k("Chrome",!1))||(r=k("CrMo",!1)):j?r=k("Version"):o?r=k("Firefox"):A&&((r=k("Version"))||(r=k("Opera")),r||(r=
e("Opera")));r&&(g=parseInt(r.split(".")[0]),S=r)}return{osVersion:N,osVersionFull:J,browserVersion:g,browserVersionFull:S,isiPhone:C,isiPad:y,isiOS:D,isAndroid:I,isWindowsPhone:H,isIE:u,isFirefox:o,isChrome:p,isSafari:j,isOpera:A,isAndroidDefaultBrowser:c,isSmartPhone:b,isTablet:f,isDesktop:l,isWebkit:q}}(navigator.userAgent)})})();(function(){function m(a){function d(){e=!0;q=this;m=D(arguments);if(Da(a)||Ea(a))return a;var b=D(arguments);if(0<c.length)for(var f=0,l=c.length;f<l;f++){var k=b;k!==
arguments&&(k=R(k));Q(c[f])&&c[f].apply(this,k)}return a}var e=!1,q=null,m=null,c=[];a.progress=function(){for(var b=D(arguments),d=0,l=b.length;d<l;d++){var k=b[d];if(M(k))a.progress.apply(this,k);else if(Q(k))if(e){var p=m;p!==m&&(p=R(p));k.apply(q,p)}else c.push(k)}return this};a.notify=d;a.notifyWith=function(a,c){return!c?d.apply(a):d.apply(a,c)}}function G(a){if(!a)return!1;for(var a=R(a),d=0,e=a.length;d<e;d++)if(Q(a[d]))return!0;return!1}function k(d,p){function j(a){p?p[a]&&(d[a]=p[a]):(f[a]=
d[a],d[a]=function(){return function(){if(!c){var b=D(arguments);if("then"===a||"pipe"===a)b=b[1];G(b)&&(c=!0)}return d._h5UnwrappedCall.call(this,a,D(arguments))}}(a),l[a]=d[a])}function q(a){return function(){var f=e.settings.commonFailHandler;!c&&f&&!b&&(d.fail.call(this,f),b=!0);return a.apply(this,arguments)}}if(d._h5UnwrappedCall)return d;var A=!!d.progress;!A&&!u(d)?m(d):p&&(d.progress=p.progress);var c=!1,b=!1,f={},l={};d._h5UnwrappedCall=p?p._h5UnwrappedCall:function(b,c){c=R(c);a.extend(d,
f);var e=d[b].apply(this,c);a.extend(d,l);return e};for(var N=0,J=x.length;N<J;N++){var g=x[N];d[g]&&j(g)}d.pipe&&!p&&(d.pipe=function(){for(var a=e.async.deferred(),b=D(arguments),c=0,d=C.length;c<d;c++){var f=this;(function(b,c,d){function e(){if(g){var c=b.apply(this,arguments);if(c&&Q(c.promise)){k(c);c.done(a.resolve);c._h5UnwrappedCall("fail",a.reject);Q(c.progress)&&c.progress(a.notify)}else a[d+"With"](this,[c])}else a[d+"With"](this,arguments)}var g=Q(b);if(!g&&c==="fail")f._h5UnwrappedCall(c,
e);else f[c](e)})(b[c],C[c],y[c])}return a.promise()},l.pipe=d.pipe);if(d.then&&!p){var F=d.then;d.then=I?d.pipe:function(){var a=arguments,b=F.apply(this,a);!A&&G(a[2])&&d.progress.call(d,a[2]);return b};l.then=d.then}d.reject&&(d.reject=p&&p.reject?p.reject:q(d.reject));d.rejectWith&&(d.rejectWith=p&&p.rejectWith?p.rejectWith:q(d.rejectWith));if(d.promise)if(p&&p.promise)d.promise=p.promise;else{var H=d.promise;d.promise=function(){return k(H.apply(this,arguments),d)}}return d}var x=["fail","always",
"pipe","then"],C=["done","fail","progress"],y=["resolve","reject","notify"],D=e.u.obj.argsToArray,I=function(){var d=a.Deferred();return d!==d.then()}(),H=function(){var d=a.Deferred();return k(d)},u=function(a){return!!a&&a.done&&a.fail&&!a.resolve&&!a.reject};e.u.obj.expose("h5.async",{deferred:H,when:function(){var d=D(arguments);1===d.length&&M(d[0])&&(d=d[0]);var m=d.length,j=e.async.deferred(),q=j.promise(),k=a.when.apply(a,d).done(function(){j.resolveWith(this&&this.promise&&this.promise()===
k?j:this,D(arguments))}).fail(function(){j.rejectWith(this,D(arguments))});if(k.progress)k.progress(function(){j.notifyWith(this===k?q:this,D(arguments))});else{for(var c=[],b=0;b<m;b++)c[b]=void 0;for(var f=function(a){return function(b){c[a]=1<arguments.length?D(arguments):b;j.notifyWith(q,c)}},b=0;b<m;b++){var l=d[b];l&&Q(l.promise)&&l.progress&&(1<m?l.progress(f(b)):l.progress(function(){j.notifyWith(q,D(arguments))}))}}return q},isPromise:u,loop:function(e,m,j){M(e)||d(5E3);var k=H(),A="number"===
a.type(j)?j:20,c=0,b=e.length,f,l=null,N=function(){if(c===b)k.resolve(e);else{var a=m.call(e,c,e[c],l);c++;u(a)?a.done(function(){f()}).fail(function(){k.reject(e)}):f()}},J=function(){setTimeout(function(){var a=c-1;0<c&&k.notify({data:e,index:a,value:e[a]});N()},0)},g=!1;f=function(){g||(0===c%A?J():N())};var F=!1,l={resume:function(){!F&&g&&(g=!1,f())},pause:function(){g=!0},stop:function(){F=!0;k.resolve(e)}};J();return k.promise()}})})();(function(){function d(a,e){for(var k=0,m=C.length;k<
m;k++){var o=C[k];a[o]&&(e[O[o]](a[o]),a[o]=void 0)}}function G(d,e,k){for(var m in e)if(e.hasOwnProperty(m)&&(k||!Q(e[m]))&&-1===a.inArray(m,x))d[m]=e[m]}function k(a,d){G(this,a,!0);d.promise(this);var e=this.always;this.always=function(){e.apply(this,arguments);return this}}var x=["error","success","complete"],C=["error","success","complete"],O={success:"done",error:"fail",complete:"always"};e.u.obj.expose("h5",{ajax:function(){function x(a,d,e){G(p,e);o.resolveWith(this,arguments)}function C(d,
e,k){if(0===H.retryCount||!1===H.retryFilter.apply(this,arguments))G(p,d),o.rejectWith(this,arguments);else if(H.retryCount--,this.async){var c=this;setTimeout(function(){a.ajax(c).done(x).fail(C)},H.retryInterval)}else a.ajax(this).done(x).fail(C)}var H={},u=arguments;y(u[0])?(a.extend(H,u[1]),H.url=u[0]):a.extend(H,u[0]);var H=a.extend({},e.settings.ajax,H),o=e.async.deferred();d(H,o);var u=a.ajax(H),p=new k(u,o);u.done(x).fail(C);return p}})})();(function(){function m(a,b,c,h,i){for(var e in c)e in
vb&&d(wa,[i,e],{controllerDefObj:c})}function G(b,c){function h(i,e){-1!==a.inArray(i,e)&&d(Fa,[c],{controllerDefObj:b});u(i,function(a){h(a,e.concat([i]))},!0)}h(b,[])}function k(b){function c(h,i){-1!==a.inArray(h,i)&&d(ka,[b.__name],{logicDefObj:b});o(h,function(a){c(a,i.concat(h))})}c(b,[])}function x(b,c,h){null==b&&d(Ua,[h],{controllerDefObj:c});!y(b)&&"object"!==typeof b&&d(B,[h],{controllerDefObj:c});b=a(b);0===b.length&&d(Va,[h],{controllerDefObj:c});1<b.length&&d(qa,[h],{controllerDefObj:c});
b[0].nodeType!==Ja&&b[0].nodeType!==ba&&d(ha,[h],{controllerDefObj:c})}function C(a,b,c,h,d){this.controller=a;this.event=b;this.evArg=c;this.selector=h;this.selectorType=d}function O(a){return v(this)||!this.__controllerContext.executeListeners?void 0:a.proceed()}function D(a,b,c){var h;h=a.__name;var d=[],i=e.settings.aspects;if(i&&0!==i.length)for(var i=R(i),f=i.length-1;-1<f;f--){var n=i[f];if(!n.target||n.compiledTarget.test(h)){var B=n.interceptors;if(!n.pointCut||n.compiledPointCut.test(b))if(M(B))for(n=
B.length-1;-1<n;n--)d=d.concat(B[n]);else d.push(B)}}h=d;c&&h.push(O);return I(a[b],b,h)}function I(a,b,c){for(var h=function(a,b,c){return function(){var za=this;return c.call(za,{target:za,func:a,funcName:b,args:arguments,proceed:function(){return a.apply(za,this.args)}})}},d=0,i=c.length;d<i;d++)a=h(a,b,c[d]);return a}function H(a,b,c){if(c&&a===la)return c.rootElement;for(var h=["window","document","navigator"],d=0,i=h.length;d<i;d++){var f=h[d];if(a===f||pb(a,f+"."))return e.u.obj.getByPath(a,
V(b))}return c&&pb(a,"this.")?e.u.obj.getByPath(a.slice(5),c):a}function u(a,b,c){var h=c?da.get(a.__name):a.__controllerContext&&a.__controllerContext.cache;if(h)for(var c=0,d=h.childControllerProperties.length;c<d;c++){var i=h.childControllerProperties[c];if(!1===b(a[i],a,i))return!1}else for(i in a){var h=a,d=i,e=c,f=h[d];if(La(d,aa)&&"rootController"!==d&&"parentController"!==d&&f&&(e||f.__controllerContext&&!f.__controllerContext.isRoot&&(!f.parentController||f.parentController===h))&&!1===b(a[i],
a,i))return!1}}function o(a,b){var c=da.get(a.__name);if(c)for(var h=0,d=c.logicProperties.length;h<d;h++){var i=c.logicProperties[h];if(!1===b(a[i],a,i))return!1}else for(i in a)if(a.hasOwnProperty(i)&&La(i,Z)&&!1===b(a[i],a,i))return!1}function p(a,b,c,h){function d(a,c,h){if(!1===p(a,b,c,h))return!1}return!1===b.call(this,a,c,h)?!1:u(a,d)}function j(a,b,c,h){if(!1===u(a,function(a,c,h){if(!1===j(a,b,c,h))return!1})||!1===b.call(this,a,c,h))return!1}function q(a,b){var c=[];u(a,function(a){(a=a[b])&&
c.push(a)});return c}function A(b,c,h){function d(b){var c=b.handler,h=b.controller;b.originalHandler=c;b.handler=function(){var d=!b.isNativeBind&&1===e.settings.listenerElementType?a(this):this;c.call(h,ea(b,arguments),d)}}var i=c.selector,f=c.eventName;switch(f){case "mousewheel":h=t(b,i,f,h);break;case Ma:case qb:case Wa:h=xa(b,i,f,h);break;default:h=r(b,i,f,h)}M(h)||(h=[h]);i=0;for(f=h.length;i<f;i++){var n=h[i];d(n);n.isBindRequested=c.isBindRequested;n.isGlobal=c.isGlobal;n.bindTarget=c.bindTarget;
n.controller=b}return h}function c(b,c){var h=b.controller,d=h.rootElement,i=b.selector,f=b.eventName,n=b.handler,B=b.isBindRequested,z=b.isGlobal;b.bindTarget?(b.evSelectorType=ra.SELECTOR_TYPE_OBJECT,Na(b)):z?(h=H(i,c,h),B||!y(h)?(b.evSelectorType=ra.SELECTOR_TYPE_OBJECT,b.bindTarget=y(h)?a(h):h,Na(b)):(b.evSelectorType=ra.SELECTOR_TYPE_GLOBAL,a(c).delegate(h,f,n)),b.evSelector=h):(b.evSelectorType=ra.SELECTOR_TYPE_LOCAL,b.evSelector=i,B?(b.bindTarget=a(i,d),Na(b)):a(d).delegate(i,f,n));b.isBindCanceled||
(b.controller.__controllerContext.boundHandlers.push(b),wb&&f===Ma&&null!=e.settings.trackstartTouchAction&&(z?a(b.evSelector,c):a(b.evSelector,d)).each(function(){this.style[db]=e.settings.trackstartTouchAction}))}function b(b,c,h){var d=b.controller,i=d.rootElement,e=b.selector,f=b.handler,n=b.eventName,B=b.isGlobal;if(b.bindTarget)c=b.bindTarget,i=b.eventName,e=b.handler,b.isNativeBind?c.removeEventListener(i,e):a(c).unbind(i,e);else if(B){if(null==V(c))return;a(c).undelegate(e,n,f)}else a(i).undelegate(e,
n,f);h||(h=d.__controllerContext.boundHandlers,h.splice(a.inArray(b,h),1))}function f(a,b){p(a,function(a){a.__controllerContext.executeListeners=b})}function l(a,b,c){return function(){var h=null,d=a.__name;if(a[b])try{h=a[b]({args:a.__controllerContext.args})}catch(i){L(a,i)}h&&Q(h.done)&&Q(h.fail)?h.done(c).fail(function(){var b=ca(K,d,Aa(arguments));L(a.rootController,null,b)}):c()}}function N(a,b){p(a,function(a){if(!v(a)&&!a.__controllerContext.isDisposing){var c,h;"__init"===b?(c=J(a),h=[a.preInitPromise],
a.parentController&&h.push(a.parentController.initPromise)):"__postInit"===b?(c=g(a),h=q(a,"postInitPromise")):(c=F(a),h=q(a,"readyPromise"));Ka(h,l(a,b,c))}})}function J(a){return function(){if(!ga(a)){a.isInit=!0;var b=a.__controllerContext.initDfd;delete a.__controllerContext.templatePromise;delete a.__controllerContext.preInitDfd;delete a.__controllerContext.initDfd;var h=a.rootElement,c=[];try{var d=a.__meta;u(a,function(b,i,e){c.push(b);i=d&&d[e]&&d[e].rootElement?U(d[e].rootElement,b,a):h;
x(i,b.__controllerContext.controllerDef,b.__name);b.rootElement=i;b.view.__controller=b})}catch(i){L(a,i);return}b.resolveWith(a);ga(a)||!c.length&&function(){var b=!0;p(a.rootController,function(a){return b=a.isInit});return b}()&&N(a.rootController,"__postInit")}}}function g(a){return function(){if(!ga(a)){a.isPostInit=!0;var b=a.__controllerContext.postInitDfd;delete a.__controllerContext.postInitDfd;b.resolveWith(a);!ga(a)&&a.__controllerContext.isRoot&&(p(a,function(a,b,h){var d=!0;b&&b.__meta&&
b.__meta[h]&&(d=!1!==b.__meta[h].useHandlers);if(d){var b=a.__controllerContext.cache.bindMap,h=T(a.rootElement),i;for(i in b)for(var d=A(a,b[i],a[i]),za=0,e=d.length;za<e;za++)c(d[za],h)}}),ub(a))}}}function F(b){return function(){if(!ga(b)){b.isReady=!0;var h=b.__controllerContext.readyDfd;delete b.__controllerContext.readyDfd;h.resolveWith(b);ga(b)||b.__controllerContext.isRoot&&b.rootElement&&b.isInit&&b.isPostInit&&b.isReady&&a(b.rootElement).trigger("h5controllerready",b)}}}function S(b,h){if(!y(b))return a(b);
var c=a.trim(b);return rb.test(c)?(c=a.trim(c.substring(1,c.length-1)),a(H(c,T(h.rootElement),h))):a(h.rootElement).find(b)}function r(a,b,h,c){return{controller:a,selector:b,eventName:h,handler:c}}function t(a,b,h,c){return{controller:a,selector:b,eventName:typeof document.onmousewheel===ja?"DOMMouseScroll":h,handler:function(b){var h=b.event;null==h.wheelDelta&&h.originalEvent&&null!=h.originalEvent.wheelDelta&&(h.wheelDelta=h.originalEvent.wheelDelta);null==h.wheelDelta&&h.originalEvent&&null!=
h.originalEvent.detail&&(h.wheelDelta=40*-h.originalEvent.detail);c.call(a,b)}}}function xa(b,h,c,d){function i(a,b){for(var h in a)a.hasOwnProperty(h)&&!b[h]&&"target"!==h&&"currentTarget"!==h&&"originalEvent"!==h&&"liveFired"!==h&&(b[h]=a[h]);b.h5DelegatingEvent=a}var e=typeof document.ontouchstart!==ja;if(c!==Ma)return r(b,h,c,function(b){var h=b.event.h5DelegatingEvent.type;if("mousemove"===h||"mouseup"===h){var h=b.event,c=a(h.currentTarget).offset()||{left:0,top:0};h.offsetX=h.pageX-c.left;
h.offsetY=h.pageY-c.top}d.apply(this,arguments)});var f=a(T(b.rootElement));return function(){function n(h,c,d){return function(e){var B;a:{switch(h){case "touchstart":case "mousedown":B=Ma;break a;case "touchmove":case "mousemove":B=qb;break a;case "touchend":case "mouseup":B=Wa;break a}B=void 0}var Ta=B===Ma;if(!Ta||!g){var K=0===e.event.type.indexOf("touch");K&&ma(e.event,h);var l=new a.Event(B);i(e.event,l);var ob=e.event.target;c&&(ob=c);d&&d(l);var k=e.event.originalEvent||e.event;Ta&&-1===
a.inArray(k,sa)&&(sa=[],Ba=[]);var j=a.inArray(k,sa);-1===j&&(j=sa.push(k)-1,Ba[j]=!1);if(!Ba[j]&&(!K||g||Ta))Ba[j]=!0,a(ob).trigger(l,e.evArg),g=!0;if(e.event.currentTarget===document&&(B===Wa&&(sa=[],Ba=[]),-1!==a.inArray(k,sa)))sa.splice(j,1),Ba.splice(j,1);if(Ta&&g){l.h5DelegatingEvent.preventDefault();B=l.target;var ha=l.clientX,m=l.clientY,s=K?"touchmove":"mousemove",w=K?"touchend":"mouseup",E=n(s,B,function(a){var b=a.clientX,h=a.clientY;a.dx=b-ha;a.dy=h-m;ha=b;m=h}),P=n(w,B),L=function(a){e.event=
a;e.evArg=ya(arguments);E(e)},da=function(a){e.event=a;e.evArg=ya(arguments);P(e)},Ha=K?a(B):f;z=function(){sa=[];Ba=[];Ha.unbind(s,L);Ha.unbind(w,da);if(!K&&b.rootElement!==document){a(b.rootElement).unbind(s,L);a(b.rootElement).unbind(w,da)}};Ha.bind(s,L);Ha.bind(w,da);!K&&b.rootElement!==document&&(a(b.rootElement).bind(s,L),a(b.rootElement).bind(w,da))}else B===Wa&&(z(),g=!1)}}}function B(a){return{controller:b,selector:h,eventName:a,handler:n(a)}}var z=null,g=!1,K=[r(b,h,c,d)];e&&K.push(B("touchstart"));
K.push(B("mousedown"));return K}()}function ma(b,h){var c=b.originalEvent;if(c){var d="touchend"===h||"touchcancel"===h?c.changedTouches[0]:c.touches[0],i=d.pageX,e=d.pageY;b.pageX=c.pageX=i;b.pageY=c.pageY=e;b.screenX=c.screenX=d.screenX;b.screenY=c.screenY=d.screenY;b.clientX=c.clientX=d.clientX;b.clientY=c.clientY=d.clientY;d=b.target;if(d.ownerSVGElement)d=d.farthestViewportElement;else if(d===window||d===document)d=document.body;if(d=a(d).offset())e-=d.top,b.offsetX=c.offsetX=i-d.left,b.offsetY=
c.offsetY=e}}function ya(a){return 3>a.length?a[1]:Aa(a).slice(1)}function ea(b,h){var c=null,d=null;h&&(c=h[0],d=ya(h));var i=c;if(i&&null==i.offsetX&&null==i.offsetY&&i.pageX&&i.pageY){var e=i.target;if(e.ownerSVGElement)e=e.farthestViewportElement;else if(e===window||e===document)e=document.body;if(e=a(e).offset())i.offsetX=i.pageX-e.left,i.offsetY=i.pageY-e.top}return new C(b.controller,c,d,b.evSelector,b.evSelectorType)}function na(a){p(a,function(a){a.rootElement=null;a.view.__controller=null})}
function U(b,h,c){null==b&&d(Ua,[h.__name]);!y(b)&&"object"!==typeof b&&d(B,[h.__name]);b=c?S(b,c):a(b);0===b.length&&d(Va,[h.__name]);1<b.length&&d(qa,[h.__name]);return b.get(0)}function ub(b){var h=b.__controllerContext.managed,c=Ga.controllers;-1===a.inArray(b,c)&&!1!==h&&c.push(b);!1!==h&&a(b.rootElement).trigger("h5controllerbound",b);N(b,"__ready")}function Sa(a){ia();setTimeout(function(){N(a,"__init")},0)}function fa(a,b){p(a,function(a){var h=ia();h.resolve();a.__controllerContext.templatePromise=
h.promise();a.__controllerContext.initDfd=ia();a.initPromise=a.__controllerContext.initDfd.promise();a.__controllerContext.postInitDfd=ia();a.postInitPromise=a.__controllerContext.postInitDfd.promise();a.__controllerContext.readyDfd=ia();a.readyPromise=a.__controllerContext.readyDfd.promise();a.isInit=!1;a.isPostInit=!1;a.isReady=!1;a.__controllerContext.isUnbinding=!1;a.__controllerContext.isUnbinded=!1;a.__controllerContext.args=b})}function $(b,h){var c=null,d=h;a.isPlainObject(d)?c=d.target:d=
{};c=c?S(c,b):b.rootElement;return e.ui.indicator.call(b,c,d)}function n(a,b){var h=[],c=null;j(a,function(a){if(a[b]&&Q(a[b])){try{var d=a[b]()}catch(i){c=c||i}xb(d)&&h.push(d)}});if(c)throw c;return h}function L(a,b,h){function c(){var a=b||h||B||g;j(i,function(b){b.view&&b.view.__view&&b.view.__view.clear();if(a)b.__controllerContext.isDisposed=1;else for(var h in b)b.hasOwnProperty(h)&&(b[h]=null)});g?K.rejectWith(i,[g]):K.resolveWith(i);if(a&&(Ga.dispatchEvent({type:"lifecycleerror",detail:a,
rootController:i}),b||B))throw b||B;}function d(){g=B||ca(yb,i.__name,Aa(arguments));c()}var i=a.__controllerContext&&(a.__controllerContext.isRoot?a:a.rootController);if(i){if(!v(i)&&!i.__controllerContext.isDisposing){i.__controllerContext.isDisposing=1;try{E(i,h||b)}catch(e){b=b||e}var f,B=null;try{f=n(i,"__dispose")}catch(z){b=b||z,B=B||z}var K=i.deferred(),g=null;B?d():Ka(f,c,d,!0);return K.promise()}}else if(b)throw b;}function E(h,c){if(!ga(h)){h.__controllerContext.isUnbinding=1;eb(h,c);var d;
try{n(h,"__unbind")}catch(i){d=i}p(h,function(a){var h=a.rootElement;if(h){for(var h=T(h),c=a.__controllerContext.boundHandlers,d=0,i=c.length;d<i;d++)b(c[d],h,!0);a.__controllerContext.boundHandlers=[]}});h.__controllerContext.unbindList={};Ga.controllers=a.grep(Ga.controllers,function(a){return a!==h});h.isPostInit&&!1!==h.__controllerContext.managed&&a(h.rootElement).trigger("h5controllerunbound",h);na(h);h.__controllerContext.isUnbinded=1;if(d)throw d;}}function w(a,b){return b.view.__view.isAvailable(a)?
b.view.__view:b.parentController?w(a,b.parentController):e.core.view}function v(a){return!a.__controllerContext||a.__controllerContext.isDisposed}function ga(a){return v(a)||a.__controllerContext.isUnbinding||a.__controllerContext.isUnbinded}function eb(a,b){var h=["postInitDfd","readyDfd"],c=[];p(a,function(a){c.push(a);var h=a.__controllerContext.initDfd;h&&!Da(h)&&!Ea(h)&&h.rejectWith(a,[b])});for(var d=0,i=h.length;d<i;d++)for(var e=h[d],f=c.length-1;0<=f;f--){var B=c[f],n=B.__controllerContext[e];
n&&!Da(n)&&!Ea(n)&&n.rejectWith(B,[b])}}function oa(a,b){for(var h=a.childNodes,c=0,d=h.length;c<d;c++){var i=h[c];if(1===i.nodeType){if(i=oa(i,b))return i}else if(8===i.nodeType){var e=i.nodeValue;if(0===e.indexOf(va)){var f=e.indexOf("}");if(-1!==f&&(e=e.slice(0,f).match(/id="([A-Za-z][\w-:\.]*)"/))&&e[1]===b)return i}}}return null}function pa(a){var b=this;return function(){return a.apply(b,arguments)}}function ta(a){var b=this;return function(){var h=e.u.obj.argsToArray(arguments);h.unshift(this);
return a.apply(b,h)}}function Xa(a,b,c){function i(f){e.u.obj.getByPath("h5.core.view")||d(h);a.view.__view.load(c).done(function(){b.resolve()}).fail(function(a){var h=a.detail.error.status;f===e.settings.dynamicLoading.retryCount||0!==h&&h!==lb?setTimeout(function(){b.reject(a)},0):setTimeout(function(){i(++f)},e.settings.dynamicLoading.retryInterval)})}i(0)}function ua(b,h,c,i){var e=y(b),f=e?null:b,b=e?a.trim(b):null,h=a.trim(h),B=!e||rb.test(b),n=Oa.test(h);n&&(h=a.trim(a.trim(h.substring(1,
h.length-1))));e&&B&&(b=a.trim(b.substring(1,b.length-1)),"this"===b&&d(zb,[c.__name],{controllerDef:c}));return{selector:b,bindTarget:f,isGlobal:B,isBindRequested:n,eventName:h,propertyKey:i}}function i(){this.logicProperties=[];this.eventHandlerProperties=[];this.functionProperties=[];this.otherProperties=[];this.bindMap={};this.childControllerProperties=[]}function s(b){var h=new i,c=h.logicProperties,e=h.eventHandlerProperties,f=h.functionProperties,B=h.otherProperties,n=h.bindMap,K=h.childControllerProperties,
z={},g;for(g in b)if(-1!==g.indexOf(" ")&&Q(b[g])){e.push(g);var l=a.trim(g),j=l.lastIndexOf(" "),l=ua(l.substring(0,j),l.substring(j+1,l.length),b,g),j=l.selector,k=l.eventName,s=l.isGlobal,ha=l.isBindRequested;z[j]||(z[j]={});z[j][k]||(z[j][k]={});z[j][k][s]||(z[j][k][s]={});z[j][k][s][ha]?d(fb,[b.__name,j,k],{controllerDef:b}):z[j][k][s][ha]=1;n[g]=l}else La(g,aa)&&b[g]&&!Q(b[g])?K.push(g):La(g,Z)&&b[g]&&!Q(b[g])?c.push(g):Q(b[g])?f.push(g):B.push(g);return h}function P(){this.logicProperties=
[];this.functionProperties=[]}function Y(a,b){if(a===b)return!0;var h=gb(a),c=gb(b);if(!h&&!c)return!1;h=h?a.toArray():[a];c=c?b.toArray():[b];if(h.length!==c.length)return!1;for(var d=0,i=h.length;d<i;d++)if(h[d]!==c[d])return!1;return!0}function W(a,b){(!a||!a.rootElement)&&d(z,b)}function X(a,b){(!a||v(a))&&d(Ha,b)}function Na(b){var h=b.bindTarget,c=b.eventName,d=b.handler;h&&typeof h.nodeType!==ja||jb(h)||gb(h)?a(h).bind(c,d):!h||!h.addEventListener?b.isBindCanceled=!0:(h.addEventListener(c,
d),b.isNativeBind=!0)}function Ya(a){this.__controller=a;e.u.obj.getByPath("h5.core.view")&&(this.__view=e.core.view.createView())}function Ca(a,b,h,c,d){this.__name=b;this.__templates=null;this.rootElement=a;this.__controllerContext={executeListeners:!0,isRoot:d,boundHandlers:[],controllerDef:h};this.__controllerContext.args=c?c:null;this.isReady=this.isPostInit=this.isInit=!1;this.readyPromise=this.postInitPromise=this.initPromise=this.preInitPromise=this.parentController=this.rootController=null;
this.log=e.log.createLogger(b);this.view=new Ya(this)}function Pa(){this.rootElement=document;this.controllers=[];a(document).bind(sb,function(a,b){null==b.target&&(b.target=document);b.indicator=$(this,b);a.stopPropagation()})}function Za(){this._init()}function Qa(b,h,c,i){var e=!i||!i.isInternal,f=h.__name;(!y(f)||0===a.trim(f).length)&&d($a,null,{controllerDefObj:h});c&&!a.isPlainObject(c)&&d(ab,[f],{controllerDefObj:h});h.__controllerContext&&d(Ia,null,{controllerDefObj:h});var B=da.get(f);B||
m(e,b,h,c,f);e&&G(h,f);B||(B=s(h),da.register(f,B));e&&x(b,h,f);var n=new Ca(b?a(b).get(0):null,f,h,c,e),g=ia(),f=g.promise().fail(bb),z=ia(),K=z.promise().fail(bb),l=ia(),j=l.promise().fail(bb),k=ia(),ha=k.promise();e||ha.fail(bb);b=n.__controllerContext;b.cache=B;b.preInitDfd=g;b.initDfd=z;b.postInitDfd=l;b.readyDfd=k;n.preInitPromise=f;n.initPromise=K;n.postInitPromise=j;n.readyPromise=ha;z=0;for(K=B.logicProperties.length;z<K;z++)l=B.logicProperties[z],n[l]=Ra(h[l]);f=a.extend(!0,{},h);h=h.__templates;
z=ia();K=z.promise();h&&0<h.length?Xa(n,z,h):z.resolve();K.done(function(){!v(n)&&!n.__controllerContext.isDisposing&&g.resolveWith(n)}).fail(function(a){g.rejectWith(n,[a]);L(n,null,a)});z=0;for(K=B.childControllerProperties.length;z<K;z++)l=B.childControllerProperties[z],n[l]=Qa(null,a.extend(!0,{},f[l]),c,a.extend({isInternal:!0},i));z=0;for(K=B.eventHandlerProperties.length;z<K;z++)l=B.eventHandlerProperties[z],n[l]=D(f,l,!0);z=0;for(K=B.functionProperties.length;z<K;z++)l=B.functionProperties[z],
n[l]=D(f,l);z=0;for(K=B.otherProperties.length;z<K;z++)l=B.otherProperties[z],n[l]=f[l];if(e){var w=!1;p(n,function(a,b){try{a.__construct&&a.__construct({args:a.__controllerContext.args})}catch(h){L(n,h)}if(v(a)||a.__controllerContext.isDisposing){w=true;return false}if(a===n){a.rootController=a;a.parentController=null}else{a.parentController=b;a.rootController=b.rootController}});if(w)return null}b.managed=i&&i.managed;e&&Sa(n);return n}function Ra(b){function h(b,c){var i=b.__name;(!y(i)||0===
a.trim(i).length)&&d(hb,null,{logicDefObj:b});b.__logicContext&&d(cb,null,{logicDefObj:b});var f=da.get(i);if(!f){c&&k(b);var f=new P,n=f.functionProperties,B=f.logicProperties,z;for(z in b)b.hasOwnProperty(z)&&La(z,Z)?B.push(z):Q(b[z])&&n.push(z)}z=a.extend(!0,{},b);for(var g=f.functionProperties,n=0,B=g.length;n<B;n++){var K=g[n];z[K]=D(z,K)}z.deferred=ia;z.log=e.log.createLogger(i);z.__logicContext={logicDef:b};z.own=pa;z.ownWithOrg=ta;g=f.logicProperties;n=0;for(B=g.length;n<B;n++)K=g[n],z[K]=
h(z[K]);Q(z.__construct)&&z.__construct();da.register(i,f);return z}return h(b,!0)}var ra={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},aa="Controller",Z="Logic",Ma="h5trackstart",qb="h5trackmove",Wa="h5trackend",la="rootElement",sb="triggerIndicator",rb=/^\{.*\}$/,Oa=/^\[.*\]$/,va="{h5view ",Ua=6001,Va=6003,qa=6004,$a=6006,ab=6007,Ia=6008,Fa=6009,ka=6010,wa=6011,zb=6012,fb=6013,hb=6017,cb=6018,h=6029,B=6030,K=6033,ha=6034,z=6035,Ha=6036,yb=6038,Ga,da,bb=function(){},ia=e.async.deferred,
xb=e.async.isPromise,pb=e.u.str.startsWith,La=e.u.str.endsWith,Ab=e.u.str.format,Aa=e.u.obj.argsToArray,gb=e.u.obj.isJQueryObject,sa=[],Ba=[],db="",wb=function(){var a=document.createElement("div");return typeof a.style.touchAction!==ja?(db="touchAction",!0):typeof a.style.msTouchAction!==ja?(db="msTouchAction",!0):!1}();a.extend(C.prototype,ra);a.extend(Ya.prototype,{get:function(a,b){W(this.__controller,"view#get");return w(a,this.__controller).get(a,b)},update:function(a,b,h){W(this.__controller,
"view#update");a=S(a,this.__controller);return w(b,this.__controller).update(a,b,h)},append:function(a,b,h){W(this.__controller,"view#append");a=S(a,this.__controller);return w(b,this.__controller).append(a,b,h)},prepend:function(a,b,h){W(this.__controller,"view#prepend");a=S(a,this.__controller);return w(b,this.__controller).prepend(a,b,h)},load:function(a){W(this.__controller,"view#load");return this.__view.load(a)},register:function(a,b){W(this.__controller,"view#register");this.__view.register(a,
b)},isValid:function(a){W(this.__controller,"view#isValid");return this.__view.isValid(a)},isAvailable:function(a){W(this.__controller,"view#isAvailable");return w(a,this.__controller).isAvailable(a)},clear:function(a){W(this.__controller,"view#clear");this.__view.clear(a)},getAvailableTemplates:function(){W(this.__controller,"view#getAvailableTemplates");return this.__view.getAvailableTemplates()},bind:function(b,h){W(this.__controller,"view#bind");var c=b;if(y(b)&&0===b.indexOf("h5view#")){for(var d=
oa(this.__controller.rootElement,b.slice(7)),c=d.nodeValue,c=c.slice(c.indexOf("}")+1),i=a("<div>").append(c),c=[],e=i[0].childNodes,f=0,n=e.length;f<n;f++)c.push(e[f]);i.empty();i=document.createDocumentFragment();f=0;for(n=c.length;f<n;f++)i.appendChild(c[f]);d.parentNode.insertBefore(i,d.nextSibling)}return this.__view.bind(c,h)}});a.extend(Ca.prototype,{$find:function(b){X(this,"$find");W(this,"$find");return a(this.rootElement).find(b)},deferred:function(){X(this,"deferred");return ia()},trigger:function(b,
h){X(this,"trigger");W(this,"trigger");var c=y(b)?a.Event(b):b;a(this.rootElement).trigger(c,h);return c},own:function(){X(this,"own");return pa.apply(this,Aa(arguments))},ownWithOrg:function(){X(this,"ownWithOrg");return ta.apply(this,Aa(arguments))},bind:function(a,b){X(this,"bind");this.__controllerContext.isRoot||d(6031);this.rootElement=U(a,this);this.view.__controller=this;fa(this,b?b:null);Sa(this);return this},unbind:function(){X(this,"unbind");W(this,"unbind");this.__controllerContext.isRoot||
d(6031);this.rootController||d(6037);try{E(this)}catch(a){L(this,a)}},dispose:function(){X(this,"dispose");this.__controllerContext.isRoot||d(6031);return L(this)},triggerIndicator:function(b){X(this,"triggerIndicator");W(this,"triggerIndicator");var h={indicator:null};b&&a.extend(h,b);a(this.rootElement).trigger(sb,[h]);return h.indicator},indicator:function(a){X(this,"indicator");W(this,"indicator");return $(this,a)},enableListeners:function(){X(this,"enableListeners");f(this,!0)},disableListeners:function(){X(this,
"disableListeners");f(this,!1)},throwError:function(a,b){X(this,"throwError");var h=Aa(arguments);h.unshift(null);this.throwCustomError.apply(this,h)},throwCustomError:function(a,b,h){X(this,"throwCustomError");2>arguments.length&&d(6005);var c=null;b&&y(b)?c=Error(Ab.apply(null,Aa(arguments).slice(1))):(c=Error(),c.detail=b);c.customType=a;throw c;},on:function(a,b,h){X(this,"on");W(this,"on");a=ua(a,b,this);h=A(this,a,h);a=0;for(b=h.length;a<b;a++)c(h[a],T(this.rootElement))},off:function(a,h,c){X(this,
"off");W(this,"off");for(var d=ua(a,h,this),a=this.__controllerContext.boundHandlers,i=null,e=d.bindTarget,h=d.eventName,f=d.selector,n=d.isGlobal,d=d.isBindRequested,B=0,z=a.length;B<z;B++){var g=a[B];if(e){if(Y(e,g.bindTarget)&&h===g.eventName&&g.originalHandler===c){i=g;break}}else if(f===g.selector&&n===g.isGlobal&&d===g.isBindRequested&&c===g.originalHandler){i=g;break}}i&&b(i,T(this.rootElement))}});e.mixin.eventDispatcher.mix(Pa.prototype);a.extend(Pa.prototype,{getAllControllers:function(){return this.controllers},
getControllers:function(b,h){for(var c=h&&h.deep,d=h&&h.name?R(h.name):null,i=a(b)[0],e=this.controllers,f=[],n=0,B=e.length;n<B;n++){var z=e[n];!(d&&-1===a.inArray(z.__name,d))&&z.rootElement&&(i===z.rootElement?f.push(z):c&&T(i)===T(z.rootElement)&&a.contains(i,z.rootElement)&&f.push(z))}return f}});a.extend(Za.prototype,{get:function(a){return this._cacheMap[a]},register:function(a,b){this._cacheMap[a]=b},clear:function(a){delete this._cacheMap[a]},clearAll:function(){this._cacheMap={}},_init:function(){this._cacheMap=
{}}});da=new Za;Ga=new Pa;e.u.obj.expose("h5.core",{controllerManager:Ga,definitionCacheManager:{clear:function(a){da.clear(a)},clearAll:function(){da.clearAll()}}});var vb=function(){var a={},b=new Ca(null,"a"),h;for(h in b)b.hasOwnProperty(h)&&"__name"!==h&&"__templates"!==h&&"__meta"!==h&&(a[h]=1);b=Ca.prototype;for(h in b)b.hasOwnProperty(h)&&(a[h]=null);return a}();mb.controllerInternal=Qa;e.u.obj.expose("h5.core",{controller:function(a,b,h){2>arguments.length&&d(6032);return Qa(a,b,h)},logic:Ra,
expose:function(a){var b=a.__name;b||d(6019,null,{target:a});var h=b.lastIndexOf(".");if(-1===h)window[b]=a;else{var c=b.substr(0,h),b=b.substr(h+1,b.length),h={};h[b]=a;e.u.obj.expose(c,h)}}})})();(function(){function m(a){return(a=a&&y(a)?a.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/):null)?{elmType:a[1],dataModel:a[2],dimension:a[3]?1:0}:{}}function G(b,c){return function ha(b,h){if(!c[b])return!1;for(var d=0,i=c[b].length;d<i;d++)if(-1<a.inArray(c[b][d],h)||ha(c[b][d],
h.concat([b])))return!0;return!1}(b,[])}function k(a){return"number"===typeof a&&isNaN(a)}function x(a,b){return null==a||k(a)||"number"===typeof a||!b&&(a instanceof Number||!(!(y(a)||a instanceof String)||!a.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function C(a,b){return null==a||"number"===typeof a&&parseInt(a)===a||!b&&(a instanceof Number&&parseInt(a)===parseFloat(a)||("string"===typeof a||a instanceof String)&&!!a.match(/^[+\-]{0,1}[0-9]+$/))}function O(b,c,e){function f(){n.push(A.call(this,
arguments));if(e)throw null;}var n=[];try{if(!a.isPlainObject(b))throw f(oa),null;la(b.name)||f(pa);var g=b.base,l=null;if(null!=g)if(!y(g)||0!==g.indexOf("@"))f(ta);else{var j=g.substring(1);c.models[j]?l=c.models[j].schema:f(Xa,j)}var k=b.schema;!l&&null==k&&f(ua);if(!l&&!a.isPlainObject(k))throw f(i),null;}catch(s){d($,null,n)}}function D(b,c,i,e){function f(){n.push(A.call(this,arguments));if(e)throw null;}"object"!==typeof b&&d(L);var n=[];try{if(c){var g=!1,l;for(l in b)b[l]&&!0===b[l].id&&
(g&&f(s),g=!0);g||f(P)}var j={},g=function(a){if(null!=a){r&&f(W,v);t.hasOwnProperty("defaultValue")&&f(Ea,v);if(null==a.on)f(X,v);else for(var c=R(a.on),d=0,i=c.length;d<i;d++)if(!b.hasOwnProperty(c[d])){f(X,v);break}"function"!==typeof a.calc&&f(Na,v);j[v]=R(a.on)}};l=function(a){r&&null==a&&(a="string");var b={};null!=a&&(y(a)?(r&&"string"!==a&&"integer"!==a&&f(Va,v),b=m(a),b.elmType?(b.dataModel&&(c||f(Ca,v,b.dataModel),i.models[b.dataModel]||f(Pa,v,b.dataModel)),"enum"===b.elmType&&null==t.enumValue&&
f(Za,v)):f(Ca,v,a)):f(Ya,v))};var w=function(b,h){if(null!=b)if(a.isPlainObject(b)){for(var c in b){var d=b[c];if(null!=d)switch(c){case "notNull":!0!==d&&!1!==d?f(Ra,v,c):r&&!d&&f(Oa,v,c,d);break;case "min":case "max":switch(h.elmType){case "integer":(y(d)||!C(d)||k(d))&&f(ra,v,c);break;case "number":(y(d)||y(d)||!x(d)||Infinity===d||-Infinity===d||k(d))&&f(ra,v,c);break;default:f(V,v,c,h.elmType)}break;case "minLength":case "maxLength":switch(h.elmType){case "string":y(d)||!C(d)||k(d)||0>d?f(ba,
v,c):r&&"maxLength"===c&&0===d&&f(Oa,v,c,d);break;default:f(V,v,c,h.elmType)}break;case "notEmpty":switch(h.elmType){case "string":!0!==d&&!1!==d?f(Ra,v,c):r&&!d&&f(Oa,v,c,d);break;default:f(V,v,c,h.elmType)}break;case "pattern":switch(h.elmType){case "string":"regexp"!==a.type(d)&&f(aa,v,c);break;default:f(V,v,c,h.elmType)}}}b.notEmpty&&0===b.maxLength&&f(Z,v,"notEmpty","maxLength");null!=b.min&&null!=b.max&&b.min>b.max&&f(Z,v,"min","max");null!=b.minLength&&null!=b.maxLength&&b.minLength>b.maxLength&&
f(Z,v,"minLength","maxLength")}else f(Qa,v)},q=function(b,h){null!=b&&("enum"!==h.elmType&&f(ca,v),(!M(b)||0===b.length||-1<a.inArray(null,b)||-1<a.inArray(void 0,b))&&f(va,v))},v;for(v in b){var t=null==b[v]?{}:b[v],r=c&&!!t.id;la(v)||f(Y,v);g(t.depend);l(t.type);var o={},p=r&&null==p?"string":t.type;y(p)&&(o=m(p));w(t.constraint,o);q(t.enumValue,o);r&&t.hasOwnProperty("defaultValue")&&f(wa,v)}for(var u in j)G(u,j)&&f(Ua,u)}catch(J){d(E,null,n)}return!0}function I(a,b){var c=[];try{for(var i in a){var f=
a[i];if(f&&(f.hasOwnProperty("defaultValue")||!f.type||!("array"===f.type||m(f.type).dimension))&&f.hasOwnProperty("defaultValue")){var e=f.defaultValue;b[i](e).length&&pushErrorReason(Da,i,e)}}return!0}catch(n){d(E,null,c)}}function H(a,b,c){var d={},i;for(i in a){var f=d,e=i,n;n=c;var g=a[i]||{},l=[],j=null,k=0,j=g.type,s=g.constraint||{};b&&g.id&&(j=j||"string",s.notNull=!0,"string"===j&&(s.notEmpty=!0));j&&(k=m(j),j=k.elmType,k=k.dimension,l.push(o(j,{manager:n,enumValue:g.enumValue})));s&&l.push(u(s));
n=p({checkFuncs:l,dimension:k});f[e]=n}return d}function u(a){return function(b){var c=[];a.notNull&&null==b&&c.push({notNull:a.notNull});a.notEmpty&&!b&&c.push({notEmpty:a.notEmpty});if(null==b)return c;null!=a.min&&b<a.min&&c.push({min:a.min});null!=a.max&&a.max<b&&c.push({max:a.max});null!=a.minLength&&b.length<a.minLength&&c.push({minLength:a.minLength});null!=a.maxLength&&a.maxLength<b.length&&c.push({maxLength:a.maxLength});null!=a.pattern&&!b.match(a.pattern)&&c.push({pattern:a.pattern});return c}}
function o(b,c){var d=[{type:b}];switch(b){case "number":return function(a,b){return x(a,b)?[]:d};case "integer":return function(a,b){return C(a,b)?[]:d};case "string":return function(a,b){return null==a||y(a)||!b&&a instanceof String?[]:d};case "boolean":return function(a,b){return null==a||"boolean"===typeof a||!b&&a instanceof Boolean?[]:d};case "enum":return function(b){var h;a:if(h=c.enumValue,k(b)){for(var b=0,i=h.length;b<i;b++)if(k(h[b])){h=!0;break a}h=!1}else h=null===b||-1<a.inArray(b,
h);return h?[]:d};case "any":return function(){return[]}}var i=b.match(/^@(.+?)$/)[1],f=c.manager;return function(a){var b=f.models[i];return!b||"object"!==typeof a&&null!=a?d:null==a||b.has(a)?[]:d}}function p(a){var b=a.checkFuncs;if(!b||0===b.length)return function(){return[]};var c=a.dimension||0;return function(a,h){function d(a,f){if(!f){for(var n=0,g=b.length;n<g;n++){var l=b[n](a,h);if(l.length)return i=i.concat(l),!1}return!0}if(null==a)return!0;if(!M(a)&&!e.core.data.isObservableArray(a))return i.push({dimension:c}),
!1;n=0;for(g=a.length;n<g;n++)if(!d(a[n],f-1))return!1;return!0}var i=[];d(a,c);return i}}function j(a,b){a._values={};a._nullProps={};for(var c in b)if(b[c]&&q(b[c].type)){var d=na();d.relatedItem=a;a._values[c]=d;a._nullProps[c]=!0}}function q(a){return!a?!1:-1!==a.indexOf("[]")}function A(){return{code:arguments[0]}}function c(b,c,i,f){function e(c){for(var c=R(l[c].depend.on),d=0,i=c.length;d<i;d++)if(-1===a.inArray(c[d],b._realProperty)&&-1!==a.inArray(c[d],g))return!1;return!0}function n(b,
c){for(var h=0,d=c.length;h<d;h++){var i=j[c[h]];if(i)for(var f=0,e=i.length;f<e;f++){var g=i[f];-1===a.inArray(g,b)&&b.push(g)}}}var g=[],l=b.schema||b._model.schema,j=b._dependencyMap,k={};for(f?g=b._dependProps.slice():n(g,R(i));0!==g.length;){for(var i=[],f=0,s=g.length;f<s;f++){var w=g[f];if(e(w)){var m=l[w].depend.calc.call(b,c);0!==b._validateItemValue(w,m,!0).length&&d(eb,[b._model?b._model.name:qa,w,m]);k[w]={oldValue:b._values[w],newValue:m};l[w]&&q(l[w].type)?m?(b._values[w].copyFrom(m),
b._nullProps[w]=!1):(b._values[w].copyFrom([]),b._nullProps[w]=!0):b._values[w]=m}else i.push(w)}n(i,g);g=i}return k}function b(a,b,c,i){for(var f in c){f in a||d(ga,[i?i.name:qa,f]);var e=c[f];if(!a[f]||!q(a[f].type)||c.hasOwnProperty(f))e=b(f,e,i&&i._idKey===f),0<e.length&&d(w,[i?i.name:qa,f],e)}}function f(b,i,f,n){var g=b.schema||b._model.schema,l=[],j;for(j in i)if(!(f&&-1!==a.inArray(j,f))){var w=b._values[j],s=i[j];if(g[j]&&g[j].depend)w!==s&&d(v,[b._model?b._model.name:qa,j]);else{var m=g[j]&&
g[j].type;q(m)&&(null==s?(s=[],b._nullProps[j]=!0):b._nullProps[j]=!1);if(m&&m.match(/string|number|integer|boolean/)){var E=s;if(M(E)){for(var E=E.slice(0),s=0,P=E.length;s<P;s++)E[s]=E[s]&&"object"===typeof E[s]?E[s]&&E[s].valueOf&&E[s].valueOf():E[s];s=E}else s=E&&"object"===typeof E&&E.valueOf?E.valueOf():E}if(null!=s&&m&&m.match(/number|integer/)&&"number"!==typeof s)if(M(s)||e.core.data.isObservableArray(s)){E=0;for(P=s.length;E<P;E++)null!=s[E]&&x(s[E])&&(s[E]=parseFloat(s[E]))}else null!=
s&&(s=parseFloat(s));if(!q(m)||!w||!w.equals(s,w))w===s||k(w)&&k(s)||(m&&-1!==m.indexOf("[]")&&e.core.data.isObservableArray(w)&&(w=w.toArray()),l.push({p:j,o:w,n:s}))}}if(l.length){i={};f=[];E=0;for(j=l.length;E<j;E++)w=l[E],g[w.p]&&q(g[w.p].type)?w.n&&b._values[w.p].copyFrom(w.n):b._values[w.p]=w.n,i[w.p]={oldValue:w.o,newValue:b.get(w.p)},f.push(w.p);g={type:!0===n?"create":"change",target:b,props:i};a.extend(i,c(b,g,f,n));return g}}function l(a){var b=a._manager,a=a.name;b._updateLogs||(b._updateLogs=
{});b._updateLogs[a]||(b._updateLogs[a]={});return b._updateLogs[a]}function N(a,b,c){if(a._manager)for(var d=l(a),i=0,f=c.length;i<f;i++){var e=c[i],n=e._values[a._idKey];d[n]||(d[n]=[]);d[n].push({type:b,item:e})}}function J(a,b){if(a._manager){var c=l(a),d=b.target._values[a._idKey];c[d]||(c[d]=[]);c[d].push({type:$a,ev:b})}}function g(b){var c={},d;for(d in b)if(b.hasOwnProperty(d)){var i=b[d]?b[d].depend:null;if(i)for(var i=R(i.on),f=0,e=i.length;f<e;f++){var n=i[f];c[n]||(c[n]=[]);-1===a.inArray(d,
c[n])&&c[n].push(d)}}return c}function F(b,c){O(b,c,!0);var d;d=(d=b.base)?c.models[d.slice(1)].schema:{};d=a.extend({},d,b.schema);D(d,!0,c,!0);var i=H(d,!0,c);I(d,i,!0);return new xa(d,b,i,c)}function S(b,c){var d=[],i=[],f=[],e;for(e in b)b[e]&&b[e].depend?i.push(e):d.push(e),b[e]&&b[e].type&&-1!==b[e].type.indexOf("[]")&&f.push(e);e=g(b);var n={},l;for(l in b){var j=b[l];if(!j||!j.depend){var s=null,s=j&&void 0!==j.defaultValue?j.defaultValue:null;n[l]=s}}return{_realProps:d,_dependProps:i,_aryProps:f,
_dependencyMap:e,_createInitialValueObj:function(b){if(!b)return a.extend({},n);var c=a.extend({},n),d;for(d in b)c[d]=b[d];return c},_validateItemValue:function(a,b,d){return c[a](b,d)}}}function r(b,c,i,f){var g=!1,l=["sort","reverse","pop","shift"],j=null;i.addEventListener("changeBefore",function(i){f&&(b._isRemoved||!f._manager)&&d(n,[b._values[f._idKey],i.method]);var s=e.u.obj.argsToArray(i.args);if(-1===a.inArray(i.method,l)){var k=!0;switch(i.method){case "splice":k=!1;s.shift();s.shift();
break;case "copyFrom":s=s[0];break;case "set":s.shift()}k&&(i=b._validateItemValue(c,s),0<i.length&&d(w,c,i))}f?(f._manager&&(i=f._manager,s=f.name,i._oldValueLogs||(i._oldValueLogs={}),i._oldValueLogs[s]||(i._oldValueLogs[s]={}),i=i._oldValueLogs[s],s=b._values[f._idKey],i[s]||(i[s]={}),i[s][c]||(i[s][c]=b._values[c].toArray())),(g=f._manager?f._manager.isInUpdate():!1)||f._manager.beginUpdate()):j=b._values[c].toArray()});i.addEventListener("change",function(a){if(!(b._isInSet||null===a.method)){var d=
{type:"change",target:b,props:{}};d.props[c]={};f?(J(f,d),g?a.stopImmediatePropagation():(f._manager._isArrayPropChangeSilentlyRequested=!0,f._manager.endUpdate(),f._manager._isArrayPropChangeSilentlyRequested=!1)):i.equals(j)||(d.props[c]={oldValue:j,newValue:b._values[c]},b.dispatchEvent(d))}})}function t(a){la(a)||d(fa);this.models={};this.name=a;this._updateLogs=null;this._isArrayPropChangeSilentlyRequested=!1}function xa(a,b,c,d){this.items={};this.size=0;this.name=b.name;this._manager=d;for(var i in a)a[i]&&
a[i].id&&(this._idKey=i);this._idType=(b=a[this._idKey].type)?"string"===b?T:Sa:T;this.schema=a;this._itemConstructor=ma(a,c,this);d.models[this.name]=this}function ma(c,d,i){function n(a){j(this,c,g,a);a=g._createInitialValueObj(a);b(c,g._validateItemValue,a,i);f(this,a,null,!0);for(var a=g._aryProps,d=0,e=a.length;d<e;d++)r(this,a[d],this.get(a[d]),i)}var g=S(c,d);i._schemaInfo=g;e.mixin.eventDispatcher.mix(n.prototype);a.extend(n.prototype,g,ab,{_model:i,_isRemoved:!1,getModel:function(){return this._isRemoved?
null:this._model}});return n}function ya(){}function ea(){this.length=0;this._src=[]}function na(){return new ea}function U(a){return a&&a.constructor===ea?!0:!1}var T="string",Sa="number",fa=15E3,$=15001,n=15005,L=15008,E=15009,w=15011,v=15012,ga=15013,eb=15016,oa=15900,pa=15901,ta=15902,Xa=15903,ua=15904,i=6,s=15800,P=15801,Y=15802,W=15803,X=15804,Na=15805,Ya=15806,Ca=15807,Pa=15808,Za=15809,Qa=15810,Ra=15811,ra=15812,V=15813,aa=15814,ba=15815,Z=15816,ca=15817,va=15818,wa=15819,Da=15820,Oa=15821,
Ea=15822,Ua=15823,Va=15824,qa="n/a",$a=2,ab={get:function(b){if(0===arguments.length)return a.extend({},this._values);var c=this._model;(c?c.schema:this.schema).hasOwnProperty(b)||d(15014,[c?c.name:qa,b]);return this._values[b]},set:function(a){var c=a;2===arguments.length&&(c={},c[arguments[0]]=arguments[1]);var i=this._model;i&&(this._isRemoved||!i._manager)&&d(n,[this._values[this._model._idKey],"set"],this);if(i)i._idKey in c&&c[i._idKey]!==this._values[i._idKey]&&d(15003,[i.name,this._idKey]),
b(i.schema,i._schemaInfo._validateItemValue,c,i);else{var e=this.validate(c);if(e)throw e;}var e=null,g=i?i._manager.isInUpdate():!1;i&&!g&&i._manager.beginUpdate();this._isInSet=!0;e=f(this,c);this._isInSet=!1;i?(e&&J(i,e),g||i._manager.endUpdate()):e&&this.dispatchEvent(e)},regardAsNull:function(a){return this._isArrayProp(a)?!0===this._nullProps[a]:null===this._values[a]},_isArrayProp:function(a){var b=this._model?this._model.schema:this.schema;return b[a]&&b[a].type&&-1<b[a].type.indexOf("[]")?
!0:!1}};e.mixin.eventDispatcher.mix(t.prototype);a.extend(t.prototype,{createModel:function(b){(!b||"object"!==typeof b)&&d($,null,[A(oa)]);if(!M(b))return this.models[b.name]?this.models[b.name]:F(b,this);var c=b.length;c||d($,null,[A(oa)]);for(var i={},f=[],e=0;e<c;e++){var n=b[e].name;if(this.models[n])w[e]=manager.models[b.name];else try{f.push(n);n=[];b[e].base&&n.push(b[e].base.substring(1));for(var g in b[e].schema){var l=b[e].schema[g];if(l){var j=l.type;j&&"@"===j.substring(0,1)&&(j=-1===
j.indexOf("[]")?j.substring(1):j.substring(1,j.length-2),n.push(j))}}i[e]={depends:n}}catch(s){d($)}}for(var w={size:0};w.size<c;){g={};l=!1;for(e=0;e<c;e++)if(!i[e].registed){for(var n=i[e].depends,j=0,k=n.length;j<k;j++)if(!this.models[n[j]]){g[n[j]]=!0;break}j===k&&(w[e]=F(b[e],this),w.size++,l=!0,i[e].registed=!0)}if(!l){var e=!0,E;for(E in g)if(-1===a.inArray(E,f)){e=!1;break}e&&d(15004);d($,null,[A(Xa,E)])}}b=[];for(e=0;e<c;e++)b.push(w[e]);return b},dropModel:function(a){if((a=y(a)?a:"object"===
typeof a?a.name:null)&&this.models[a]){var b=this.models[a];b._manager=null;delete this.models[a];return b}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var a=!this._isArrayPropChangeSilentlyRequested,b=this._updateLogs,c=this._oldValueLogs;this._oldValueLogs=this._updateLogs=null;var d={},i;for(i in b)if(b.hasOwnProperty(i)){var f;f=this.models[i];var e=b[i],n=[],g=[],l=[],j=[],s=
void 0;for(s in e){for(var w=e[s],E=!0,m=[],v=w.length-1;0<=v;v--){var P=w[v],L=P.type;if(L===$a)m.push(P.ev);else{a:{for(E=0;E<v;E++){var q=w[E].type;if(1===q||3===q){v=w[E];break a}}v=null}if(1===L)v&&3===v.type?n.push({id:s,oldItem:v.item,newItem:P.item}):g.push(P.item);else if(v=v&&3===v.type?v.item:v?null:P.item)j.push(v),v.dispatchEvent({type:"remove",model:f});E=!1;break}}if(E&&0<m.length){P={};for(v=m.length-1;0<=v;v--)for(var Y in m[v].props)P[Y]||(U(f.get(s).get(Y))?(L=c&&c[f.name]&&c[f.name][s]&&
c[f.name][s][Y],f.get(s).get(Y).equals(L)||(P[Y]={oldValue:L})):P[Y]={oldValue:m[v].props[Y].oldValue});v=!1;for(Y in P)L=P[Y].oldValue,w=f.get(s).get(Y),L===w||k(L)&&k(w)?delete P[Y]:(v=f.get(s).get(Y),a&&U(v)&&v.dispatchEvent({type:"change",method:null,args:null,returnValue:null}),P[Y].newValue=v,v=!0);v&&(m={type:"change",target:m[0].target,props:P},l.push(m),m.target.dispatchEvent(m))}}(f=0===g.length&&0===n.length&&0===j.length&&0===l.length?!1:{created:g,recreated:n,removed:j,changed:l})&&(d[i]=
f)}a=!1;for(i in d)a=!0,f=d[i],this.models[i].dispatchEvent({type:"itemsChange",created:f.created,recreated:f.recreated,removed:f.removed,changed:f.changed});d={type:"itemsChange",models:d};a&&this.dispatchEvent(d)}},_dataModelItemsChangeListener:function(a){var b=a.target.manager,c={};c[a.target.name]=a;b.dispatchEvent({type:"itemsChange",models:c})}});e.mixin.eventDispatcher.mix(xa.prototype);a.extend(xa.prototype,{create:function(a){this._manager||d(15006,[this.name,"create"]);var b=this.validate(a,
!0);if(b)throw b;(b=this._manager?this._manager.isInUpdate():!1)||this._manager.beginUpdate();for(var c=[],i=R(a),e=[],n=this._idKey,g=0,l=i.length;g<l;g++){var j=i[g],s=j[n],w=this._findById(s);w?(e.push(w),(s=f(w,j,[n]))&&J(this,s)):(j=new this._itemConstructor(j),this.items[s]=j,this.size++,c.push(j),e.push(j))}0<c.length&&N(this,1,c);b||this._manager.endUpdate();return M(a)?e:e[0]},validate:function(a,c){try{var i=this._idKey,f=R(a);"object"!==typeof a&&!M(a)&&d(15007);if(c)for(var e=0,n=f.length;e<
n;e++){var g=f[e],j=g[i];(""===j||null==j)&&d(15002,[this.name,i]);var l=this._schemaInfo._createInitialValueObj(g);b(this.schema,this._schemaInfo._validateItemValue,l,this)}else for(var e=0,s=f.length;e<s;e++)g=f[e],b(this.schema,this._schemaInfo._validateItemValue,g,this)}catch(w){return w}return null},get:function(a){if(M(a)||e.core.data.isObservableArray(a)){for(var b=[],c=0,d=a.length;c<d;c++)b.push(this._findById(a[c]));return b}return this._findById(a)},remove:function(a){this._manager||d(15006,
[this.name,"remove"]);var b=this._manager?this._manager.isInUpdate():!1;b||this._manager.beginUpdate();for(var c=this._idKey,i=R(a),f=[],e=[],n=0,g=i.length;n<g;n++)if(this.has(i[n])){var j=y(i[n])||C(i[n],!0)?i[n]:i[n]._values[c],l=this.items[j];delete this.items[j];this.size--;e.push(l);l._model&&(l._isRemoved=!0);f.push(l)}else e.push(null);0<f.length&&N(this,3,f);b||this._manager.endUpdate();return M(a)?e:e[0]},removeAll:function(){var a=this.toArray();0<a.length&&this.remove(a);return a},has:function(a){return y(a)||
C(a,!0)?!!this._findById(a):"object"===typeof a?null!=a&&Q(a.get)&&a===this.items[a.get(this._idKey)]:!1},getManager:function(){return this._manager},_findById:function(a){a=this.items[a];return typeof a===ja?null:a},_dispatchItemsChangeEvent:function(a){a={type:"itemsChange",created:[],recreated:[],removed:[],changed:[a]};this.dispatchEvent(a);this._manager&&(a.target=this,this._manager._dataModelItemsChangeListener(a))},toArray:function(){var a=[],b=this.items,c;for(c in b)b.hasOwnProperty(c)&&
a.push(b[c]);return a}});e.mixin.eventDispatcher.mix(ya.prototype);a.extend(ya.prototype,ab,{validate:function(a){try{var c=a;2===arguments.length&&(c={},c[arguments[0]]=arguments[1]);b(this.schema,this._validateItemValue,c)}catch(d){return d}return null}});e.mixin.eventDispatcher.mix(ea.prototype);var Ia={equals:function(a){var b=this.length;if(!M(a)&&!U(a)||a.length!==b)return!1;for(var a=U(a)?a._src:a,c=0;c<b;c++){var d=this[c],i=a[c];if(!(d===i||k(d)&&k(i)))return!1}return!0},copyFrom:function(a){null==
a&&(a=[]);a=U(a)?a._src:a;M(a)||d(15010,[0,a]);a=a.slice(0);a.unshift(0,this.length);Array.prototype.splice.apply(this,a)},get:function(a){return this[a]},set:function(a,b){this[a]=b},toArray:function(){return this.slice(0)},concat:function(){for(var a=e.u.obj.argsToArray(arguments),b=0,c=a.length;b<c;b++)U(a[b])&&(a[b]=a[b].toArray());return this.concat.apply(this,a)}},Fa="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),
ka;for(ka in Ia)Ia.hasOwnProperty(ka)&&-1===a.inArray(ka,Fa)&&Fa.push(ka);var Ja=["concat","slice","splice","filter","map"],Ka=["reverse","sort"],fb="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");ka=0;for(var hb=Fa.length;ka<hb;ka++){var cb=Fa[ka];ea.prototype[cb]=function(b){function c(){var i=d.apply(this._src,arguments);if(-1!==a.inArray(b,Ka))i=this;else if(-1!==a.inArray(b,Ja)){var f=na();f.copyFrom(i);i=f}return i}var d=Ia[b]?Ia[b]:Array.prototype[b];return-1===a.inArray(b,
fb)?c:function(){if(!this.dispatchEvent({type:"changeBefore",method:b,args:arguments})){var a=c.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:b,args:arguments,returnValue:a});return a}}}(cb)}e.u.obj.expose("h5.core.data",{createManager:function(a,b){la(a)||d(fa);var c=new t(a);if(null!=b){""===b&&(b="window");var i={};i[a]=c;e.u.obj.expose(b,i)}return c},createObservableArray:na,createObservableItem:function(a){D(a,!1,null,!0);var c=H(a);I(a,c,!0);var d=
new ya,c=S(a,c);j(d,a,c);d.schema=a;for(var i in c)d[i]=c[i];i=c._createInitialValueObj();b(a,c._validateItemValue,i);f(d,i,null,!0);a=0;for(c=d._aryProps.length;a<c;a++)r(d,d._aryProps[a],d.get(d._aryProps[a]));return d},isObservableArray:U,isObservableItem:function(a){return!(!a||!a.constructor||!a._validateItemValue||Q(a.getModel))},createSequence:function(b,c,d){function i(){return j}function f(){var a=j;j+=l;return a}function e(){return j.toString()}function n(){var a=j;j+=l;return a.toString()}
function g(){}var j=null!=b?b:1,l=null!=c?c:1,b=1===d?{current:e,next:n,returnType:1}:{current:i,next:f,returnType:2};b.setCurrent=function(a){j=a};a.extend(g.prototype,b);return new g},SEQ_STRING:1,SEQ_INT:2})})();(function(){function m(a,b){return!a||a.nodeType!==ba?void 0:a.getAttribute(b)}function G(a){if(!a)return null;for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b}function k(a,b,c,d){var f=[],b=R(b);if(!0===d)return x(f,a,b,c),f;for(var a=a.childNodes,d=0,e=a.length;d<e;d++)x(f,a[d],
b,c);return f}function x(a,b,c,d){if(b.nodeType===ba){for(var f=0,e=c.length;f<e;f++){var g=b.getAttribute(c[f]);if(typeof d===ja){if(null!==g){a.push(b);break}}else if(null!==g&&g==d){a.push(b);break}}if(0<b.childNodes.length){b=b.childNodes;f=0;for(e=b.length;f<e;f++)x(a,b[f],c,d)}}}function C(b,c){for(var b=R(b),d=[],e=0,g=b.length;e<g;e++){var j=b[e];if(j.nodeType===ba&&!(!0===c&&(null!=m(j,l)||null!=m(j,N))))for(var q=k(j,f,void 0,!0),t=0,r=q.length;t<r;t++){for(var o=!0,p=q[t];null!=p&&p!==
j;p=p.parentNode)if(null!=m(p,l)||null!=m(p,N)){o=!1;break}o&&d.push(q[t])}}return a(d)}function y(b,c,d){for(var f=[],e=0,g=b.length;e<g;e++){var j=b[e];if(j.nodeType===ba){if(!0===d){if(null!=j.getAttribute(c)){f.push(j);continue}if(null!=m(j,l)||null!=m(j,N))continue}for(var q=k(j,c,void 0,!1),t=0,r=q.length;t<r;t++){var p=a(q[t])[0],o=p.parentNode;(null==m(o,l)&&null==m(o,N)||o===j)&&f.push(p)}}}return a(f)}function D(a){return a&&a.addEventListener&&a.getModel&&!M(a)&&!e.core.data.isObservableArray(a)||
e.core.data.isObservableItem(a)?!0:!1}function I(a,b){for(var c=0,d=a.length;c<d;c++){var f=a[c];f.nodeType===ba&&f.setAttribute(g,b)}}function H(b,c,f){var g=U++,j=c[0];a(j).empty();if(f){!M(f)&&!e.core.data.isObservableArray(f)&&d(ea);I(c,g);b._addBindingEntry(f,j,g);e.core.data.isObservableArray(f)&&!b._isWatching(f)&&(c=function(a){b._observableArray_changeListener(a)},b._listeners[b._getContextIndex(f)]=c,f.addEventListener("change",c));var c=m(j,J),c=G(b._getSrcCtxNode(c).childNodes),l=[];b._loopElementsMap[g]=
l;for(var g=j.ownerDocument.createDocumentFragment(),k=f.get?function(a){return f.get(a)}:function(a){return f[a]},q=0,t=f.length;q<t;q++){for(var r=[],p=0,o=c.length;p<o;p++){var i=$(c[p]);r.push(i);g.appendChild(i)}l[q]=r;j.appendChild(g);u(b,r,k(q),!1,!0)}}}function u(a,b,c,f,g){b=R(b);if(f)H(a,b,c);else{f=U++;c&&(("object"!==typeof c||M(c)||e.core.data.isObservableArray(c))&&d(ea),I(b,f),a._addBindingEntry(c,b,f));var j=D(c);j&&!a._isWatching(c)&&(f=function(b){a._observableItem_changeListener(b)},
a._listeners[a._getContextIndex(c)]=f,c.addEventListener("change",f));C(b,g).each(function(){p(this,c,j)});o(a,b,c,!1,g);o(a,b,c,!0,g)}}function o(a,b,c,d,f){var e=d?"data-h5-loop-context":"data-h5-context";y(b,e,f).each(function(){var b=m(this,e),f=null;c&&(f=D(c)?c.get(b):c[b]);u(a,this,f,d)})}function p(b,c,e){for(var g=m(b,f).split(t),j=[],l=[],k=[],q=0,p=g.length;q<p;q++){var o=g[q];if(-1===o.indexOf(r))0<a.trim(o).length&&(j.push(null),l.push(null),k.push(a.trim(o)));else{var A=o.split(r),o=
a.trim(A[0]),A=a.trim(A[1]),u=null,i=xa.exec(o);i&&(u=i[1],o=/(\S+)[\s\(]/.exec(o)[1]);0<o.length&&0<A.length&&(j.push(o),l.push(u),k.push(A))}}g=b.tagName.toLowerCase();q=a(b);p=0;for(o=j.length;p<o;p++){var u=j[p],i=l[p],s=k[p],A=null;c&&(A=e?c.get(s):c[s]);null==u&&("input"===g?(u="attr",i="value"):u="text");switch(u){case "text":null==A?q.text(""):q.text(A);break;case "html":null==A?q.html(""):q.html(A);break;case "class":var u=m(b,S),s=(i=null==u)?"":" ",P=!1;A&&(P=!RegExp("\\s"+A+"\\s").test(" "+
u+" "));q[0].className=(i?"":u)+(P?s+A:"");break;case "attr":i||d(ma);"input"===g&&"value"===i?null==A?q.val(""):q.val(A):null==A?q.removeAttr(i):q.attr(i,A);break;case "style":i||d(ma);null==A?q.css(i,""):q.css(i,A);break;default:d(Q)}}}function j(a,b,c){for(var d=0,f=c.length;d<f;d++){var e=c[d];b.removeChild(e);a._removeBinding(e)}}function q(a){for(var a=a.childNodes,b=[],c=0,d=a.length;c<d;c++)b.push($(a[c]));return b}function A(a,b,c,d,f){for(var e=c.ownerDocument.createDocumentFragment(),g=
[],j=0,l=f.length;j<l;j++){var k=q(c);g[j]=k;for(var m=0,t=k.length;m<t;m++)e.appendChild(k[m]);u(a,k,f[j])}Array.prototype[d].apply(b,g);return e}function c(a,b,c,d,f,e){var g=d.length;if(0!==g){for(var l=d[0],k=l,c=1===g?c.length:k+d[1];k<c;k++){var m=f[k];m&&j(a,b,m)}f.splice(l,d[1]);if(!(2>=g)){k=f.length;k=0===k||0===l?b.firstChild:l>=k?null:f[l][0];c=e.ownerDocument.createDocumentFragment();l=[l,0];for(m=2;m<g;m++){for(var t=q(e),o=0,i=t.length;o<i;o++)c.appendChild(t[o]);u(a,t,d[m]);l.push(t)}b.insertBefore(c,
k);Array.prototype.splice.apply(f,l)}}}function b(a,b){void 0!==a.nodeType?a.nodeType===ba&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=G(a));this._bindRootId=T++;V[this._bindRootId]=this;for(var c=[],d=0,e=this._targets.length;d<e;d++){var g=this._targets[d];if(g.nodeType===ba){g.setAttribute(F,this._bindRootId);for(var j=k(g,[l,N],void 0,!0),q=0,t=j.length;q<t;q++){var o=na++;j[q].setAttribute(J,o)}j=k(g,f,void 0,!0);q=0;for(t=j.length;q<t;q++)o=j[q],
/class\s*:/.test(m(o,f))&&""!=o.className&&o.setAttribute(S,o.className)}c.push(g.cloneNode(!0))}this._srces=c;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};u(this,this._targets,this._rootContext,!1,!0)}var f="data-h5-bind",l="data-h5-context",N="data-h5-loop-context",J="data-h5-dyn-ctx",g="data-h5-dyn-vid",F="data-h5-dyn-bind-root",S="data-h5-dyn-cn",r=":",t=";",xa=/\(\s*(\S+)\s*\)/,ma=7100,Q=7101,ea=7102,na=0,U=0,T=0,V={},fa={},$;(function(){var b=
document.createElement("div");b.h5Dummy="a";var c=b.cloneNode(!1),d=void 0!==c.h5Dummy;b.h5Dummy=void 0;d?(c.h5Dummy=void 0,$=function(b){var c=b.ownerDocument;return b.nodeType===ba?a(a.trim(b.outerHTML),c)[0]:b.cloneNode(!0)}):$=function(a){return a.cloneNode(!0)}})();a.extend(b.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var c=this._targets[a];if(c.nodeType===ba){this._removeBinding(c);c.removeAttribute(F);for(var d=k(c,S,void 0,!0),f=0,e=d.length;f<e;f++)d[f].removeAttribute(S);
c=k(c,J,void 0,!0);f=0;for(d=c.length;f<d;f++)c[f].removeAttribute(J)}}delete V[this._bindRootId]},_observableArray_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b)for(var d in b)if(b.hasOwnProperty(d)){var f=b[d],e=this._getSrcCtxNode(m(f,J)),g=this._loopElementsMap[d];switch(a.method){case "set":c(this,f,a.target,[a.args[0],1,a.args[1]],g,e);break;case "shift":case "pop":var l=g[a.method]();l&&j(this,f,l);break;case "unshift":l=A(this,g,e,a.method,a.args);f.insertBefore(l,
f.firstChild);break;case "push":l=A(this,g,e,a.method,a.args);f.appendChild(l);break;case "splice":c(this,f,a.target,a.args,g,e);break;case "reverse":for(var l=f,k=g;l.firstChild;)l.removeChild(l.firstChild);for(var t=0,f=k.length;t<f;t++)for(var e=k[t],o=e.length-1;0<=o;o--)l.insertBefore(e[o],l.firstChild);g.reverse();break;case "sort":case "copyFrom":case null:for(var l=this._loopElementsMap,k=d,t=a.target,o=g,g=e,e=0,p=o.length;e<p;e++)j(this,f,o[e]);for(var o=f.ownerDocument.createDocumentFragment(),
p=[],e=0,r=t.length;e<r;e++){var i=q(g);p[e]=i;for(var s=0,P=i.length;s<P;s++)o.appendChild(i[s]);u(this,i,t.get(e))}f.appendChild(o);l[k]=p}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b){var c=!1;a.target===this._rootContext&&(c=!0);var d=this,f;for(f in b)if(b.hasOwnProperty(f)){var e=b[f];C(e,c).each(function(){p(this,a.target,!0)});y(e,l).each(function(){var b=m(this,l);if(!(b in a.props))return!0;d._removeBinding(this);var c=m(this,J),c=d._getSrcCtxNode(c),
c=$(c);this.parentNode.replaceChild(c,this);u(d,c,a.props[b].newValue)});y(e,N).each(function(){var b=m(this,N);if(!(b in a.props)||a.target._isArrayProp(b))return!0;d._removeBinding(this);u(d,this,a.props[b].newValue,!0)})}}},_getSrcCtxNode:function(a){for(var b=0,c=this._srces.length;b<c;b++){var d=this._srces[b];if(m(d,J)===a)return d;d=k(d,J,a);if(0<d.length)return d[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(b){return a.inArray(b,
this._usingContexts)},_addBindingEntry:function(a,b,c){var d=this._getContextIndex(a);-1===d&&(this._usingContexts.push(a),d=this._usingContexts.length-1);fa[c]=a;(a=this._srcToViewMap[d])?a[c]=b:(a={},a[c]=b,this._srcToViewMap[d]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=fa[a];if(b){var c=this._getContextIndex(b);if(-1!==c){var d=this._srcToViewMap[c];d&&d[a]&&(delete d[a],this._hasBindingForSrc(d)||(d=!1,D(b)?
(b.removeEventListener("change",this._listeners[c]),d=!0):e.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[c]),d=!0),d&&delete this._listeners[c],delete this._srcToViewMap[c],this._usingContexts[c]=null))}fa[a]&&delete fa[a]}},_removeBinding:function(a){if(a.nodeType===ba){var b=m(a,g);null!=b&&(this._removeBindingEntry(b),a.removeAttribute(g));for(var a=k(a,g),b=0,c=a.length;b<c;b++){var d=a[b];this._removeBindingEntry(m(d,g));d.removeAttribute(g)}}},_getViewsFromSrc:function(a){a=
this._getContextIndex(a);return-1===a?null:this._srcToViewMap[a]}});nb={createBinding:function(a,c){return new b(a,c)}}})();(function(){function m(d){return e.u.obj.isJQueryObject(d)?d:a(d)}function G(){this.__cachedTemplates={}}var k="[",x=7001,C=7002,O=7003,D=7010,I=7011,H=e.async.deferred,u={escapeHtml:function(a){return e.u.str.escapeHtml(a)}},o={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(a,d,e){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);
this.cache[a]={};this.cache[a].templates=d;this.cache[a].path=e;this.cacheUrls.push(a)},deleteCache:function(a,d){d||delete this.cache[a];for(var e=0,c=this.cacheUrls.length;e<c;e++)if(this.cacheUrls[e]===a){this.cacheUrls.splice(e,1);break}},getTemplateByUrls:function(j){function m(b){if(0!==b.length){var c={},f=[];b.each(function(){var b=a.trim(this.id),e=a.trim(this.innerHTML);b||d(C,null,{});try{var g=new EJS.Compiler(e,k);g.compile();c[b]=g.process;f.push(b)}catch(j){e=j.lineNumber,d(D,[e?" line:"+
e:"",j.message],{id:b,error:j,lineNo:e})}});return{compiled:c,data:{ids:f}}}}function o(b,c,d){e.ajax(c,{dataType:"text"}).done(function(c,f,e){delete l.accessingUrls[b];c=a(e.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});f=this.url;if(0<c.not('script[type="text/ejs"]').length)d.reject(ca(I,null,{url:b,path:f}));else{e=null;try{e=m(c.filter('script[type="text/ejs"]'))}catch(g){g.detail.url=b;g.detail.path=f;d.reject(g);return}var j,k;try{var o=
e.compiled;k=e.data;k.path=f;k.absoluteUrl=b;j=o;l.append(b,o,f)}catch(p){d.reject(ca(x,null,{error:p,url:b,path:f}));return}d.resolve({ret:j,data:k})}}).fail(function(a){delete l.accessingUrls[b];d.reject(ca(O,[a.status,b],{url:b,path:c,error:a}))})}for(var c={},b=[],f=[],l=this,p=function(a){var b=l.cache[a].templates;l.deleteCache(a,!0);l.cacheUrls.push(a);return b},u=0;u<j.length;u++){var g=j[u],F=Z(g);if(this.cache[F])a.extend(c,p(F)),f.push({absoluteUrl:F});else if(this.accessingUrls[F])b.push(this.accessingUrls[F]);
else{var G=e.async.deferred();b.push(this.accessingUrls[F]=G.promise());o(F,g,G)}}var r=H();e.async.when(b).done(function(){for(var b=e.u.obj.argsToArray(arguments),d=0,g=b.length;d<g;d++)a.extend(c,b[d].ret),f.push(b[d].data);r.resolve(c,f)}).fail(function(a){r.reject(a)});return r.promise()}};a.extend(G.prototype,{load:function(e){var k=H(),m=this,c=null;switch(a.type(e)){case "string":a.trim(e)||d(7004);c=[e];break;case "array":c=e;0===c.length&&d(7004);for(var e=0,b=c.length;e<b;e++)y(c[e])?a.trim(c[e])||
d(7004):d(7004);break;default:d(7004)}o.getTemplateByUrls(c).done(function(b,c){a.extend(m.__cachedTemplates,b);k.resolve(c)}).fail(function(a){k.reject(a)});return k.promise()},getAvailableTemplates:function(){var a=[],d;for(d in this.__cachedTemplates)a.push(d);return a},register:function(e,m){"string"!==a.type(m)?d(7E3,null,{id:e}):(!y(e)||!a.trim(e))&&d(C,[]);try{var o=new EJS.Compiler(m,k);o.compile();this.__cachedTemplates[e]=o.process}catch(c){o=c.lineNumber,d(D,[o?" line:"+o:"",c.message],
{id:e})}},isValid:function(a){try{return(new EJS.Compiler(a,k)).compile(),!0}catch(d){return!1}},get:function(e,k){var m=this.__cachedTemplates;(!y(e)||!a.trim(e))&&d(C);(m=m[e])||d(7005,e);var c=k?a.extend(!0,{},k):{},b=c.hasOwnProperty("_h")?new EJS.Helpers(c):new EJS.Helpers(c,{_h:u}),f=null;try{f=m.call(c,c,b)}catch(l){d(7006,l.toString(),l)}return f},update:function(a,d,e){return m(a).html(this.get(d,e))},append:function(a,d,e){return m(a).append(this.get(d,e))},prepend:function(a,d,e){return m(a).prepend(this.get(d,
e))},isAvailable:function(a){return!!this.__cachedTemplates[a]},clear:function(e){if(typeof e===ja)this.__cachedTemplates={};else{var k=null;switch(a.type(e)){case "string":k=[e];break;case "array":e.length||d(C);k=e;break;default:d(C)}for(var e=0,m=k.length;e<m;e++){var c=k[e];(!y(c)||!a.trim(c))&&d(C)}e=0;for(m=k.length;e<m;e++)delete this.__cachedTemplates[k[e]]}},bind:function(j,k){var m=null;null==j&&d(7007);M(j)?m=j:(m=a(j),0===m.length&&d(7007),m=m.toArray());(null==k||"object"!==typeof k||
M(k)||e.core.data.isObservableArray(k))&&d(7009);return nb.createBinding(m,k)}});var p=new G;p.createView=function(){return new G};a(function(){a('script[type="text/ejs"]').each(function(){var d=a.trim(this.id),e=a.trim(this.innerHTML);0!==e.length&&d&&(e=new EJS.Compiler(e,k),e.compile(),p.__cachedTemplates[d]=e.process)})});e.u.obj.expose("h5.core",{view:p})})();(function(){function d(b){var c={},f;for(f in fa){var e=a("<div></div>").addClass(b).addClass(f).appendTo("body"),g=a.camelCase(f);c[g]=
{};a.map(fa[f],function(a){c[g][a]="width"===a||"height"===a?parseInt(e.css(a).replace(/\D/g,""),10):e.css(a)});e.remove()}return c}function G(a,b,c){var a=b.createElement("v:"+a),d;for(d in c)a.style[d]=c[d];return a}function k(a,b){for(var c=[],d=a/2,f=0.8*a/2,e=360/b*Math.PI/180,g=1;g<=b;g++){var l=e*g,j=Math.cos(l),l=Math.sin(l);c.push({from:{x:d+f/2*j,y:d+f/2*l},to:{x:d+f*j,y:d+f*l}})}return c}function x(a){return function(){var b=document.body,c=document.documentElement,d=L?b:E?c:null;return d?
"Height"===a?d["client"+a]>d["scroll"+a]?d["client"+a]:d["scroll"+a]:d["client"+a]:Math.max(b["scroll"+a],c["scroll"+a],b["offset"+a],c["offset"+a],c["client"+a])}}function C(a){return function(){var b=L?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function O(a){var b=L?document.body:document.documentElement;return U.isiOS?window["inner"+a]:b["client"+a]}function D(b){var c=a(b)[0],d=document.body,f=a("html")[0],b={top:0,left:0};if(c===
d&&E)return{top:parseFloat(f.currentStyle.paddingTop||0)+parseFloat(d.currentStyle.marginTop||0)+parseFloat(d.currentStyle.borderTop||0),left:parseFloat(f.currentStyle.paddingLeft||0)+parseFloat(d.currentStyle.marginLeft||0)+parseFloat(d.currentStyle.borderLeft||0)};"undefined"!==typeof c.getBoundingClientRect&&(b=c.getBoundingClientRect());d=L?d:document.documentElement;c=d.clientTop||0;d=d.clientLeft||0;return{top:b.top+pa()-c,left:b.left+ta()-d}}function I(){a.each(ba(arguments),function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",
function(){return!1})})}function H(a){a=aa(a)?a[0]:a;return a===window||a===document||a===document.body}function u(a){return V(T(a)).getComputedStyle(a,null)}function o(b,c){return!V(T(b)).getComputedStyle?a(b).css(c):u(b)[c]}function p(b){if(!V(T(b)).getComputedStyle)return a(b).height();var c=u(b);return b.offsetHeight-parseFloat(c.paddingTop)-parseFloat(c.paddingBottom)}function j(b){if(!V(T(b)).getComputedStyle)return a(b).width();var c=u(b);return b.offsetWidth-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight)}
function q(b,c){if(!V(T(b)).getComputedStyle)return a(b).outerHeight();var d=u(b);return p(b)+parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)+parseFloat(d.borderTopWidth)+parseFloat(d.borderBottomWidth)+(c?parseFloat(d.marginTop)+parseFloat(d.marginBottom):0)}function A(b,c){if(!V(T(b)).getComputedStyle)return a(b).outerWidth();var d=u(b);return j(b)+parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)+parseFloat(d.borderLeftWidth)+parseFloat(d.borderRightWidth)+(c?parseFloat(d.marginLeft)+parseFloat(d.marginRight):
0)}function c(b){if(!V(T(b)).getComputedStyle)return a(b).innerHeight();var c=u(b);return p(b)+parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)}function b(b){if(!V(T(b)).getComputedStyle)return a(b).innerWidth();var c=u(b);return j(b)+parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)}function f(b,c,d,f){function e(){l+=g;l>d?(clearInterval(m),c.each(function(a){for(var c in b[a])this.style[c]=""}),f()):c.each(function(b){var c=j[b],d;for(d in c)c[d]+=k[b][d];a(this).css(c)})}var g=na,l=0,j=
[],k=[];c.each(function(a){var f=b[a];k[a]={};j[a]={};var e=u(c[a]),l;for(l in f)j[a][l]=parseFloat(e[l]),k[a][l]=(parseFloat(f[l])-parseFloat(e[l]))*g/d});e();var m=setInterval(e,g)}function l(a,b,c){var d=[];a.each(function(){var a=parseFloat(o(this,"opacity"));d.push({opacity:a})});a.css({opacity:0,display:"block"});f(d,a,b,c)}function N(a,b,c){var d=[];a.each(function(){d.push({opacity:0})});f(d,a,b,c)}function J(b,c){this.style=a.extend(!0,{},b);if(!c.getElementById(ma)){c.namespaces.add("v",
"urn:schemas-microsoft-com:vml");var d=c.createElement("style");c.getElementsByTagName("head")[0].appendChild(d);d.id=ma;d.setAttribute("type","text/css");d.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }"}d=this.style.throbber.width;this.group=G("group",c,{width:d+"px",height:this.style.throbber.height+"px"});this.group.className=R;for(var d=k(d,this.style.throbber.lines),f=this.style.throbberLine.color,e=this.style.throbberLine.width,g=0,l=d.length;g<l;g++){var j=
d[g],m=j.from,n=j.to,j=G("line",c);j.strokeweight=e;j.strokecolor=f;j.fillcolor=f;j.from=m.x+","+m.y;j.to=n.x+","+n.y;m=G("stroke",c);m.opacity=1;j.appendChild(m);this.group.appendChild(j)}this._createPercentArea(c)}function g(b,c){var f=this,g=a(b);if(g.length){var l=H(g),g=l?a("body"):g,j=T(g[0]);if(j!==window.document&&(g[0]===j||V(j)===g[0]))g=a(j.body);var k=a.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,fadeOut:-1,promises:null,theme:"a"},c);this._displayed=!1;this._throbbers=[];this._settings=
k;this._styles=a.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},d(k.theme));k.throbber&&a.extend(this._styles.throbber,k.throbber);this._isScreenLock=l;this._$target=g;this._target=1===this._$target.length?this._$target[0]:this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){f._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){f._handleResizeEvent()};this._redrawable=!0;this._lastPercent=-1;this._lastMessage=
null;this._fadeInTime="number"===typeof k.fadeIn?k.fadeIn:-1;this._fadeOutTime="number"===typeof k.fadeOut?k.fadeOut:-1;this._$content=a();this._$overlay=a();this._$skin=a();for(var g=e.u.str.format(Z,""===k.message?'style="display: none;"':"",k.message),l="https"===document.location.protocol?"return:false":"about:blank",n=0,o=this._$target.length;n<o;n++)this._$content=this._$content.add(a(j.createElement("div")).append(g).addClass(F).addClass(k.theme).addClass(S).css("display","none")),this._$overlay=
this._$overlay.add((k.block?a(j.createElement("div")):a()).addClass(F).addClass(k.theme).addClass(r).css("display","none")),this._$skin=this._$skin.add((E||L?a(j.createElement("iframe")):a()).attr("src",l).addClass(F).addClass(t).css("display","none"));var p=this._isScreenLock&&w?"fixed":"absolute";a.each([this._$overlay,this._$content],function(){this.css("position",p)});j=k.promises;k=function(){f.hide()};g=a.hasOwnProperty("curCSS")?"pipe":"then";M(j)?(j=a.map(j,function(a){return a&&Q(a.promise)?
a:null}),0<j.length&&wa(e.async.when(j),g,[k,k])):j&&Q(j.promise)&&wa(j,g,[k,k])}}var F="h5-indicator",S="content",r="overlay",t="skin",R="vml-root",ma="h5-vmlstyle",Z='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',ea=500,na=13,U=e.env.ua,aa=e.u.obj.isJQueryObject,ba=e.u.obj.argsToArray,fa={throbber:["width","height"],"throbber-line":["width","color"]},$=!!document.createElement("canvas").getContext,n=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));
a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return"number"===typeof a.strokeweight}(),L="CSS1Compat"!==document.compatMode,E=U.isIE&&6>=U.browserVersion,w=!(U.isAndroidDefaultBrowser||U.isiOS&&5>U.browserVersion||E||L||U.isWindowsPhone),v=null,ga=null,ca=null,oa=null,pa=null,ta=null,la=function(){var b=document.createDocumentFragment().appendChild(document.createElement("div")),c=["Webkit","Moz","O","ms","Khtml"],d=c.length;return function(f){f=a.camelCase(f);
if(f in b.style)return!0;for(var f=f.charAt(0).toUpperCase()+f.slice(1),e=0;e<d;e++)if(c[e]+f in b.style)return!0;return!1}}(),ga=function(a){return function(){var b=document.body,c=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:L?b["client"+a]:c["client"+a]}}("Height"),ca=x("Height"),oa=x("Width"),pa=C("Top"),ta=C("Left"),v=la("animationName");J.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),this._run())},
hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.style.throbber.lines;if(0!==a){for(var b=this.style.throbber.roundTime,c=this.highlightPos,d=this.group.childNodes,f=0,e=d.length;f<e;f++){var g=d[f];if("textbox"!==g.nodeName){var l=f+1;g.firstChild.opacity=l==c?"1":l==c+1||l==c-1?"0.75":"0.4"}}c==a?c=0:c++;this.highlightPos=c;var j=this;this._runId=setTimeout(function(){j._run.call(j)},Math.floor(b/a))}},_createPercentArea:function(b){var c=
G("textbox",b),b=a(b.createElement("table"));b.append("<tr><td></td></tr>");var d=b.find("td");d.width(this.group.style.width);d.height(this.group.style.height);d.css("line-height",this.group.style.height);d.addClass("throbber-percent");c.appendChild(b[0]);this.group.appendChild(c)},setPercent:function(b){a(this.group).find(".throbber-percent").html(b)}};var ua=function(b,c){this.style=a.extend(!0,{},b);this.canvas=c.createElement("canvas");this.baseDiv=c.createElement("div");this.percentDiv=c.createElement("div");
var d=this.canvas,f=this.baseDiv,e=this.percentDiv;d.width=this.style.throbber.width;d.height=this.style.throbber.height;d.style.display="block";d.style.position="absolute";f.style.width=this.style.throbber.width+"px";f.style.height=this.style.throbber.height+"px";f.appendChild(d);e.style.width=this.style.throbber.width+"px";e.style.height=this.style.throbber.height+"px";e.style.lineHeight=this.style.throbber.height+"px";e.className="throbber-percent";f.appendChild(e);this.positions=k(d.width,this.style.throbber.lines)};
ua.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){a(this.baseDiv).remove();this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.style.throbber.lines;if(0!==a){var b=this.canvas,c=b.getContext("2d"),d=this.highlightPos,f=this.positions,e=this.style.throbberLine.color,g=this.style.throbberLine.width,l=this.style.throbber.roundTime;b.width=b.width;for(var j=0,k=f.length;j<k;j++){c.beginPath();
c.strokeStyle=e;c.lineWidth=g;var m=j+1;c.globalAlpha=m==d?1:m==d+1||m==d-1?0.75:0.4;var n=f[j],m=n.from,n=n.to;c.moveTo(m.x,m.y);c.lineTo(n.x,n.y);c.stroke()}d==a?d=0:d++;this.highlightPos=d;if(v)b.className="throbber-canvas";else{var o=this;this._runId=setTimeout(function(){o._run.call(o)},Math.floor(l/a))}}},setPercent:function(a){this.percentDiv.innerHTML=a}};g.prototype={show:function(){if(this._displayed||!this._$target||0<this._$target.children("."+F).length)return this;this._displayed=!0;
for(var b=this,c=this._fadeInTime,d=function(){var c=a(window);b._isScreenLock&&(I(b._$overlay,b._$content),w||(c.bind("touchmove",b._scrollHandler),c.bind("scroll",b._scrollHandler)));c.bind("orientationchange",b._resizeHandler);c.bind("resize",b._resizeHandler)},f=0,e=this._$target.length;f<e;f++){var g=this._$target.eq(f),j=this._$content.eq(f),k=this._$skin.eq(f),m=this._$overlay.eq(f),p=o(g[0],"position");!this._isScreenLock&&"static"===p&&(g.data("before-position",p),g.data("before-zoom",o(g[0],
"zoom")),g.css({position:"relative",zoom:"1"}));p=T(g[0]);if(p=$?new ua(this._styles,p):n?new J(this._styles,p):null)b._throbbers.push(p),b.percent(this._settings.percent),p.show(j.children(".indicator-throbber")[0]);g.append(k).append(m).append(j)}f=this._$skin.toArray();Array.prototype.push.apply(f,this._$content.toArray());Array.prototype.push.apply(f,this._$overlay.toArray());f=a(f);0>c?(f.css("display","block"),d()):l(f,c,d);this._reposition();this._resizeOverlay();return this},_resizeOverlay:function(){var a,
b;if(!(this._isScreenLock&&w||0===this._$overlay.length))for(var c=0,d=this._$target.length;c<d;c++){var f=this._$content.eq(c),e=this._$overlay.eq(c);b=this._$target.eq(c);var g=this._$skin.eq(c);if(this._isScreenLock)f=oa(),b=ca();else{e.css("display","none");f.css("display","none");var l=b[0];a=l.scrollWidth;b=l.scrollHeight;if(E)a=Math.max(a,l.clientWidth),b=Math.max(b,l.clientHeight);else if(U.isIE&&"function"===typeof getComputedStyle){var l=V(T(l)).getComputedStyle(l,null),j=parseFloat(l.width)+
parseFloat(l.paddingLeft)+parseFloat(l.paddingRight);a+=j-parseInt(j)-1;l=parseFloat(l.height)+parseFloat(l.paddingTop)+parseFloat(l.paddingBottom);b+=l-parseInt(l)-1}e.css("display","block");f.css("display","block");f=a}e[0].style.width=f+"px";e[0].style.height=b+"px";if(E||L)g[0].style.width=f+"px",g[0].style.height=b+"px"}},_reposition:function(){for(var d=0,f=this._$target.length;d<f;d++){var e=this._$target.eq(d),g=this._$content.eq(d);if(this._isScreenLock){var l=ga();w?g.css("top",(l-q(g[0]))/
2+"px"):g.css("top",pa()+l/2-q(g[0])/2+"px")}else g.css("top",e.scrollTop()+(c(e[0])-q(g[0]))/2);var l=b(g[0])-j(g[0]),k=0;g.children().each(function(){var b=a(this);if("none"===o(b[0],"display"))return!0;k+=A(this,!0)});g.css("width",k+l);g.css("left",e.scrollLeft()+(b(e[0])-A(g[0]))/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var b=this,c=this._fadeOutTime,d=this._$skin.toArray();Array.prototype.push.apply(d,this._$content.toArray());Array.prototype.push.apply(d,this._$overlay.toArray());
for(var f=a(d),d=function(){var c=a(window);f.remove();b._isScreenLock||b._$target.each(function(b,c){var d=a(c);d.css({position:d.data("before-position"),zoom:d.data("before-zoom")});d.removeData("before-position").removeData("before-zoom")});c.unbind("touchmove",b._scrollHandler);c.unbind("scroll",b._scrollHandler);c.unbind("orientationchange",b._resizeHandler);c.unbind("resize",b._resizeHandler);b._resizeEventTimerId&&clearTimeout(b._resizeEventTimerId);b._scrollEventTimerId&&clearTimeout(b._scrollEventTimerId)},
e=0,g=this._throbbers.length;e<g;e++)this._throbbers[e].hide();0>c?(f.css("display","none"),d()):N(f,c,d);return this},percent:function(a){if("number"!==typeof a||!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var b=0,c=this._throbbers.length;b<c;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!y(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display","inline-block").text(a);
this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);
this._redrawable=!1;w||E||L?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};e.u.obj.expose("h5.ui",{indicator:function(b,c){return a.isPlainObject(b)?new g(b.target,b):new g(b,c)},isInView:function(b,c){var d,f,e,g,l=a(b);if(typeof c===ja)f=O("Height"),g=O("Width"),d=pa(),e=ta();else{g=a(c);if(0===g.find(l).length)return;e=D(g);d=e.top+parseInt(g.css("border-top-width"));e=e.left+parseInt(g.css("border-left-width"));f=g.innerHeight();g=g.innerWidth()}f=d+f;g=e+g;var j=D(l),k=j.top,
j=j.left,m=k+l.outerHeight(),l=j+l.outerWidth();return(d<=k&&k<f||d<m&&m<=f)&&(e<=j&&j<g||e<l&&l<=g)},scrollToTop:function(){function b(){1===window.scrollY&&(c=0);0<c&&(window.scrollTo(0,1),c--,setTimeout(b,ea))}var c=3;window.scrollTo(0,1);1!==a(window).scrollTop()&&setTimeout(b,ea)}})})();(function(){function m(){var c=a.mobile.activePage,c=c&&c[0]&&c[0].id;return y(c)&&0<c.length?c:null}function G(){var c=m();null!==c&&a(function(){O.addCSS(c);O.bindController(c)})}function k(a,b){for(var d in I)for(var e=
I[d],j=a===d,k=0,g=e.length;k<g;k++){var m=e[k];if(j)m[(b?"enable":"disable")+"Listeners"]()}for(d in H){e=H[d];j=a===d;k=0;for(g=e.length;k<g;k++)if(m=e[k],j)m[(b?"enable":"disable")+"Listeners"]()}}function x(a,b){a=a.replace(/(\.0+)+$/,"");b=b.replace(/(\.0+)+$/,"");if(a===b)return 0;for(var d=a.split("."),e=b.split("."),j=d.length,k=0;k<j;k++){if(null==e[k])return 1;var g=parseInt(d[k],10),m=parseInt(e[k],10);if(g!==m)return g<m?-1:1}return null!=e[j]?-1:0}var C,O=null,D={},I={},H={},u={},o={},
p=!1,j=!1,q=!1;e.u.obj.ns("h5.ui.jqm");e.ui.jqm.dataPrefix="h5";var A={__name:"JQMController",__ready:function(){var c=this,b=m();a(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){c.loadScript(this.id)});var d=this.$find("#"+b);d.one("h5controllerready.emulatepageshow",function(){q&&d[0]===a.mobile.activePage[0]&&d.trigger("h5jqmpageshow",{prevPage:a("")})})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(a){C||this._initPage(a.event.target.id)},':jqmData(role="page"), :jqmData(role="dialog") pagecreate':function(a){C&&
this._initPage(a.event.target.id)},_initPage:function(a){this.loadScript(a);this.addCSS(a);this.bindController(a)},"{rootElement} pageremove":function(c){a(c.event.target).trigger("h5jqmpagehide",{nextPage:a.mobile.activePage});j=!0;var c=c.event.target.id,b=I[c],d=H[c];if(b){for(var e=0,k=b.length;e<k;e++)b[e].dispose();I[c]=[]}if(d){e=0;for(k=d.length;e<k;e++)d[e].dispose();H[c]=[]}},"{rootElement} pagebeforeshow":function(a){a=a.event.target.id;this.addCSS(a);k(a,!0)},"{rootElement} pagehide":function(c){j||
a(c.event.target).trigger("h5jqmpagehide",{nextPage:c.evArg.nextPage});j=!1;c=c.event.target.id;k(c,!1);this.removeCSS(c)},"{rootElement} pageshow":function(c){var b=!1,d=a(c.event.target),e=c.evArg?c.evArg.prevPage:a("");if(c=I[d[0].id])for(var j=0,k=c.length;j<k;j++)if(!c[j].isReady){d.unbind("h5controllerready.emulatepageshow").one("h5controllerready.emulatepageshow",function(){a.mobile.activePage[0]===d[0]&&d.trigger("h5jqmpageshow",{prevPage:e})});b=!0;break}b||d.trigger("h5jqmpageshow",{prevPage:e})},
"{rootElement} h5controllerbound":function(c){c=c.evArg;if(this!==c){var b=m();null===b||-1!==a.inArray(c,I[b])||(H[b]||(H[b]=[]),H[b].push(c))}},"{rootElement} h5controllerunbound":function(c){var b=c.evArg,c=m();null!==c&&(b=a.inArray(b,H[c]),-1!==b&&H[c].splice(b,1))},loadScript:function(c){var c=a("#"+c),b=a.trim(c.data(this.getDataAttribute("script")));if(0!==b.length)return b=a.map(b.split(","),function(b){return a.trim(b)}),c=!0==c.data(this.getDataAttribute("async")),e.u.loadScript(b,{async:c})},
getDataAttribute:function(a){var b=e.ui.jqm.dataPrefix;null==b&&(b="h5");return 0!==b.length?b+"-"+a:a},bindController:function(a){var b=D[a],d=u[a];if(b&&0!==b.length){I[a]||(I[a]=[]);for(var l=I[a],j=0,k=b.length;j<k;j++){for(var g=b[j],m=!1,o=0,p=l.length;o<p;o++){var q=l[o];if(q&&q.__name===g.__name){m=!0;break}}m||I[a].push(e.core.controller("#"+a,g,d[j]))}}},addCSS:function(c){if(c=o[c])for(var b=document.getElementsByTagName("head")[0],d=b.getElementsByTagName("link"),e=d.length,j=0,k=c.length;j<
k;j++){for(var g=a.mobile.path.parseUrl(c[j]).filename,m=!1,p=0;p<e;p++)if(a.mobile.path.parseUrl(d[p].href).filename===g){m=!0;break}m||(g=document.createElement("link"),g.type="text/css",g.rel="stylesheet",g.href=c[j],b.appendChild(g))}},removeCSS:function(c){var b=o[c];if(b&&(c=m(),null!==c)){var d=o[c];a("link").filter(function(){var c=a(this).attr("href");return-1!==a.inArray(c,b)&&-1===a.inArray(c,d)}).remove()}}};e.u.obj.expose("h5.ui.jqm.manager",{init:function(){p||(p=!0,C=0<=x(a.mobile.version,
"1.4"),a(document).one("pageshow",function(){q=!0}),a(function(){O=mb.controllerInternal("body",A,null,{managed:!1});G()}))},define:function(c,b,e,j){y(c)||d(12E3,"id");null!=b&&!y(b)&&!M(b)&&d(12E3,"cssSrc");null!=e&&((y(e)||M(e))&&d(12001),(!a.isPlainObject(e)||!("__name"in e))&&d(12E3,"controllerDefObject"),null!=j&&!a.isPlainObject(j)&&d(12E3,"initParam"));o[c]||(o[c]=[]);D[c]||(D[c]=[]);u[c]||(u[c]=[]);a.merge(o[c],a.map(a.makeArray(b),function(b){return a.inArray(b,o[c])!==-1?null:b}));e&&-1===
a.inArray(e,D[c])&&(D[c].push(e),u[c].push(j));p&&null!==m()?G():this.init()}})})();(function(){function m(){x||(x=navigator.geolocation);return x}function G(a,d){this.oblateness=a;this.semiMajorAxis=d}function k(){}var x=null,C=e.env.ua;G.prototype.getOblateness=function(){return this.oblateness};G.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var y=new G(298.257222,6378137),D=new G(299.152813,6377397.155),I=Math.PI/180;a.extend(k.prototype,{isSupported:C.isIE&&9<=C.browserVersion?
!0:!!m(),getCurrentPosition:function(a){var d=e.async.deferred();m().getCurrentPosition(function(a){d.resolve(a)},function(a){d.reject(ca(2002,null,a))},a);return d.promise()},watchPosition:function(a){function d(){}var k=e.async.deferred(),p=m().watchPosition(function(a){k.notify(a)},function(a){m().clearWatch(p);k.reject(ca(2002,null,a))},a);d.prototype.unwatch=function(){m().clearWatch(p);k.resolve()};return k.promise(new d)},getDistance:function(a,e,k,m,j){(!isFinite(a)||!isFinite(e)||!isFinite(k)||
!isFinite(m))&&d(2E3);var q=j?j:y;q instanceof G||d(2001);var j=q.getSemiMajorAxis(),x=q.getOblateness(),a=a*I,e=e*I,k=k*I,q=m*I,m=(a+k)/2,x=Math.sqrt(2*x-1)/x,x=Math.pow(x,2),c=Math.sqrt(1-x*Math.pow(Math.sin(m),2)),x=j*(1-x)/Math.pow(c,3),j=j/c,e=e-q;return Math.sqrt(Math.pow(x*(a-k),2)+Math.pow(j*Math.cos(m)*e,2))},GS_GRS80:y,GS_BESSEL:D});e.u.obj.expose("h5.api",{geo:new k})})();(function(){function m(a){if(a){var c=a.deferred;(Da(c)||Ea(c)||!a.result)&&d(p)}}function G(b,c,e){if(a.isPlainObject(b))for(var k in b){var m=
a.trim(k).replace(/ +/g," ").split(" "),g=[];""===m[0]?d(q):1===m.length?(g.push(m[0]),g.push("="),g.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(m[1])?3===m.length&&/^like$/i.test(m[1])?(g.push(m[0]),g.push(m[1]),g.push("?"),g.push("ESCAPE"),g.push('"'+m[2]+'"')):(g.push(m[0]),g.push(m[1]),g.push("?")):d(j);c.push(g.join(" "));e.push(b[k])}}function k(){}function x(){this._multiple=!1}function C(a){this._db=a;this._df=A();this._tx=null;this._tasks=[];this._queue=[]}function O(a,c,d){this._statements=
[];this._parameters=[];this._executor=a;this._tableName=c;this._columns=M(d)?d.join(", "):"*";this._orderBy=this._where=null}function D(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._values=d?R(d):[];this._df=A();this._multiple=!0}function I(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._values=d;this._where=null}function H(a,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._where=null}
function u(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._statements.push(c);this._parameters.push(d||[])}function o(a){this._db=a}var p=3E3,j=3003,q=3011,A=e.async.deferred,c=e.u.str.format;a.extend(x.prototype,{execute:function(){return this._executor.add(this)._execute(function(a){return a[0]})}});a.extend(C.prototype,{_runTransaction:function(){return null!=this._tx},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._getRecentTask().result=
a},_getRecentTask:function(){return this._tasks[this._tasks.length-1]},add:function(a){a instanceof x||d(3009);var c=this._getRecentTask();(!c||c.result)&&this._queue.push(a);return this},_execute:function(a){function c(){if(0===j.length){var k=a(g);d._setResult.apply(d,[k]);e.notify(k,d)}else{for(var m=j.shift(),o=m._statements,p=m._parameters,q=A().resolve().promise(),k=[],r=0,u=o.length;r<u;r++)(function(a,b){q=aa(q,function(){var c=A();d._tx.executeSql(a,b,function(a,b){k.push(m._onComplete(b));
c.resolve()});return c.promise()})})(o[r],p[r]);aa(q,function(){g.push(m._multiple?k:k[0]);c()})}}var d=this,e=this._df,j=this._queue,g=[];try{m(this._getRecentTask());this._addTask(e);for(var k=0,o=j.length;k<o;k++)j[k]._buildStatementAndParameters();this._runTransaction()?c():this._db.transaction(function(a){d._tx=a;c()},function(a){d._tx=null;for(var b=d._tasks,c=b.length-1;0<=c;c--)b[c].deferred.reject(ca(3010,["SQLDB ERROR(code="+a.code+")",a.message],a))},function(){d._tx=null;for(var a=d._tasks,
b=a.length-1;0<=b;b--){var c=a[b];c.deferred.resolve(c.result)}})}catch(p){e.reject(p)}this._df=A();return e.promise()},execute:function(){return this._execute(function(a){return a})},promise:function(){return this._df.promise()}});O.prototype=new x;a.extend(O.prototype,{where:function(b){!a.isPlainObject(b)&&!y(b)&&d(3004,["Select","where"]);this._where=b;return this},orderBy:function(b){!a.isPlainObject(b)&&!y(b)&&d(3004,["Select","orderBy"]);this._orderBy=R(b);return this},_buildStatementAndParameters:function(){var b=
"",d=this._where,b=c("SELECT {0} FROM {1}",this._columns,this._tableName);if(a.isPlainObject(d)){var e=[];G(d,e,this._parameters);b+=" WHERE "+e.join(" AND ")}else y(d)&&(b+=" WHERE "+d);M(this._orderBy)&&(b+=" ORDER BY "+this._orderBy.join(", "));this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rows}});D.prototype=new x;a.extend(D.prototype,{_buildStatementAndParameters:function(){var b=this._values,d=this._statements,e=this._parameters;if(0===b.length)d.push(c("INSERT INTO {0} DEFAULT VALUES",
this._tableName)),e.push([]);else for(var j=0,k=b.length;j<k;j++){var g=b[j];if(null==g)d.push(c("INSERT INTO {0} DEFAULT VALUES",this._tableName)),e.push([]);else if(a.isPlainObject(g)){var m=[],o=[],p=[],q;for(q in g)m.push("?"),o.push(q),p.push(g[q]);d.push(c("INSERT INTO {0} ({1}) VALUES ({2})",this._tableName,o.join(", "),m.join(", ")));e.push(p)}}},_onComplete:function(a){return a.insertId}});I.prototype=new x;a.extend(I.prototype,{where:function(b){!a.isPlainObject(b)&&!y(b)&&d(3004,["Update",
"where"]);this._where=b;return this},_buildStatementAndParameters:function(){var b="",d=this._where,b=this._values,e=[],j;for(j in b)e.push(j+" = ?"),this._parameters.push(b[j]);b=c("UPDATE {0} SET {1}",this._tableName,e.join(", "));a.isPlainObject(d)?(j=[],G(d,j,this._parameters),b+=" WHERE "+j.join(" AND ")):y(d)&&(b+=" WHERE "+d);this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});H.prototype=new x;a.extend(H.prototype,{where:function(b){!a.isPlainObject(b)&&
!y(b)&&d(3004,["Del","where"]);this._where=b;return this},_buildStatementAndParameters:function(){var b="",d=this._where,b=c("DELETE FROM {0}",this._tableName);if(a.isPlainObject(d)){var e=[];G(d,e,this._parameters);b+=" WHERE "+e.join(" AND ")}else y(d)&&(b+=" WHERE "+d);this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});u.prototype=new x;a.extend(u.prototype,{_buildStatementAndParameters:function(){},_onComplete:function(a){return a}});
a.extend(o.prototype,{select:function(a,c,e){y(a)||d(3001,"select");!M(c)&&"*"!==c&&d(3005,"select");return new O(this.transaction(e),a,c)},insert:function(b,c,e){y(b)||d(3001,"insert");null!=c&&!M(c)&&!a.isPlainObject(c)&&d(3006,"insert");return new D(this.transaction(e),b,c)},update:function(b,c,e){y(b)||d(3001,"update");a.isPlainObject(c)||d(3006,"update");return new I(this.transaction(e),b,c)},del:function(a,c){y(a)||d(3001,"del");return new H(this.transaction(c),a)},sql:function(a,c,e){y(a)||
d(3007,"sql");null!=c&&!M(c)&&d(3008,"sql");return new u(this.transaction(e),a,c)},transaction:function(a){void 0!=a&&!(a instanceof C)&&d(3002,"transaction");return a?a:new C(this._db)}});a.extend(k.prototype,{isSupported:!!window.openDatabase,open:function(a,c,d,e){if(this.isSupported)return a=openDatabase(a,c,d,e),new o(a)}});e.u.obj.expose("h5.api",{sqldb:new k})})();(function(){function d(a){this._storage=a}a.extend(d.prototype,{getLength:function(){return this._storage.length},key:function(a){return this._storage.key(a)},
getItem:function(a){a=this._storage.getItem(a);return null===a?null:e.u.obj.deserialize(a)},setItem:function(a,d){this._storage.setItem(a,e.u.obj.serialize(d))},removeItem:function(a){this._storage.removeItem(a)},clear:function(){this._storage.clear()},each:function(a){for(var d=this._storage,e=0,m=d.length;e<m;e++){var y=d.key(e);a(e,y,this.getItem(y))}}});e.u.obj.expose("h5.api.storage",{isSupported:window.localStorage?function(){try{return window.localStorage.setItem("__H5_WEB_STORAGE_CHECK__",
"ok"),window.localStorage.removeItem("__H5_WEB_STORAGE_CHECK__"),!0}catch(a){return!1}}():!1,local:new d(window.localStorage),session:new d(window.sessionStorage)})})()})(jQuery);