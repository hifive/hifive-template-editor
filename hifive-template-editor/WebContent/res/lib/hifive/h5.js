/* Copyright (C) 2012-2014 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.12 gitCommitId 77423d67d2e34680e128be6d9e1fe616c45a9cc4 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(a){function c(a,c,k){var s=null,z=ib[a],G=sb[a];G&&(s=G(a,z,c,k));!s&&z&&(s=f.u.str.format.apply(null,[z].concat(c)));s&&(s+="(code="+a+")");c=s?Error(s):Error("FwError: code = "+a);a&&(c.code=a);k&&(c.detail=k);throw c;}function aa(a,c,k){var s=null,z=ib[a];z&&(c=[z].concat(c),s=f.u.str.format.apply(null,c));return{code:a,message:s,detail:k}}function R(a){return null==a?a:K(a)?a:[a]}function ba(a){var c=document.createElement("span");c.innerHTML='<a href="'+a+'" />';return c.firstChild.href}
function w(a){return"string"===typeof a}function la(a){return a.isRejected?a.isRejected():"rejected"===a.state()}function Fa(a){return a.isResolved?a.isResolved():"resolved"===a.state()}function ha(a){return!w(a)?!1:!!a.match(/^[A-Za-z_\$][\w|\$]*$/)}function ia(c){if("regexp"===a.type(c))return c;var f="",f=-1!==c.indexOf("*")?a.map(c.split("*"),function(a){return a.replace(/\W/g,"\\$&")}).join(".*"):c;return RegExp("^"+f+"$")}function ua(a,c,f){a&&(a._h5UnwrappedCall?a._h5UnwrappedCall(c,f):a[c](f))}
function X(c,f,k,s){return c[a.hasOwnProperty("curCSS")?"pipe":"then"](f,k,s)}function jb(a){return a&&a.document&&a.document.nodeType===Ja&&Z(a.document)===a}function S(a){return typeof a.nodeType===ga?jb(a)?a.document:null:a.nodeType===Ja?a:a.ownerDocument}function Z(a){return window.document===a?window:a.defaultView||a.parentWindow}function Ka(a,c,k,s){function z(){!o&&++l===q&&c&&c()}function G(){o=!0;k?k.apply(this,arguments):s&&f.settings.commonFailHandler&&f.settings.commonFailHandler.call(this,
arguments)}var x=a?a.length:0,D=f.async.isPromise;if(1===x){x=a[0];if(D(x)){x.done(c);k?x.fail(k):s&&f.settings.commonFailHandler&&x.fail(f.settings.commonFailHandler);return}x=0}if(0===x)c();else{for(var t=[],n=0,C=a.length;n<C;n++)x=a[n],D(x)&&t.push(x);var q=t.length;if(0===q)c&&c();else for(var l=0,o=!1,n=0;n<q;n++)t[n].done(z).fail(G)}}var kb=void 0;if(window.h5){if(window.h5.env&&"1.1.12"===window.h5.env.version)return;kb=window.h5}var f={};window.h5=f;f.coexist=function(){window.h5=kb;return f};
f.env={version:"1.1.12"};var ib={},sb={},lb=12029,ga="undefined",V=1,Ja=9,K=Array.isArray||function(){var a=Object.prototype.toString;return function(c){return"[object Array]"===a.call(c)}}(),N=function(){if("function"===typeof RegExp()){var a=Object.prototype.toString;return function(c){return"[object Function]"===a.call(c)}}return function(a){return"function"===typeof a}}(),mb={controllerInternal:null},nb;(function(){function h(a){switch(a){case "string":return"s";case "number":return"n";case "boolean":return"b";
case "String":return"S";case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case t:return"u";case "undefElem":return"_";case "objElem":return"@"}}function A(a,b){if(w(a)){var d=a;b&&(d=d.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return d=d.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,
"\\b").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}return a instanceof String?new String(A(a.toString())):a}function k(a,b){return"1"===b?a:w(a)?a.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):a instanceof String?new String(k(a.toString())):a}function s(a,b,d){var e=f.async.deferred();f.ajax({url:a,async:b,cache:d,dataType:"script",converters:{"text script":function(a){return a}}}).done(function(){var a=
D(arguments);a.push(this.url);e.notifyWith(e,a);e.resolveWith(e,a)}).fail(function(){e.rejectWith(e,D(arguments))});return e.promise()}function z(a){w(a)||c(n,"h5.u.obj.ns()");for(var a=a.split("."),b=a.length,d=0;d<b;d++)ha(a[d])||c(n,"h5.u.obj.ns()");for(var e=window,d=0;d<b;d++){var H=a[d];typeof e[H]===t&&(e[H]={});e=e[H]}return e}function G(a,b){var d=z(a),e;for(e in b)b.hasOwnProperty(e)&&(void 0!==d[e]&&c(C,[a,e]),d[e]=b[e])}function x(b){return!b||!b.jquery?!1:b.jquery===a().jquery}function D(a){return Array.prototype.slice.call(a)}
var t="undefined",n=11E3,C=11001,q=11004,l=11005,o=11006,v={},d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&#39;"},b=void 0!==document.createElement("script").onload,g=-1===/\r\n/.toString().indexOf("\r\n");G("h5.u",{loadScript:function(d,g){var C=f.async.deferred,e=R(d);(!e||0===e.length)&&c(11007);for(var H=0,O=e.length;H<O;H++)d=e[H],(!w(d)||!a.trim(d))&&c(11007);null!=g&&!a.isPlainObject(g)&&c(11008,"h5.u.loadScript()");var p=g&&!1===g.async?!1:!0,l=!!(g&&!0===g.force),H=!!(g&&!0===
g.parallel),h=!!(g&&!0===g.atomic),o=!l,k=p?C():null,x=p?function(a){k.reject(aa(11010,[a]))}:null,O=p?function(){var a=C();setTimeout(function(){a.resolve([])},0);return a.promise()}:null,z=H?[]:null,q=[],n={};if(p){if(!h&&b){var t=a("head"),A=function(a){var e=C(),b=document.createElement("script");b.onload=function(){b.onload=null;v[a]=a;e.resolve()};b.onerror=function(){b.onerror=null;e.reject(a)};b.type="text/javascript";b.src=o?a:a+(-1<a.indexOf("?")?"&_":"?_")+ +new Date;t[0].appendChild(b);
return e.promise()};if(H)z.push(O()),a.each(e,function(){var a=ba(this);if(!l&&a in v)return!0;z.push(A(a))}),Ka(z,function(){k.resolve()},x);else{var G=X(C().resolve(),O);a.each(e,function(){var a=ba(this);G=X(G,function(){if(l||!(a in v))return A(a)},x)});X(G,function(){k.resolve()},x)}}else if(H){var r=[];z.push(O());r.push(null);a.each(e,function(){var a=ba(this);if(!l&&(a in v||a in n))return!0;z.push(s(a,p,o));h?n[a]=a:r.push(null)});H=e=null;h?(e=function(){a.each(D(arguments),function(e,b){a.globalEval(b[0])});
a.extend(v,n);k.resolve()},H=a.noop):(e=function(){k.resolve()},H=function(){for(var e=D(arguments),b=0;b<r.length;b++)if(e[b]){var d=e[b][3];r[b]!==d&&(a.globalEval(e[b][0]),r.splice(b,1,d))}});f.async.when(z).done(e).fail(x).progress(H)}else G=X(C().resolve(),O),a.each(e,function(){var e=ba(this);G=X(G,function(){var b=C();!l&&(e in v||e in n)?b.resolve():s(e,p,o).done(function(d){h?(q.push(d),n[e]=e):(a.globalEval(d),v[e]=e);b.resolve()}).fail(function(){b.reject(this.url)});return b.promise()},
x)}),X(G,function(){h&&(a.each(q,function(e,b){a.globalEval(b)}),a.extend(v,n));k.resolve()},x);return k.promise()}a.each(e,function(){var e=ba(this);if(!l&&(e in v||e in n))return!0;s(e,p,o).done(function(b){h?(q.push(b),n[e]=e):(a.globalEval(b),v[e]=e)}).fail(function(){c(11010,[e])})});h&&(a.each(q,function(e,b){a.globalEval(b)}),a.extend(v,n))},createInterceptor:function(a,b){return function(d){var e={},c=a?a.call(this,d,e):d.proceed();d.result=c;if(!b)return c;if(c&&N(c.promise)&&!x(c)){var g=
this;ua(c,"always",function(){b.call(g,d,e)});return c}b.call(this,d,e);return c}}});G("h5.u.str",{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var d=a.length-b.length;return 0<=d&&a.lastIndexOf(b)===d},format:function(a,b){if(null==a)return"";var d=arguments;return a.replace(/\{(\d+)\}/g,function(a,b){var c=d[parseInt(b,10)+1];return typeof c===t?t:c})},escapeHtml:function(b){return"string"!==a.type(b)?b:b.replace(/[&"'<>]/g,function(a){return d[a]})}});G("h5.u.obj",
{expose:G,ns:z,serialize:function(b){function d(a){for(var b=0,e=H.length;b<e;b++)if(a===H[b])return!0;return!1}function C(a){for(var b=0,e=H.length;b<e;b++)a===H[b]&&H.splice(b,1)}function e(b){var p=b,i=a.type(b);"object"===typeof b&&(b instanceof String?i="String":b instanceof Number?i="Number":b instanceof Boolean&&(i="Boolean"));switch(i){case "String":case "string":p=h(i)+A(p);break;case "Boolean":p=p.valueOf();case "boolean":p=h(i)+(p?1:0);break;case "Number":p=p.valueOf();if(a.isNaN&&a.isNaN(b)||
a.isNumeric&&!a.isNumeric(b))p=Infinity===b.valueOf()?h("infinity"):-Infinity===b.valueOf()?h("-infinity"):h("nan");p=h(i)+p;break;case "number":p=a.isNaN&&a.isNaN(b)||a.isNumeric&&!a.isNumeric(b)?Infinity===b?h("infinity"):-Infinity===b?h("-infinity"):h("nan"):h(i)+p;break;case "regexp":p=h(i)+A(p.toString(),g);break;case "date":p=h(i)+ +p;break;case "array":d(b)&&c(ERR_CODE_REFERENCE_CYCLE);H.push(b);for(var f=[],p=h(i)+"[",i=0,s=b.length;i<s;i++){f[i.toString()]=!0;var o;o=b.hasOwnProperty(i)?
"function"===a.type(b[i])?h(t):e(b[i]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):h("undefElem");p+='"'+o+'"';i!==b.length-1&&(p+=",")}var i="",k;for(k in b)f[k]||"function"!==a.type(b[k])&&(i+='"'+A(k)+'":"'+e(b[k]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');i&&(p+=(b.length?",":"")+'"'+h("objElem")+"{"+i.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),p=p.replace(/,$/,""),p+='}"');p+="]";C(b);break;case "object":d(b)&&c(l);H.push(b);p=h(i)+"{";for(k in b)b.hasOwnProperty(k)&&"function"!==a.type(b[k])&&
(p+='"'+k+'":"'+e(b[k]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');p=p.replace(/,$/,"");p+="}";C(b);break;case "null":case t:p=h(i)}return p}N(b)&&c(11002);var H=[];return"2|"+e(b)},deserialize:function(b){function d(b){function i(a){switch(a){case "s":return"string";case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";case "r":return"regexp";
case "a":return"array";case "o":return"object";case "l":return"null";case "u":return t;case "_":return"undefElem";case "@":return"objElem"}}b.match(/^(.)(.*)/);b=RegExp.$1;e=RegExp.$2?RegExp.$2:"";if(void 0!==b&&""!==b)switch(i(b)){case "String":e=new String(k(e,g));break;case "string":break;case "Boolean":"0"===e||"1"===e?e=new Boolean("1"===e):c(o);break;case "boolean":"0"===e||"1"===e?e="1"===e:c(o);break;case "nan":""!==e&&c(o);e=NaN;break;case "infinity":""!==e&&c(o);e=Infinity;break;case "-infinity":""!==
e&&c(o);e=-Infinity;break;case "Number":"infinity"===i(e)?e=new Number(Infinity):"-infinity"===i(e)?e=new Number(-Infinity):"nan"===i(e)?e=new Number(NaN):(e=new Number(e),isNaN(e.valueOf())&&c(o));break;case "number":e=(new Number(e)).valueOf();isNaN(e)&&c(o);break;case "array":var p;try{p=a.parseJSON(e)}catch(C){c(o)}K(p)||c(o);for(var l=0;l<p.length;l++)switch(i(p[l].substring(0,1))){case "undefElem":delete p[l];break;case "objElem":for(var f=d(h("object")+p[l].substring(1)),b=[],l=0,s=p.length-
1;l<s;l++)b[l]=p[l];p=b;for(var v in f)p[v]=f[v];break;default:p[l]=d(p[l])}e=p;break;case "object":try{p=a.parseJSON(e)}catch(x){c(o)}a.isPlainObject(p)||c(o);for(v in p)p[v]=d(p[v]);e=p;break;case "date":e=new Date(parseInt(e,10));break;case "regexp":try{l=e.match(/^\/(.*)\/(.*)$/),f=k(l[1],g),e=RegExp(f,l[2])}catch(n){c(o)}break;case "null":""!==e&&c(o);e=null;break;case t:""!==e&&c(o);e=void 0;break;default:c(q)}return k(e,g)}w(b)||c(11009);b.match(/^(.)\|(.*)/);var g=RegExp.$1;"1"!==g&&"2"!==
g&&c(11003,[g,"2"]);var e=RegExp.$2;return d(e)},isJQueryObject:x,argsToArray:D,getByPath:function(a,b){w(a)||c(n,"h5.u.obj.getByPath()");var d=a.split("."),e=0;if("window"===d[0]&&(!b||b===window))e=1;for(var g=b||window,l=d.length;e<l&&!(g=g[d[e]],null==g);e++);return g}})})();(function(){function h(a,c){a.target||(a.target=c);a.timeStamp||(a.timeStamp=(new Date).getTime());if(!a.isDefaultPrevented){var f=!1;a.isDefaultPrevented=function(){return f};a.preventDefault=function(){f=true}}if(!a.isImmediatePropagationStopped){var h=
!1;a.isImmediatePropagationStopped=function(){return h};a.stopImmediatePropagation=function(){h=true}}}function A(a){var c={},h;for(h in a){var k=a[h];if(a.hasOwnProperty(h)&&(N(k)||null===k||"string"===typeof k||"number"===typeof k||"boolean"===typeof k))c[h]=k}this._mix=function(a){for(var f in c)a[f]=c[f]};this._hasInterface=function(a){for(var h in c)if(!f.u.str.startsWith(h,"_")&&typeof a[h]===ga)return!1;return!0}}function k(a){return new A(a)}a.extend(A.prototype,{mix:function(a){return this._mix(a)},
hasInterface:function(a){return this._hasInterface(a)}});f.u.obj.expose("h5.mixin",{createMixin:k,eventDispatcher:k({hasEventListener:function(a,c){if(!this._eventListeners)return!1;var f=this._eventListeners[a];if(!f||!this._eventListeners.hasOwnProperty(a))return!1;for(var h=0,k=f.length;h<k;h++)if(f[h]===c)return!0;return!1},addEventListener:function(a,f){(2>arguments.length||!w(a))&&c(16E3);null==f||this.hasEventListener(a,f)||(this._eventListeners||(this._eventListeners={}),this._eventListeners.hasOwnProperty(a)||
(this._eventListeners[a]=[]),this._eventListeners[a].push(f))},removeEventListener:function(a,c){if(this.hasEventListener(a,c))for(var f=this._eventListeners[a],h=0,k=f.length;h<k;h++)if(f[h]===c){f.splice(h,1);break}},dispatchEvent:function(a){if(this._eventListeners){var c=this._eventListeners[a.type];if(c){c=c.slice(0);h(a,this);for(var f=0,k=c.length;f<k&&!a.isImmediatePropagationStopped();f++)N(c[f])?c[f].call(a.target,a):c[f].handleEvent&&c[f].handleEvent(a);return a.isDefaultPrevented()}}}})})})();
(function(){var h,A,k,s,z,G,x;function D(a){return a.match(/^error$/i)?h:a.match(/^warn$/i)?A:a.match(/^info$/i)?k:a.match(/^debug$/i)?s:a.match(/^trace$/i)?z:a.match(/^all$/i)?G:a.match(/^none$/i)?x:null}function t(a,b){var d={};if(K(a)){var c=a.slice(0,3).join(" <- ");0<a.slice(3).length&&(c+=" ...");d.recent=c;d.all=b.join("\n")}else d.recent=a,d.all=b;return d}function n(a){var b="";a.name?b=a.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(a.toString()),b=RegExp.$1);return b}function C(b){for(var b=
f.u.obj.argsToArray(b),d=[],c=0,g=b.length;c<g;c++)d.push(a.type(b[c]));return d.join(", ")}function q(){}function l(e){(!w(e)||0===a.trim(e).length)&&c(b);this.category=a.trim(e)}var o=10002,v=10003,d=10004,b=10005,g=10007,i=10008,L=10010;h=50;A=40;k=30;s=20;z=10;G=0;x=-1;var F=null;q.prototype={init:function(){},log:function(a){window.console&&(w(a.args[0])?this._logMsg(a):this._logObj(a))},_logMsg:function(a){var b=a.args,d=null,d=1===b.length?b[0]:f.u.str.format.apply(f.u.str,b),b=this._getLogPrefix(a)+
d;a.logger.enableStackTrace&&(b+="  ["+a.stackTrace.recent+"]");a.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(b):this._consoleOut(a.level,b);a.logger.enableStackTrace&&this._consoleOut(a.level,a.stackTrace.all);a.logger.enableStackTrace&&console.groupEnd&&console.groupEnd()},_consoleOut:function(a,b){var d=!1;a==h&&console.error?(console.error(b),d=!0):a==A&&console.warn?(console.warn(b),d=!0):a==k&&console.info?(console.info(b),d=!0):a==s&&console.debug&&(console.debug(b),
d=!0);!d&&console.log&&console.log(b)},_getLogPrefix:function(a){return"["+a.levelString+"]"+a.date.getHours()+":"+a.date.getMinutes()+":"+a.date.getSeconds()+","+a.date.getMilliseconds()+": "},_logObj:function(a){var b=a.args,d=this._getLogPrefix(a);b.unshift(d);a.level==h&&console.error?this._output(console.error,b):a.level==A&&console.warn?this._output(console.warn,b):a.level==k&&console.info?this._output(console.info,b):a.level==s&&console.debug?this._output(console.debug,b):this._output(console.log,
b)},_output:function(a,b){try{if(a.apply){a.apply(console,b);return}}catch(d){}a(b)}};l.prototype={enableStackTrace:!1,maxStackSize:10,error:function(a){this._log(h,arguments,this.error)},warn:function(a){this._log(A,arguments,this.warn)},info:function(a){this._log(k,arguments,this.info)},debug:function(a){this._log(s,arguments,this.debug)},trace:function(a){this._log(z,arguments,this.trace)},_traceFunctionName:function(b){var d=Error(),c=d.stack||d.stacktrace,d=[],g={};if(c)var d=c.replace(/\r\n/,
"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),f=null,d=a.map(d,function(b){return f=0===b.length?null:""===a.trim(b)?"{anonymous}":a.trim(b)}),g=t(d.slice(3,d.length),d.slice(0,this.maxStackSize));else{c=null;try{c=b.caller}catch(l){}b=0;if(c)for(;;){var i=C(c.arguments),h=n(c),k=null;try{k=c.caller}catch(o){d.push("{unable to trace}");g=t(d,d);break}h?d.push("{"+h+"}("+i+")"):k?d.push("{anonymous}("+i+")"):
d.push("{root}("+i+")");if(!k||b>=this.maxStackSize){g=t(d,d);break}c=k;b++}else g=t("{unable to trace}","{unable to trace}")}return g},_log:function(a,b,d){var b={level:a,args:f.u.obj.argsToArray(b),stackTrace:this.enableStackTrace?this._traceFunctionName(d):""},c=F.out,g=F.defaultOut,d=null;if(c)for(var c=R(c),i=0,l=c.length;i<l;i++){var C=c[i];if(C.compiledCategory.test(this.category)){d=C;break}}d||(d=g);i=d.compiledLevel;d=d.compiledTargets;if(!(a<i||0>i))if(b.logger=this,b.date=new Date,b.levelString=
this._levelToString(a),d&&0!==d.length){i=0;for(l=d.length;i<l;i++)d[i].log(b)}},_levelToString:function(a){if(a===h)return"ERROR";if(a===A)return"WARN";if(a===k)return"INFO";if(a===s)return"DEBUG";if(a===z)return"TRACE"}};f.u.obj.expose("h5.log",{createLogger:function(a){return new l(a)},configure:function(){function b(e,f,h){var k=null==h;if(!k){var p=f.category;(!w(p)||0===a.trim(p).length)&&c(L);p=a.trim(p);-1!==a.inArray(p,C)&&c(o,f.category);f.compiledCategory=ia(p);C.push(p)}p=null==f.level?
D(k?l.level:h.level):w(f.level)?D(a.trim(f.level)):f.level;"number"!==typeof p&&c(v,f.level);f.compiledLevel=p;var p=[],n=f.targets;if(!k||null!=n){var r=[];null==n||K(n)||w(n)&&a.trim(n).length||c(i);for(var n=R(n),B=0,M=n.length;B<M;B++){null==n[B]||w(n[B])&&a.trim(n[B]).length||c(i);var u=n[B];if(u){-1!==a.inArray(u,r)&&c(g,u);var P=e[u];P||c(d,u);r.push(u);p.push(P.compiledTarget)}}if(!k&&(e=h.targets,null!=e)){e=R(e);B=0;for(M=e.length;B<M;B++)u=e[B],-1===a.inArray(u,r)&&(p.push(h.compiledTargets[B]),
r.push(u))}}f.compiledTargets=p}var l={level:"NONE",targets:null},C=[],h=a.extend(!0,{},f.settings.log?f.settings.log:{defaultOut:l}),k=h.target;k||(k={},h.target=k);(function(b){a.isPlainObject(b)||c(10009);for(var d in b){var e=b[d];a.type(e.type)!=="object"&&e.type!=="console"&&c(1E4);var g=null,g=e.type==="console"?new q:a.extend(true,{},e.type);g.init&&g.init(e);e.compiledTarget=g}b.console={type:"console",compiledTarget:new q}})(k);var n=h.defaultOut;n||(n=l,h.defaultOut=n);b(k,n);var s=h.out;
if(s)for(var s=R(s),t=0,x=s.length;t<x;t++)b(k,s[t],n);F=h}})})();(function(){function c(h){f.settings.aspects=a.map(R(h),function(a){a.target&&(a.compiledTarget=ia(a.target));a.pointCut&&(a.compiledPointCut=ia(a.pointCut));return a})}f.u.obj.ns("h5.settings");f.settings={commonFailHandler:null,aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(a){a=a.status;if("POST"===this.type||!(0===a||a===lb))return!1}},
trackstartTouchAction:"none"};var A=f.u.createInterceptor(function(a,c){this.log.info("{0}.{1}が開始されました。",this.__name,a.funcName);this.log.info(a.args);c.start=new Date;return a.proceed()},function(a,c){var f=(new Date).getTime()-c.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",this.__name,a.funcName,f)});f.u.obj.expose("h5.core.interceptor",{lapInterceptor:A,logInterceptor:A,errorInterceptor:function(a){var c=null;try{c=a.proceed()}catch(h){f.settings.commonFailHandler&&N(f.settings.commonFailHandler)&&
f.settings.commonFailHandler.call(null,h)}return c}});a(document).trigger("h5preinit");f.settings.aspects&&c(f.settings.aspects);f.log.configure()})();(function(){f.u.obj.expose("h5.env",{ua:function(c){function f(a,b){var d=H(a,"[^;)]*",b).split(" ");return 1===d.length?"":d[d.length-1]}function k(a,b){var d=H(a,"[^;) ]*",b).split("/");return 1===d.length?"":d[d.length-1]}function s(a,b){var d=H(a,"[^;) ]*",b).split(":");return 1===d.length?"":d[d.length-1]}var z=!!c.match(/iPhone/i),w=!!c.match(/iPad/i),
x=z||w,D=!!c.match(/android/i),t=!!c.match(/Windows Phone/i),n=!!c.match(/MSIE/)||!!c.match(/Trident/),C=!!c.match(/Firefox/i),q=!!c.match(/Chrome/i)||!!c.match(/CrMo/)||!!c.match(/CriOS/),l=!D&&!!c.match(/Safari/i)&&!q,o=!!c.match(/Webkit/i),v=!!c.match(/Opera/i),d=D&&!!c.match(/Safari/i)&&!q,b=!(!z&&!t&&!(d&&c.match(/Mobile/)&&!c.match(/SC-01C/)||D&&q&&c.match(/Mobile/)||c.match(/Fennec/i)||c.match(/Opera Mobi/i))),g=!(!w&&!(d&&!c.match(/Mobile/)||D&&q&&!c.match(/Mobile/)||c.match(/SC-01C/)||c.match(/Fennec/i)||
c.match(/Opera Tablet/i))),i=!b&&!g,L=null,F=null,e=function(b,d){return a.trim(c.substring(c.indexOf(b)+b.length,c.indexOf(d))).split("_")},H=function(b,d,e){return a.trim(c.match(!1===e?RegExp(b+d):RegExp(b+d,"i")))};if(z)F=e("iPhone OS","like"),L=parseInt(F[0]),F=F.join(".");else if(w)F=e("CPU OS","like"),L=parseInt(F[0]),F=F.join(".");else if(!D||!C)D?(F=f("Android"),L=parseInt(F.split(".")[0])):t&&((F=f("Windows Phone OS"))||(F=f("Windows Phone")),L=parseInt(F.split(".")[0]));n&&v&&(n=!1);var O=
e=null;if(x||D&&d)e=L,O=F;else{var p=null;n?p=f("MSIE",!1)||s("rv"):q?(p=k("Chrome",!1))||(p=k("CrMo",!1)):l?p=k("Version"):C?p=k("Firefox"):v&&((p=k("Version"))||(p=k("Opera")),p||(p=f("Opera")));p&&(e=parseInt(p.split(".")[0]),O=p)}return{osVersion:L,osVersionFull:F,browserVersion:e,browserVersionFull:O,isiPhone:z,isiPad:w,isiOS:x,isAndroid:D,isWindowsPhone:t,isIE:n,isFirefox:C,isChrome:q,isSafari:l,isOpera:v,isAndroidDefaultBrowser:d,isSmartPhone:b,isTablet:g,isDesktop:i,isWebkit:o}}(navigator.userAgent)})})();
(function(){function h(a){function c(){f=!0;k=this;h=x(arguments);if(la(a)||Fa(a))return a;var b=x(arguments);if(0<d.length)for(var g=0,i=d.length;g<i;g++){var n=b;n!==arguments&&(n=R(n));N(d[g])&&d[g].apply(this,n)}return a}var f=!1,k=null,h=null,d=[];a.progress=function(){for(var b=x(arguments),c=0,i=b.length;c<i;c++){var n=b[c];if(K(n))a.progress.apply(this,n);else if(N(n))if(f){var q=h;q!==h&&(q=R(q));n.apply(k,q)}else d.push(n)}return this};a.notify=c;a.notifyWith=function(a,d){return!d?c.apply(a):
c.apply(a,d)}}function A(a){if(!a)return!1;for(var a=R(a),c=0,f=a.length;c<f;c++)if(N(a[c]))return!0;return!1}function k(c,q){function l(a){q?q[a]&&(c[a]=q[a]):(g[a]=c[a],c[a]=function(){return function(){if(!d){var b=x(arguments);if("then"===a||"pipe"===a)b=b[1];A(b)&&(d=!0)}return c._h5UnwrappedCall.call(this,a,x(arguments))}}(a),i[a]=c[a])}function o(a){return function(){var e=f.settings.commonFailHandler;!d&&e&&!b&&(c.fail.call(this,e),b=!0);return a.apply(this,arguments)}}if(c._h5UnwrappedCall)return c;
var v=!!c.progress;!v&&!n(c)?h(c):q&&(c.progress=q.progress);var d=!1,b=!1,g={},i={};c._h5UnwrappedCall=q?q._h5UnwrappedCall:function(b,d){d=R(d);a.extend(c,g);var e=c[b].apply(this,d);a.extend(c,i);return e};for(var t=0,F=s.length;t<F;t++){var e=s[t];c[e]&&l(e)}c.pipe&&!q&&(c.pipe=function(){for(var a=f.async.deferred(),b=x(arguments),c=0,d=z.length;c<d;c++){var e=this;(function(b,c,d){function g(){if(f){var c=b.apply(this,arguments);if(c&&N(c.promise)){k(c);c.done(a.resolve);c._h5UnwrappedCall("fail",
a.reject);N(c.progress)&&c.progress(a.notify)}else a[d+"With"](this,[c])}else a[d+"With"](this,arguments)}var f=N(b);if(!f&&c==="fail")e._h5UnwrappedCall(c,g);else e[c](g)})(b[c],z[c],w[c])}return a.promise()},i.pipe=c.pipe);if(c.then&&!q){var H=c.then;c.then=D?c.pipe:function(){var a=arguments,b=H.apply(this,a);!v&&A(a[2])&&c.progress.call(c,a[2]);return b};i.then=c.then}c.reject&&(c.reject=q&&q.reject?q.reject:o(c.reject));c.rejectWith&&(c.rejectWith=q&&q.rejectWith?q.rejectWith:o(c.rejectWith));
if(c.promise)if(q&&q.promise)c.promise=q.promise;else{var O=c.promise;c.promise=function(){return k(O.apply(this,arguments),c)}}return c}var s=["fail","always","pipe","then"],z=["done","fail","progress"],w=["resolve","reject","notify"],x=f.u.obj.argsToArray,D=function(){var c=a.Deferred();return c!==c.then()}(),t=function(){var c=a.Deferred();return k(c)},n=function(a){return!!a&&a.done&&a.fail&&!a.resolve&&!a.reject};f.u.obj.expose("h5.async",{deferred:t,when:function(){var c=x(arguments);1===c.length&&
K(c[0])&&(c=c[0]);var k=c.length,l=f.async.deferred(),h=l.promise(),n=a.when.apply(a,c).done(function(){l.resolveWith(this&&this.promise&&this.promise()===n?l:this,x(arguments))}).fail(function(){l.rejectWith(this,x(arguments))});if(n.progress)n.progress(function(){l.notifyWith(this===n?h:this,x(arguments))});else{for(var d=[],b=0;b<k;b++)d[b]=void 0;for(var g=function(a){return function(b){d[a]=1<arguments.length?x(arguments):b;l.notifyWith(h,d)}},b=0;b<k;b++){var i=c[b];i&&N(i.promise)&&i.progress&&
(1<k?i.progress(g(b)):i.progress(function(){l.notifyWith(h,x(arguments))}))}}return h},isPromise:n,loop:function(f,k,l){K(f)||c(5E3);var h=t(),v="number"===a.type(l)?l:20,d=0,b=f.length,g,i=null,x=function(){if(d===b)h.resolve(f);else{var a=k.call(f,d,f[d],i);d++;n(a)?a.done(function(){g()}).fail(function(){h.reject(f)}):g()}},F=function(){setTimeout(function(){var a=d-1;0<d&&h.notify({data:f,index:a,value:f[a]});x()},0)},e=!1;g=function(){e||(0===d%v?F():x())};var s=!1,i={resume:function(){!s&&e&&
(e=!1,g())},pause:function(){e=!0},stop:function(){s=!0;h.resolve(f)}};F();return h.promise()}})})();(function(){function c(a,f){for(var h=0,k=z.length;h<k;h++){var s=z[h];a[s]&&(f[G[s]](a[s]),a[s]=void 0)}}function A(c,f,h){for(var k in f)if(f.hasOwnProperty(k)&&(h||!N(f[k]))&&-1===a.inArray(k,s))c[k]=f[k]}function k(a,c){A(this,a,!0);c.promise(this);var f=this.always;this.always=function(){f.apply(this,arguments);return this}}var s=["error","success","complete"],z=["error","success","complete"],
G={success:"done",error:"fail",complete:"always"};f.u.obj.expose("h5",{ajax:function(){function s(a,c,f){A(q,f);C.resolveWith(this,arguments)}function z(c,f,k){if(0===t.retryCount||!1===t.retryFilter.apply(this,arguments))A(q,c),C.rejectWith(this,arguments);else if(t.retryCount--,this.async){var d=this;setTimeout(function(){a.ajax(d).done(s).fail(z)},t.retryInterval)}else a.ajax(this).done(s).fail(z)}var t={},n=arguments;w(n[0])?(a.extend(t,n[1]),t.url=n[0]):a.extend(t,n[0]);var t=a.extend({},f.settings.ajax,
t),C=f.async.deferred();c(t,C);var n=a.ajax(t),q=new k(n,C);n.done(s).fail(z);return q}})})();(function(){function h(a,b,j,d,e){for(var m in j)m in ub&&c(ua,[e,m],{controllerDefObj:j})}function A(b,j){function d(e,m){-1!==a.inArray(e,m)&&c(Ga,[j],{controllerDefObj:b});n(e,function(a){d(a,m.concat([e]))},!0)}d(b,[])}function k(b){function j(d,e){-1!==a.inArray(d,e)&&c(ja,[b.__name],{logicDefObj:b});C(d,function(a){j(a,e.concat(d))})}j(b,[])}function s(b,j,d){null==b&&c(ob,[d],{controllerDefObj:j});
!w(b)&&"object"!==typeof b&&c(y,[d],{controllerDefObj:j});b=a(b);0===b.length&&c(Ua,[d],{controllerDefObj:j});1<b.length&&c(qa,[d],{controllerDefObj:j});b[0].nodeType!==Ja&&b[0].nodeType!==V&&c(oa,[d],{controllerDefObj:j})}function z(a,b,c,j,d){this.controller=a;this.event=b;this.evArg=c;this.selector=j;this.selectorType=d}function G(a){return P(this)||!this.__controllerContext.executeListeners?void 0:a.proceed()}function x(a,b,c){var j;j=a.__name;var d=[],e=f.settings.aspects;if(e&&0!==e.length)for(var e=
R(e),m=e.length-1;-1<m;m--){var g=e[m];if(!g.target||g.compiledTarget.test(j)){var y=g.interceptors;if(!g.pointCut||g.compiledPointCut.test(b))if(K(y))for(g=y.length-1;-1<g;g--)d=d.concat(y[g]);else d.push(y)}}j=d;c&&j.push(G);return D(a[b],b,j)}function D(a,b,j){for(var c=function(a,b,La){return function(){var j=this;return La.call(j,{target:j,func:a,funcName:b,args:arguments,proceed:function(){return a.apply(j,this.args)}})}},d=0,e=j.length;d<e;d++)a=c(a,b,j[d]);return a}function t(a,b,j){if(j&&
a===ha)return j.rootElement;for(var c=["window","document","navigator"],d=0,e=c.length;d<e;d++){var m=c[d];if(a===m||pb(a,m+"."))return f.u.obj.getByPath(a,Z(b))}return j&&pb(a,"this.")?f.u.obj.getByPath(a.slice(5),j):a}function n(a,b,j){var c=j?$.get(a.__name):a.__controllerContext&&a.__controllerContext.cache;if(c)for(var j=0,d=c.childControllerProperties.length;j<d;j++){var e=c.childControllerProperties[j];if(!1===b(a[e],a,e))return!1}else for(e in a){var c=a,d=e,m=j,f=c[d];if(Ma(d,Aa)&&"rootController"!==
d&&"parentController"!==d&&f&&(m||f.__controllerContext&&!f.__controllerContext.isRoot&&(!f.parentController||f.parentController===c))&&!1===b(a[e],a,e))return!1}}function C(a,b){var j=$.get(a.__name);if(j)for(var c=0,d=j.logicProperties.length;c<d;c++){var e=j.logicProperties[c];if(!1===b(a[e],a,e))return!1}else for(e in a)if(a.hasOwnProperty(e)&&Ma(e,X)&&!1===b(a[e],a,e))return!1}function q(a,b,j,c){function d(a,j,c){if(!1===q(a,b,j,c))return!1}return!1===b.call(this,a,j,c)?!1:n(a,d)}function l(a,
b,j,c){if(!1===n(a,function(a,j,c){if(!1===l(a,b,j,c))return!1})||!1===b.call(this,a,j,c))return!1}function o(a,b){var j=[];n(a,function(a){(a=a[b])&&j.push(a)});return j}function v(b,j,c){function d(b){var j=b.handler,c=b.controller;b.originalHandler=j;b.handler=function(){var d=!b.isNativeBind&&1===f.settings.listenerElementType?a(this):this;j.call(c,da(b,arguments),d)}}var e=j.selector,m=j.eventName;switch(m){case "mousewheel":c=ma(b,e,m,c);break;case Na:case ba:case Va:c=va(b,e,m,c);break;default:c=
p(b,e,m,c)}K(c)||(c=[c]);e=0;for(m=c.length;e<m;e++){var g=c[e];d(g);g.isBindRequested=j.isBindRequested;g.isGlobal=j.isGlobal;g.bindTarget=j.bindTarget;g.controller=b}return c}function d(b,j){var c=b.controller,d=c.rootElement,e=b.selector,m=b.eventName,g=b.handler,y=b.isBindRequested,i=b.isGlobal;b.bindTarget?(b.evSelectorType=ra.SELECTOR_TYPE_OBJECT,Oa(b)):i?(c=t(e,j,c),y||!w(c)?(b.evSelectorType=ra.SELECTOR_TYPE_OBJECT,b.bindTarget=w(c)?a(c):c,Oa(b)):(b.evSelectorType=ra.SELECTOR_TYPE_GLOBAL,
a(j).delegate(c,m,g)),b.evSelector=c):(b.evSelectorType=ra.SELECTOR_TYPE_LOCAL,b.evSelector=e,y?(b.bindTarget=a(e,d),Oa(b)):a(d).delegate(e,m,g));b.isBindCanceled||(b.controller.__controllerContext.boundHandlers.push(b),vb&&m===Na&&null!=f.settings.trackstartTouchAction&&(i?a(b.evSelector,j):a(b.evSelector,d)).each(function(){this.style[cb]=f.settings.trackstartTouchAction}))}function b(b,c,j){var d=b.controller,e=d.rootElement,m=b.selector,f=b.handler,g=b.eventName,y=b.isGlobal;if(b.bindTarget)c=
b.bindTarget,e=b.eventName,m=b.handler,b.isNativeBind?c.removeEventListener(e,m):a(c).unbind(e,m);else if(y){if(null==Z(c))return;a(c).undelegate(m,g,f)}else a(e).undelegate(m,g,f);j||(j=d.__controllerContext.boundHandlers,j.splice(a.inArray(b,j),1))}function g(a,b){q(a,function(a){a.__controllerContext.executeListeners=b})}function i(a,b,c){return function(){var j=null,d=a.__name;if(a[b])try{j=a[b]({args:a.__controllerContext.args})}catch(e){B(a,e)}j&&N(j.done)&&N(j.fail)?j.done(c).fail(function(){var b=
aa(J,d,Ba(arguments));B(a.rootController,null,b)}):c()}}function L(a,b){q(a,function(a){if(!P(a)&&!a.__controllerContext.isDisposing){var j,c;"__init"===b?(j=F(a),c=[a.preInitPromise],a.parentController&&c.push(a.parentController.initPromise)):"__postInit"===b?(j=e(a),c=o(a,"postInitPromise")):(j=H(a),c=o(a,"readyPromise"));Ka(c,i(a,b,j))}})}function F(a){return function(){if(!ca(a)){a.isInit=!0;var b=a.__controllerContext.initDfd;delete a.__controllerContext.templatePromise;delete a.__controllerContext.preInitDfd;
delete a.__controllerContext.initDfd;var c=a.rootElement,j=[];try{var d=a.__meta;n(a,function(b,e,m){j.push(b);e=d&&d[m]&&d[m].rootElement?T(d[m].rootElement,b,a):c;s(e,b.__controllerContext.controllerDef,b.__name);b.rootElement=e;b.view.__controller=b})}catch(e){B(a,e);return}b.resolveWith(a);ca(a)||!j.length&&function(){var b=!0;q(a.rootController,function(a){return b=a.isInit});return b}()&&L(a.rootController,"__postInit")}}}function e(a){return function(){if(!ca(a)){a.isPostInit=!0;var b=a.__controllerContext.postInitDfd;
delete a.__controllerContext.postInitDfd;b.resolveWith(a);!ca(a)&&a.__controllerContext.isRoot&&(q(a,function(a,b,j){if(!1!==(b&&b.__meta&&b.__meta[j]&&b.__meta[j].useHandlers)){var b=a.__controllerContext.cache.bindMap,j=S(a.rootElement),c;for(c in b)for(var e=v(a,b[c],a[c]),La=0,m=e.length;La<m;La++)d(e[La],j)}}),tb(a))}}}function H(b){return function(){if(!ca(b)){b.isReady=!0;var j=b.__controllerContext.readyDfd;delete b.__controllerContext.readyDfd;j.resolveWith(b);ca(b)||b.__controllerContext.isRoot&&
b.rootElement&&b.isInit&&b.isPostInit&&b.isReady&&a(b.rootElement).trigger("h5controllerready",b)}}}function O(b,j){if(!w(b))return a(b);var c=a.trim(b);return qb.test(c)?(c=a.trim(c.substring(1,c.length-1)),a(t(c,S(j.rootElement),j))):a(j.rootElement).find(b)}function p(a,b,j,c){return{controller:a,selector:b,eventName:j,handler:c}}function ma(a,b,j,c){return{controller:a,selector:b,eventName:typeof document.onmousewheel===ga?"DOMMouseScroll":j,handler:function(b){var j=b.event;null==j.wheelDelta&&
j.originalEvent&&null!=j.originalEvent.wheelDelta&&(j.wheelDelta=j.originalEvent.wheelDelta);null==j.wheelDelta&&j.originalEvent&&null!=j.originalEvent.detail&&(j.wheelDelta=40*-j.originalEvent.detail);c.call(a,b)}}}function va(b,j,c,d){function e(a,b){for(var j in a)a.hasOwnProperty(j)&&!b[j]&&"target"!==j&&"currentTarget"!==j&&"originalEvent"!==j&&"liveFired"!==j&&(b[j]=a[j]);b.h5DelegatingEvent=a}var m=typeof document.ontouchstart!==ga;if(c!==Na)return p(b,j,c,function(b){var j=b.event.h5DelegatingEvent.type;
if("mousemove"===j||"mouseup"===j){var j=b.event,c=a(j.currentTarget).offset()||{left:0,top:0};j.offsetX=j.pageX-c.left;j.offsetY=j.pageY-c.top}d.apply(this,arguments)});var f=a(S(b.rootElement));return function(){function g(j,c,d){return function(m){var y;a:{switch(j){case "touchstart":case "mousedown":y=Na;break a;case "touchmove":case "mousemove":y=ba;break a;case "touchend":case "mouseup":y=Va;break a}y=void 0}var Ta=y===Na;if(!Ta||!r){var I=0===m.event.type.indexOf("touch");I&&na(m.event,j);
var J=new a.Event(y);e(m.event,J);var l=m.event.target;c&&(l=c);d&&d(J);var k=m.event.originalEvent||m.event;Ta&&-1===a.inArray(k,sa)&&(sa=[],Ca=[]);var za=a.inArray(k,sa);-1===za&&(za=sa.push(k)-1,Ca[za]=!1);if(!Ca[za]&&(!I||r||Ta))Ca[za]=!0,a(l).trigger(J,m.evArg),r=!0;if(m.event.currentTarget===document&&(y===Va&&(sa=[],Ca=[]),-1!==a.inArray(k,sa)))sa.splice(za,1),Ca.splice(za,1);if(Ta&&r){J.h5DelegatingEvent.preventDefault();y=J.target;var h=J.clientX,oa=J.clientY,u=I?"touchmove":"mousemove",
B=I?"touchend":"mouseup",E=g(u,y,function(a){var b=a.clientX,j=a.clientY;a.dx=b-h;a.dy=j-oa;h=b;oa=j}),n=g(B,y),$=function(a){m.event=a;m.evArg=wa(arguments);E(m)},W=function(a){m.event=a;m.evArg=wa(arguments);n(m)},Q=I?a(y):f;i=function(){sa=[];Ca=[];Q.unbind(u,$);Q.unbind(B,W);if(!I&&b.rootElement!==document){a(b.rootElement).unbind(u,$);a(b.rootElement).unbind(B,W)}};Q.bind(u,$);Q.bind(B,W);!I&&b.rootElement!==document&&(a(b.rootElement).bind(u,$),a(b.rootElement).bind(B,W))}else y===Va&&(i(),
r=!1)}}}function y(a){return{controller:b,selector:j,eventName:a,handler:g(a)}}var i=null,r=!1,I=[p(b,j,c,d)];m&&I.push(y("touchstart"));I.push(y("mousedown"));return I}()}function na(b,j){var c=b.originalEvent;if(c){var d="touchend"===j||"touchcancel"===j?c.changedTouches[0]:c.touches[0],e=d.pageX,m=d.pageY;b.pageX=c.pageX=e;b.pageY=c.pageY=m;b.screenX=c.screenX=d.screenX;b.screenY=c.screenY=d.screenY;b.clientX=c.clientX=d.clientX;b.clientY=c.clientY=d.clientY;d=b.target;if(d.ownerSVGElement)d=d.farthestViewportElement;
else if(d===window||d===document)d=document.body;if(d=a(d).offset())m-=d.top,b.offsetX=c.offsetX=e-d.left,b.offsetY=c.offsetY=m}}function wa(a){return 3>a.length?a[1]:Ba(a).slice(1)}function da(b,j){var c=null,d=null;j&&(c=j[0],d=wa(j));var e=c;if(e&&null==e.offsetX&&null==e.offsetY&&e.pageX&&e.pageY){var m=e.target;if(m.ownerSVGElement)m=m.farthestViewportElement;else if(m===window||m===document)m=document.body;if(m=a(m).offset())e.offsetX=e.pageX-m.left,e.offsetY=e.pageY-m.top}return new z(b.controller,
c,d,b.evSelector,b.evSelectorType)}function xa(a){q(a,function(a){a.rootElement=null;a.view.__controller=null})}function T(b,j,d){null==b&&c(ob,[j.__name]);!w(b)&&"object"!==typeof b&&c(y,[j.__name]);b=d?O(b,d):a(b);0===b.length&&c(Ua,[j.__name]);1<b.length&&c(qa,[j.__name]);return b.get(0)}function tb(b){var j=b.__controllerContext.managed,c=Ha.controllers;-1===a.inArray(b,c)&&!1!==j&&c.push(b);!1!==j&&a(b.rootElement).trigger("h5controllerbound",b);L(b,"__ready")}function ya(a){fa();setTimeout(function(){L(a,
"__init")},0)}function ea(a,b){q(a,function(a){var j=fa();j.resolve();a.__controllerContext.templatePromise=j.promise();a.__controllerContext.initDfd=fa();a.initPromise=a.__controllerContext.initDfd.promise();a.__controllerContext.postInitDfd=fa();a.postInitPromise=a.__controllerContext.postInitDfd.promise();a.__controllerContext.readyDfd=fa();a.readyPromise=a.__controllerContext.readyDfd.promise();a.isInit=!1;a.isPostInit=!1;a.isReady=!1;a.__controllerContext.isUnbinding=!1;a.__controllerContext.isUnbinded=
!1;a.__controllerContext.args=b})}function Y(b,j){var c=null,d=j;a.isPlainObject(d)?c=d.target:d={};c=c?O(c,b):b.rootElement;return f.ui.indicator.call(b,c,d)}function r(a,b){var j=[],c=null;l(a,function(a){if(a[b]&&N(a[b])){try{var d=a[b]()}catch(e){c=c||e}wb(d)&&j.push(d)}});if(c)throw c;return j}function B(a,b,j){function c(){var a=b||j||g||i;l(e,function(b){b.view&&b.view.__view&&b.view.__view.clear();if(a)b.__controllerContext.isDisposed=1;else for(var j in b)b.hasOwnProperty(j)&&(b[j]=null)});
i?I.rejectWith(e,[i]):I.resolveWith(e);if(a&&(Ha.dispatchEvent({type:"lifecycleerror",detail:a,rootController:e}),b||g))throw b||g;}function d(){i=g||aa(xb,e.__name,Ba(arguments));c()}var e=a.__controllerContext&&(a.__controllerContext.isRoot?a:a.rootController);if(e){if(!P(e)&&!e.__controllerContext.isDisposing){e.__controllerContext.isDisposing=1;try{M(e,j||b)}catch(m){b=b||m}var f,g=null;try{f=r(e,"__dispose")}catch(y){b=b||y,g=g||y}var I=e.deferred(),i=null;g?d():Ka(f,c,d,!0);return I.promise()}}else if(b)throw b;
}function M(j,c){if(!ca(j)){j.__controllerContext.isUnbinding=1;db(j,c);var d;try{r(j,"__unbind")}catch(e){d=e}q(j,function(a){var j=a.rootElement;if(j){for(var j=S(j),c=a.__controllerContext.boundHandlers,d=0,e=c.length;d<e;d++)b(c[d],j,!0);a.__controllerContext.boundHandlers=[]}});j.__controllerContext.unbindList={};Ha.controllers=a.grep(Ha.controllers,function(a){return a!==j});j.isPostInit&&!1!==j.__controllerContext.managed&&a(j.rootElement).trigger("h5controllerunbound",j);xa(j);j.__controllerContext.isUnbinded=
1;if(d)throw d;}}function u(a,b){return b.view.__view.isAvailable(a)?b.view.__view:b.parentController?u(a,b.parentController):f.core.view}function P(a){return!a.__controllerContext||a.__controllerContext.isDisposed}function ca(a){return P(a)||a.__controllerContext.isUnbinding||a.__controllerContext.isUnbinded}function db(a,b){var j=["postInitDfd","readyDfd"],c=[];q(a,function(a){c.push(a);var j=a.__controllerContext.initDfd;j&&!la(j)&&!Fa(j)&&j.rejectWith(a,[b])});for(var d=0,e=j.length;d<e;d++)for(var m=
j[d],f=c.length-1;0<=f;f--){var g=c[f],y=g.__controllerContext[m];y&&!la(y)&&!Fa(y)&&y.rejectWith(g,[b])}}function ka(a,b){for(var j=a.childNodes,c=0,d=j.length;c<d;c++){var e=j[c];if(1===e.nodeType){if(e=ka(e,b))return e}else if(8===e.nodeType){var m=e.nodeValue;if(0===m.indexOf(ia)){var f=m.indexOf("}");if(-1!==f&&(m=m.slice(0,f).match(/id="([A-Za-z][\w-:\.]*)"/))&&m[1]===b)return e}}}return null}function Wa(a){var b=this;return function(){return a.apply(b,arguments)}}function pa(a){var b=this;
return function(){var j=f.u.obj.argsToArray(arguments);j.unshift(this);return a.apply(b,j)}}function ta(a,b,d){function e(m){f.u.obj.getByPath("h5.core.view")||c(j);a.view.__view.load(d).done(function(){b.resolve()}).fail(function(a){var j=a.detail.error.status;m===f.settings.dynamicLoading.retryCount||0!==j&&j!==lb?setTimeout(function(){b.reject(a)},0):setTimeout(function(){e(++m)},f.settings.dynamicLoading.retryInterval)})}e(0)}function Da(b,j,d,e){var m=w(b),f=m?null:b,b=m?a.trim(b):null,j=a.trim(j),
g=!m||qb.test(b),y=Pa.test(j);y&&(j=a.trim(a.trim(j.substring(1,j.length-1))));m&&g&&(b=a.trim(b.substring(1,b.length-1)),"this"===b&&c(yb,[d.__name],{controllerDef:d}));return{selector:b,bindTarget:f,isGlobal:g,isBindRequested:y,eventName:j,propertyKey:e}}function eb(){this.logicProperties=[];this.eventHandlerProperties=[];this.functionProperties=[];this.otherProperties=[];this.bindMap={};this.childControllerProperties=[]}function m(b){var j=new eb,d=j.logicProperties,e=j.eventHandlerProperties,
m=j.functionProperties,f=j.otherProperties,g=j.bindMap,y=j.childControllerProperties,I={},i;for(i in b)if(-1!==i.indexOf(" ")&&N(b[i])){e.push(i);var r=a.trim(i),J=r.lastIndexOf(" "),r=Da(r.substring(0,J),r.substring(J+1,r.length),b,i),J=r.selector,l=r.eventName,k=r.isGlobal,h=r.isBindRequested;I[J]||(I[J]={});I[J][l]||(I[J][l]={});I[J][l][k]||(I[J][l][k]={});I[J][l][k][h]?c(fb,[b.__name,J,l],{controllerDef:b}):I[J][l][k][h]=1;g[i]=r}else Ma(i,Aa)&&b[i]&&!N(b[i])?y.push(i):Ma(i,X)&&b[i]&&!N(b[i])?
d.push(i):N(b[i])?m.push(i):f.push(i);return j}function E(){this.logicProperties=[];this.functionProperties=[]}function W(a,b){if(a===b)return!0;var j=gb(a),c=gb(b);if(!j&&!c)return!1;j=j?a.toArray():[a];c=c?b.toArray():[b];if(j.length!==c.length)return!1;for(var d=0,e=j.length;d<e;d++)if(j[d]!==c[d])return!1;return!0}function Q(a,b){(!a||!a.rootElement)&&c(I,b)}function U(a,b){(!a||P(a))&&c(zb,b)}function Oa(b){var j=b.bindTarget,c=b.eventName,d=b.handler;j&&typeof j.nodeType!==ga||jb(j)||gb(j)?
a(j).bind(c,d):!j||!j.addEventListener?b.isBindCanceled=!0:(j.addEventListener(c,d),b.isNativeBind=!0)}function Xa(a){this.__controller=a;f.u.obj.getByPath("h5.core.view")&&(this.__view=f.core.view.createView())}function Ea(a,b,j,c,d){this.__name=b;this.__templates=null;this.rootElement=a;this.__controllerContext={executeListeners:!0,isRoot:d,boundHandlers:[],controllerDef:j};this.__controllerContext.args=c?c:null;this.isReady=this.isPostInit=this.isInit=!1;this.readyPromise=this.postInitPromise=
this.initPromise=this.preInitPromise=this.parentController=this.rootController=null;this.log=f.log.createLogger(b);this.view=new Xa(this)}function Qa(){this.rootElement=document;this.controllers=[];a(document).bind(rb,function(a,b){null==b.target&&(b.target=document);b.indicator=Y(this,b);a.stopPropagation()})}function Ya(){this._init()}function Ra(b,j,d,e){var f=!e||!e.isInternal,g=j.__name;(!w(g)||0===a.trim(g).length)&&c(Za,null,{controllerDefObj:j});d&&!a.isPlainObject(d)&&c($a,[g],{controllerDefObj:j});
j.__controllerContext&&c(Ia,null,{controllerDefObj:j});var y=$.get(g);y||h(f,b,j,d,g);f&&A(j,g);y||(y=m(j),$.register(g,y));f&&s(b,j,g);var i=new Ea(b?a(b).get(0):null,g,j,d,f),I=fa(),g=I.promise().fail(ab),r=fa(),J=r.promise().fail(ab),l=fa(),k=l.promise().fail(ab),u=fa(),oa=u.promise();f||oa.fail(ab);b=i.__controllerContext;b.cache=y;b.preInitDfd=I;b.initDfd=r;b.postInitDfd=l;b.readyDfd=u;i.preInitPromise=g;i.initPromise=J;i.postInitPromise=k;i.readyPromise=oa;r=0;for(J=y.logicProperties.length;r<
J;r++)l=y.logicProperties[r],i[l]=Sa(j[l]);g=a.extend(!0,{},j);j=j.__templates;r=fa();J=r.promise();j&&0<j.length?ta(i,r,j):r.resolve();J.done(function(){!P(i)&&!i.__controllerContext.isDisposing&&I.resolveWith(i)}).fail(function(a){I.rejectWith(i,[a]);B(i,null,a)});r=0;for(J=y.childControllerProperties.length;r<J;r++)l=y.childControllerProperties[r],i[l]=Ra(null,a.extend(!0,{},g[l]),d,a.extend({isInternal:!0},e));r=0;for(J=y.eventHandlerProperties.length;r<J;r++)l=y.eventHandlerProperties[r],i[l]=
x(g,l,!0);r=0;for(J=y.functionProperties.length;r<J;r++)l=y.functionProperties[r],i[l]=x(g,l);r=0;for(J=y.otherProperties.length;r<J;r++)l=y.otherProperties[r],i[l]=g[l];if(f){var E=!1;q(i,function(a,b){try{a.__construct&&a.__construct({args:a.__controllerContext.args})}catch(j){B(i,j)}if(P(a)||a.__controllerContext.isDisposing){E=true;return false}if(a===i){a.rootController=a;a.parentController=null}else{a.parentController=b;a.rootController=b.rootController}});if(E)return null}b.managed=e&&e.managed;
f&&ya(i);return i}function Sa(b){function j(b,d){var e=b.__name;(!w(e)||0===a.trim(e).length)&&c(hb,null,{logicDefObj:b});b.__logicContext&&c(bb,null,{logicDefObj:b});var m=$.get(e);if(!m){d&&k(b);var m=new E,g=m.functionProperties,y=m.logicProperties,i;for(i in b)b.hasOwnProperty(i)&&Ma(i,X)?y.push(i):N(b[i])&&g.push(i)}i=a.extend(!0,{},b);for(var r=m.functionProperties,g=0,y=r.length;g<y;g++){var I=r[g];i[I]=x(i,I)}i.deferred=fa;i.log=f.log.createLogger(e);i.__logicContext={logicDef:b};i.own=Wa;
i.ownWithOrg=pa;r=m.logicProperties;g=0;for(y=r.length;g<y;g++)I=r[g],i[I]=j(i[I]);N(i.__construct)&&i.__construct();$.register(e,m);return i}return j(b,!0)}var ra={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},Aa="Controller",X="Logic",Na="h5trackstart",ba="h5trackmove",Va="h5trackend",ha="rootElement",rb="triggerIndicator",qb=/^\{.*\}$/,Pa=/^\[.*\]$/,ia="{h5view ",ob=6001,Ua=6003,qa=6004,Za=6006,$a=6007,Ia=6008,Ga=6009,ja=6010,ua=6011,yb=6012,fb=6013,hb=6017,bb=6018,j=6029,
y=6030,J=6033,oa=6034,I=6035,zb=6036,xb=6038,Ha,$,ab=function(){},fa=f.async.deferred,wb=f.async.isPromise,pb=f.u.str.startsWith,Ma=f.u.str.endsWith,Ab=f.u.str.format,Ba=f.u.obj.argsToArray,gb=f.u.obj.isJQueryObject,sa=[],Ca=[],cb="",vb=function(){var a=document.createElement("div");return typeof a.style.touchAction!==ga?(cb="touchAction",!0):typeof a.style.msTouchAction!==ga?(cb="msTouchAction",!0):!1}();a.extend(z.prototype,ra);a.extend(Xa.prototype,{get:function(a,b){Q(this.__controller,"view#get");
return u(a,this.__controller).get(a,b)},update:function(a,b,j){Q(this.__controller,"view#update");a=O(a,this.__controller);return u(b,this.__controller).update(a,b,j)},append:function(a,b,j){Q(this.__controller,"view#append");a=O(a,this.__controller);return u(b,this.__controller).append(a,b,j)},prepend:function(a,b,j){Q(this.__controller,"view#prepend");a=O(a,this.__controller);return u(b,this.__controller).prepend(a,b,j)},load:function(a){Q(this.__controller,"view#load");return this.__view.load(a)},
register:function(a,b){Q(this.__controller,"view#register");this.__view.register(a,b)},isValid:function(a){Q(this.__controller,"view#isValid");return this.__view.isValid(a)},isAvailable:function(a){Q(this.__controller,"view#isAvailable");return u(a,this.__controller).isAvailable(a)},clear:function(a){Q(this.__controller,"view#clear");this.__view.clear(a)},getAvailableTemplates:function(){Q(this.__controller,"view#getAvailableTemplates");return this.__view.getAvailableTemplates()},bind:function(b,
j){Q(this.__controller,"view#bind");var c=b;if(w(b)&&0===b.indexOf("h5view#")){for(var d=ka(this.__controller.rootElement,b.slice(7)),c=d.nodeValue,c=c.slice(c.indexOf("}")+1),e=a("<div>").append(c),c=[],m=e[0].childNodes,g=0,f=m.length;g<f;g++)c.push(m[g]);e.empty();e=document.createDocumentFragment();g=0;for(f=c.length;g<f;g++)e.appendChild(c[g]);d.parentNode.insertBefore(e,d.nextSibling)}return this.__view.bind(c,j)}});a.extend(Ea.prototype,{$find:function(b){U(this,"$find");Q(this,"$find");return a(this.rootElement).find(b)},
deferred:function(){U(this,"deferred");return fa()},trigger:function(b,j){U(this,"trigger");Q(this,"trigger");var c=w(b)?a.Event(b):b;a(this.rootElement).trigger(c,j);return c},own:function(){U(this,"own");return Wa.apply(this,Ba(arguments))},ownWithOrg:function(){U(this,"ownWithOrg");return pa.apply(this,Ba(arguments))},bind:function(a,b){U(this,"bind");this.__controllerContext.isRoot||c(6031);this.rootElement=T(a,this);this.view.__controller=this;ea(this,b?b:null);ya(this);return this},unbind:function(){U(this,
"unbind");Q(this,"unbind");this.__controllerContext.isRoot||c(6031);this.rootController||c(6037);try{M(this)}catch(a){B(this,a)}},dispose:function(){U(this,"dispose");this.__controllerContext.isRoot||c(6031);return B(this)},triggerIndicator:function(b){U(this,"triggerIndicator");Q(this,"triggerIndicator");var j={indicator:null};b&&a.extend(j,b);a(this.rootElement).trigger(rb,[j]);return j.indicator},indicator:function(a){U(this,"indicator");Q(this,"indicator");return Y(this,a)},enableListeners:function(){U(this,
"enableListeners");g(this,!0)},disableListeners:function(){U(this,"disableListeners");g(this,!1)},throwError:function(a,b){U(this,"throwError");var j=Ba(arguments);j.unshift(null);this.throwCustomError.apply(this,j)},throwCustomError:function(a,b,j){U(this,"throwCustomError");2>arguments.length&&c(6005);var d=null;b&&w(b)?d=Error(Ab.apply(null,Ba(arguments).slice(1))):(d=Error(),d.detail=b);d.customType=a;throw d;},on:function(a,b,j){U(this,"on");Q(this,"on");a=Da(a,b,this);j=v(this,a,j);a=0;for(b=
j.length;a<b;a++)d(j[a],S(this.rootElement))},off:function(a,j,c){U(this,"off");Q(this,"off");for(var d=Da(a,j,this),a=this.__controllerContext.boundHandlers,e=null,m=d.bindTarget,j=d.eventName,g=d.selector,f=d.isGlobal,d=d.isBindRequested,i=0,y=a.length;i<y;i++){var r=a[i];if(m){if(W(m,r.bindTarget)&&j===r.eventName&&r.originalHandler===c){e=r;break}}else if(g===r.selector&&f===r.isGlobal&&d===r.isBindRequested&&c===r.originalHandler){e=r;break}}e&&b(e,S(this.rootElement))}});f.mixin.eventDispatcher.mix(Qa.prototype);
a.extend(Qa.prototype,{getAllControllers:function(){return this.controllers},getControllers:function(b,j){for(var c=j&&j.deep,d=j&&j.name?R(j.name):null,e=a(b)[0],m=this.controllers,g=[],f=0,i=m.length;f<i;f++){var y=m[f];!(d&&-1===a.inArray(y.__name,d))&&y.rootElement&&(e===y.rootElement?g.push(y):c&&S(e)===S(y.rootElement)&&a.contains(e,y.rootElement)&&g.push(y))}return g}});a.extend(Ya.prototype,{get:function(a){return this._cacheMap[a]},register:function(a,b){this._cacheMap[a]=b},clear:function(a){delete this._cacheMap[a]},
clearAll:function(){this._cacheMap={}},_init:function(){this._cacheMap={}}});$=new Ya;Ha=new Qa;f.u.obj.expose("h5.core",{controllerManager:Ha,definitionCacheManager:{clear:function(a){$.clear(a)},clearAll:function(){$.clearAll()}}});var ub=function(){var a={},b=new Ea(null,"a"),j;for(j in b)b.hasOwnProperty(j)&&"__name"!==j&&"__templates"!==j&&"__meta"!==j&&(a[j]=1);b=Ea.prototype;for(j in b)b.hasOwnProperty(j)&&(a[j]=null);return a}();mb.controllerInternal=Ra;f.u.obj.expose("h5.core",{controller:function(a,
b,j){2>arguments.length&&c(6032);return Ra(a,b,j)},logic:Sa,expose:function(a){var b=a.__name;b||c(6019,null,{target:a});var j=b.lastIndexOf(".");if(-1===j)window[b]=a;else{var d=b.substr(0,j),b=b.substr(j+1,b.length),j={};j[b]=a;f.u.obj.expose(d,j)}}})})();(function(){function h(a){return(a=a&&w(a)?a.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/):null)?{elmType:a[1],dataModel:a[2],dimension:a[3]?1:0}:{}}function A(b,c){return function oa(b,j){if(!c[b])return!1;for(var d=
0,e=c[b].length;d<e;d++)if(-1<a.inArray(c[b][d],j)||oa(c[b][d],j.concat([b])))return!0;return!1}(b,[])}function k(a){return"number"===typeof a&&isNaN(a)}function s(a,b){return null==a||k(a)||"number"===typeof a||!b&&(a instanceof Number||!(!(w(a)||a instanceof String)||!a.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function z(a,b){return null==a||"number"===typeof a&&parseInt(a)===a||!b&&(a instanceof Number&&parseInt(a)===parseFloat(a)||("string"===typeof a||a instanceof String)&&!!a.match(/^[+\-]{0,1}[0-9]+$/))}
function G(b,d,e){function m(){g.push(v.call(this,arguments));if(e)throw null;}var g=[];try{if(!a.isPlainObject(b))throw m(ka),null;ha(b.name)||m(Wa);var f=b.base,i=null;if(null!=f)if(!w(f)||0!==f.indexOf("@"))m(pa);else{var r=f.substring(1);d.models[r]?i=d.models[r].schema:m(ta,r)}var l=b.schema;!i&&null==l&&m(Da);if(!i&&!a.isPlainObject(l))throw m(eb),null;}catch(k){c(Y,null,g)}}function x(b,d,e,g){function f(){i.push(v.call(this,arguments));if(g)throw null;}"object"!==typeof b&&c(B);var i=[];try{if(d){var r=
!1,l;for(l in b)b[l]&&!0===b[l].id&&(r&&f(m),r=!0);r||f(E)}var u={},r=function(a){if(null!=a){q&&f(Q,o);P.hasOwnProperty("defaultValue")&&f(la,o);if(null==a.on)f(U,o);else for(var c=R(a.on),d=0,e=c.length;d<e;d++)if(!b.hasOwnProperty(c[d])){f(U,o);break}"function"!==typeof a.calc&&f(Oa,o);u[o]=R(a.on)}};l=function(a){q&&null==a&&(a="string");var b={};null!=a&&(w(a)?(q&&"string"!==a&&"integer"!==a&&f(Ua,o),b=h(a),b.elmType?(b.dataModel&&(d||f(Ea,o,b.dataModel),e.models[b.dataModel]||f(Qa,o,b.dataModel)),
"enum"===b.elmType&&null==P.enumValue&&f(Ya,o)):f(Ea,o,a)):f(Xa,o))};var n=function(b,j){if(null!=b)if(a.isPlainObject(b)){for(var c in b){var d=b[c];if(null!=d)switch(c){case "notNull":!0!==d&&!1!==d?f(Sa,o,c):q&&!d&&f(Pa,o,c,d);break;case "min":case "max":switch(j.elmType){case "integer":(w(d)||!z(d)||k(d))&&f(ra,o,c);break;case "number":(w(d)||w(d)||!s(d)||Infinity===d||-Infinity===d||k(d))&&f(ra,o,c);break;default:f(Aa,o,c,j.elmType)}break;case "minLength":case "maxLength":switch(j.elmType){case "string":w(d)||
!z(d)||k(d)||0>d?f(X,o,c):q&&"maxLength"===c&&0===d&&f(Pa,o,c,d);break;default:f(Aa,o,c,j.elmType)}break;case "notEmpty":switch(j.elmType){case "string":!0!==d&&!1!==d?f(Sa,o,c):q&&!d&&f(Pa,o,c,d);break;default:f(Aa,o,c,j.elmType)}break;case "pattern":switch(j.elmType){case "string":"regexp"!==a.type(d)&&f(Z,o,c);break;default:f(Aa,o,c,j.elmType)}}}b.notEmpty&&0===b.maxLength&&f(V,o,"notEmpty","maxLength");null!=b.min&&null!=b.max&&b.min>b.max&&f(V,o,"min","max");null!=b.minLength&&null!=b.maxLength&&
b.minLength>b.maxLength&&f(V,o,"minLength","maxLength")}else f(Ra,o)},p=function(b,j){null!=b&&("enum"!==j.elmType&&f(aa,o),(!K(b)||0===b.length||-1<a.inArray(null,b)||-1<a.inArray(void 0,b))&&f(ba,o))},o;for(o in b){var P=null==b[o]?{}:b[o],q=d&&!!P.id;ha(o)||f(W,o);r(P.depend);l(P.type);var t={},F=q&&null==F?"string":P.type;w(F)&&(t=h(F));n(P.constraint,t);p(P.enumValue,t);q&&P.hasOwnProperty("defaultValue")&&f(ia,o)}for(var L in u)A(L,u)&&f(Fa,L)}catch(ka){c(M,null,i)}return!0}function D(a,b){var d=
[];try{for(var e in a){var m=a[e];if(m&&(m.hasOwnProperty("defaultValue")||!m.type||!("array"===m.type||h(m.type).dimension))&&m.hasOwnProperty("defaultValue")){var f=m.defaultValue;b[e](f).length&&pushErrorReason(ua,e,f)}}return!0}catch(g){c(M,null,d)}}function t(a,b,c){var d={},e;for(e in a){var m=d,f=e,g;g=c;var i=a[e]||{},r=[],l=null,k=0,l=i.type,u=i.constraint||{};b&&i.id&&(l=l||"string",u.notNull=!0,"string"===l&&(u.notEmpty=!0));l&&(k=h(l),l=k.elmType,k=k.dimension,r.push(C(l,{manager:g,enumValue:i.enumValue})));
u&&r.push(n(u));g=q({checkFuncs:r,dimension:k});m[f]=g}return d}function n(a){return function(b){var c=[];a.notNull&&null==b&&c.push({notNull:a.notNull});a.notEmpty&&!b&&c.push({notEmpty:a.notEmpty});if(null==b)return c;null!=a.min&&b<a.min&&c.push({min:a.min});null!=a.max&&a.max<b&&c.push({max:a.max});null!=a.minLength&&b.length<a.minLength&&c.push({minLength:a.minLength});null!=a.maxLength&&a.maxLength<b.length&&c.push({maxLength:a.maxLength});null!=a.pattern&&!b.match(a.pattern)&&c.push({pattern:a.pattern});
return c}}function C(b,c){var d=[{type:b}];switch(b){case "number":return function(a,b){return s(a,b)?[]:d};case "integer":return function(a,b){return z(a,b)?[]:d};case "string":return function(a,b){return null==a||w(a)||!b&&a instanceof String?[]:d};case "boolean":return function(a,b){return null==a||"boolean"===typeof a||!b&&a instanceof Boolean?[]:d};case "enum":return function(b){var j;a:if(j=c.enumValue,k(b)){for(var b=0,e=j.length;b<e;b++)if(k(j[b])){j=!0;break a}j=!1}else j=null===b||-1<a.inArray(b,
j);return j?[]:d};case "any":return function(){return[]}}var e=b.match(/^@(.+?)$/)[1],m=c.manager;return function(a){var b=m.models[e];return!b||"object"!==typeof a&&null!=a?d:null==a||b.has(a)?[]:d}}function q(a){var b=a.checkFuncs;if(!b||0===b.length)return function(){return[]};var c=a.dimension||0;return function(a,j){function d(a,m){if(!m){for(var g=0,i=b.length;g<i;g++){var r=b[g](a,j);if(r.length)return e=e.concat(r),!1}return!0}if(null==a)return!0;if(!K(a)&&!f.core.data.isObservableArray(a))return e.push({dimension:c}),
!1;g=0;for(i=a.length;g<i;g++)if(!d(a[g],m-1))return!1;return!0}var e=[];d(a,c);return e}}function l(a,b){a._values={};a._nullProps={};for(var c in b)if(b[c]&&o(b[c].type)){var d=xa();d.relatedItem=a;a._values[c]=d;a._nullProps[c]=!0}}function o(a){return!a?!1:-1!==a.indexOf("[]")}function v(){return{code:arguments[0]}}function d(b,d,e,m){function f(c){for(var c=R(r[c].depend.on),d=0,e=c.length;d<e;d++)if(-1===a.inArray(c[d],b._realProperty)&&-1!==a.inArray(c[d],i))return!1;return!0}function g(b,
c){for(var j=0,d=c.length;j<d;j++){var e=l[c[j]];if(e)for(var m=0,f=e.length;m<f;m++){var i=e[m];-1===a.inArray(i,b)&&b.push(i)}}}var i=[],r=b.schema||b._model.schema,l=b._dependencyMap,k={};for(m?i=b._dependProps.slice():g(i,R(e));0!==i.length;){for(var e=[],m=0,u=i.length;m<u;m++){var h=i[m];if(f(h)){var B=r[h].depend.calc.call(b,d);0!==b._validateItemValue(h,B,!0).length&&c(db,[b._model?b._model.name:qa,h,B]);k[h]={oldValue:b._values[h],newValue:B};r[h]&&o(r[h].type)?B?(b._values[h].copyFrom(B),
b._nullProps[h]=!1):(b._values[h].copyFrom([]),b._nullProps[h]=!0):b._values[h]=B}else e.push(h)}g(e,i);i=e}return k}function b(a,b,d,e){for(var m in d){m in a||c(ca,[e?e.name:qa,m]);var f=d[m];if(!a[m]||!o(a[m].type)||d.hasOwnProperty(m))f=b(m,f,e&&e._idKey===m),0<f.length&&c(u,[e?e.name:qa,m],f)}}function g(b,e,m,g){var i=b.schema||b._model.schema,r=[],l;for(l in e)if(!(m&&-1!==a.inArray(l,m))){var h=b._values[l],u=e[l];if(i[l]&&i[l].depend)h!==u&&c(P,[b._model?b._model.name:qa,l]);else{var B=i[l]&&
i[l].type;o(B)&&(null==u?(u=[],b._nullProps[l]=!0):b._nullProps[l]=!1);if(B&&B.match(/string|number|integer|boolean/)){var E=u;if(K(E)){for(var E=E.slice(0),u=0,n=E.length;u<n;u++)E[u]=E[u]&&"object"===typeof E[u]?E[u]&&E[u].valueOf&&E[u].valueOf():E[u];u=E}else u=E&&"object"===typeof E&&E.valueOf?E.valueOf():E}if(null!=u&&B&&B.match(/number|integer/)&&"number"!==typeof u)if(K(u)||f.core.data.isObservableArray(u)){E=0;for(n=u.length;E<n;E++)null!=u[E]&&s(u[E])&&(u[E]=parseFloat(u[E]))}else null!=
u&&(u=parseFloat(u));if(!o(B)||!h||!h.equals(u,h))h===u||k(h)&&k(u)||(B&&-1!==B.indexOf("[]")&&f.core.data.isObservableArray(h)&&(h=h.toArray()),r.push({p:l,o:h,n:u}))}}if(r.length){e={};m=[];E=0;for(l=r.length;E<l;E++)h=r[E],i[h.p]&&o(i[h.p].type)?h.n&&b._values[h.p].copyFrom(h.n):b._values[h.p]=h.n,e[h.p]={oldValue:h.o,newValue:b.get(h.p)},m.push(h.p);i={type:!0===g?"create":"change",target:b,props:e};a.extend(e,d(b,i,m,g));return i}}function i(a){var b=a._manager,a=a.name;b._updateLogs||(b._updateLogs=
{});b._updateLogs[a]||(b._updateLogs[a]={});return b._updateLogs[a]}function L(a,b,c){if(a._manager)for(var d=i(a),e=0,m=c.length;e<m;e++){var f=c[e],g=f._values[a._idKey];d[g]||(d[g]=[]);d[g].push({type:b,item:f})}}function F(a,b){if(a._manager){var c=i(a),d=b.target._values[a._idKey];c[d]||(c[d]=[]);c[d].push({type:Za,ev:b})}}function e(b){var c={},d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d]?b[d].depend:null;if(e)for(var e=R(e.on),m=0,f=e.length;m<f;m++){var g=e[m];c[g]||(c[g]=[]);-1===a.inArray(d,
c[g])&&c[g].push(d)}}return c}function H(b,c){G(b,c,!0);var d;d=(d=b.base)?c.models[d.slice(1)].schema:{};d=a.extend({},d,b.schema);x(d,!0,c,!0);var e=t(d,!0,c);D(d,e,!0);return new va(d,b,e,c)}function O(b,c){var d=[],m=[],f=[],g;for(g in b)b[g]&&b[g].depend?m.push(g):d.push(g),b[g]&&b[g].type&&-1!==b[g].type.indexOf("[]")&&f.push(g);g=e(b);var i={},r;for(r in b){var l=b[r];if(!l||!l.depend){var u=null,u=l&&void 0!==l.defaultValue?l.defaultValue:null;i[r]=u}}return{_realProps:d,_dependProps:m,_aryProps:f,
_dependencyMap:g,_createInitialValueObj:function(b){if(!b)return a.extend({},i);var c=a.extend({},i),d;for(d in b)c[d]=b[d];return c},_validateItemValue:function(a,b,d){return c[a](b,d)}}}function p(b,d,e,m){var g=!1,i=["sort","reverse","pop","shift"],l=null;e.addEventListener("changeBefore",function(e){m&&(b._isRemoved||!m._manager)&&c(r,[b._values[m._idKey],e.method]);var h=f.u.obj.argsToArray(e.args);if(-1===a.inArray(e.method,i)){var k=!0;switch(e.method){case "splice":k=!1;h.shift();h.shift();
break;case "copyFrom":h=h[0];break;case "set":h.shift()}k&&(e=b._validateItemValue(d,h),0<e.length&&c(u,d,e))}m?(m._manager&&(e=m._manager,h=m.name,e._oldValueLogs||(e._oldValueLogs={}),e._oldValueLogs[h]||(e._oldValueLogs[h]={}),e=e._oldValueLogs[h],h=b._values[m._idKey],e[h]||(e[h]={}),e[h][d]||(e[h][d]=b._values[d].toArray())),(g=m._manager?m._manager.isInUpdate():!1)||m._manager.beginUpdate()):l=b._values[d].toArray()});e.addEventListener("change",function(a){if(!(b._isInSet||null===a.method)){var c=
{type:"change",target:b,props:{}};c.props[d]={};m?(F(m,c),g?a.stopImmediatePropagation():(m._manager._isArrayPropChangeSilentlyRequested=!0,m._manager.endUpdate(),m._manager._isArrayPropChangeSilentlyRequested=!1)):e.equals(l)||(c.props[d]={oldValue:l,newValue:b._values[d]},b.dispatchEvent(c))}})}function ma(a){ha(a)||c(ea);this.models={};this.name=a;this._updateLogs=null;this._isArrayPropChangeSilentlyRequested=!1}function va(a,b,c,d){this.items={};this.size=0;this.name=b.name;this._manager=d;for(var e in a)a[e]&&
a[e].id&&(this._idKey=e);this._idType=(b=a[this._idKey].type)?"string"===b?S:ya:S;this.schema=a;this._itemConstructor=na(a,c,this);d.models[this.name]=this}function na(c,d,e){function m(a){l(this,c,i,a);a=i._createInitialValueObj(a);b(c,i._validateItemValue,a,e);g(this,a,null,!0);for(var a=i._aryProps,d=0,f=a.length;d<f;d++)p(this,a[d],this.get(a[d]),e)}var i=O(c,d);e._schemaInfo=i;f.mixin.eventDispatcher.mix(m.prototype);a.extend(m.prototype,i,$a,{_model:e,_isRemoved:!1,getModel:function(){return this._isRemoved?
null:this._model}});return m}function wa(){}function da(){this.length=0;this._src=[]}function xa(){return new da}function T(a){return a&&a.constructor===da?!0:!1}var S="string",ya="number",ea=15E3,Y=15001,r=15005,B=15008,M=15009,u=15011,P=15012,ca=15013,db=15016,ka=15900,Wa=15901,pa=15902,ta=15903,Da=15904,eb=6,m=15800,E=15801,W=15802,Q=15803,U=15804,Oa=15805,Xa=15806,Ea=15807,Qa=15808,Ya=15809,Ra=15810,Sa=15811,ra=15812,Aa=15813,Z=15814,X=15815,V=15816,aa=15817,ba=15818,ia=15819,ua=15820,Pa=15821,
la=15822,Fa=15823,Ua=15824,qa="n/a",Za=2,$a={get:function(b){if(0===arguments.length)return a.extend({},this._values);var d=this._model;(d?d.schema:this.schema).hasOwnProperty(b)||c(15014,[d?d.name:qa,b]);return this._values[b]},set:function(a){var d=a;2===arguments.length&&(d={},d[arguments[0]]=arguments[1]);var e=this._model;e&&(this._isRemoved||!e._manager)&&c(r,[this._values[this._model._idKey],"set"],this);if(e)e._idKey in d&&d[e._idKey]!==this._values[e._idKey]&&c(15003,[e.name,this._idKey]),
b(e.schema,e._schemaInfo._validateItemValue,d,e);else{var m=this.validate(d);if(m)throw m;}var m=null,f=e?e._manager.isInUpdate():!1;e&&!f&&e._manager.beginUpdate();this._isInSet=!0;m=g(this,d);this._isInSet=!1;e?(m&&F(e,m),f||e._manager.endUpdate()):m&&this.dispatchEvent(m)},regardAsNull:function(a){return this._isArrayProp(a)?!0===this._nullProps[a]:null===this._values[a]},_isArrayProp:function(a){var b=this._model?this._model.schema:this.schema;return b[a]&&b[a].type&&-1<b[a].type.indexOf("[]")?
!0:!1}};f.mixin.eventDispatcher.mix(ma.prototype);a.extend(ma.prototype,{createModel:function(b){(!b||"object"!==typeof b)&&c(Y,null,[v(ka)]);if(!K(b))return this.models[b.name]?this.models[b.name]:H(b,this);var d=b.length;d||c(Y,null,[v(ka)]);for(var e={},m=[],f=0;f<d;f++){var g=b[f].name;if(this.models[g])u[f]=manager.models[b.name];else try{m.push(g);g=[];b[f].base&&g.push(b[f].base.substring(1));for(var i in b[f].schema){var r=b[f].schema[i];if(r){var l=r.type;l&&"@"===l.substring(0,1)&&(l=-1===
l.indexOf("[]")?l.substring(1):l.substring(1,l.length-2),g.push(l))}}e[f]={depends:g}}catch(h){c(Y)}}for(var u={size:0};u.size<d;){i={};r=!1;for(f=0;f<d;f++)if(!e[f].registed){for(var g=e[f].depends,l=0,k=g.length;l<k;l++)if(!this.models[g[l]]){i[g[l]]=!0;break}l===k&&(u[f]=H(b[f],this),u.size++,r=!0,e[f].registed=!0)}if(!r){var f=!0,E;for(E in i)if(-1===a.inArray(E,m)){f=!1;break}f&&c(15004);c(Y,null,[v(ta,E)])}}b=[];for(f=0;f<d;f++)b.push(u[f]);return b},dropModel:function(a){if((a=w(a)?a:"object"===
typeof a?a.name:null)&&this.models[a]){var b=this.models[a];b._manager=null;delete this.models[a];return b}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var a=!this._isArrayPropChangeSilentlyRequested,b=this._updateLogs,d=this._oldValueLogs;this._oldValueLogs=this._updateLogs=null;var c={},e;for(e in b)if(b.hasOwnProperty(e)){var m;m=this.models[e];var f=b[e],g=[],i=[],r=[],l=[],h=
void 0;for(h in f){for(var u=f[h],E=!0,B=[],o=u.length-1;0<=o;o--){var n=u[o],W=n.type;if(W===Za)B.push(n.ev);else{a:{for(E=0;E<o;E++){var Q=u[E].type;if(1===Q||3===Q){o=u[E];break a}}o=null}if(1===W)o&&3===o.type?g.push({id:h,oldItem:o.item,newItem:n.item}):i.push(n.item);else if(o=o&&3===o.type?o.item:o?null:n.item)l.push(o),o.dispatchEvent({type:"remove",model:m});E=!1;break}}if(E&&0<B.length){n={};for(o=B.length-1;0<=o;o--)for(var M in B[o].props)n[M]||(T(m.get(h).get(M))?(W=d&&d[m.name]&&d[m.name][h]&&
d[m.name][h][M],m.get(h).get(M).equals(W)||(n[M]={oldValue:W})):n[M]={oldValue:B[o].props[M].oldValue});o=!1;for(M in n)W=n[M].oldValue,u=m.get(h).get(M),W===u||k(W)&&k(u)?delete n[M]:(o=m.get(h).get(M),a&&T(o)&&o.dispatchEvent({type:"change",method:null,args:null,returnValue:null}),n[M].newValue=o,o=!0);o&&(B={type:"change",target:B[0].target,props:n},r.push(B),B.target.dispatchEvent(B))}}(m=0===i.length&&0===g.length&&0===l.length&&0===r.length?!1:{created:i,recreated:g,removed:l,changed:r})&&(c[e]=
m)}a=!1;for(e in c)a=!0,m=c[e],this.models[e].dispatchEvent({type:"itemsChange",created:m.created,recreated:m.recreated,removed:m.removed,changed:m.changed});c={type:"itemsChange",models:c};a&&this.dispatchEvent(c)}},_dataModelItemsChangeListener:function(a){var b=a.target.manager,c={};c[a.target.name]=a;b.dispatchEvent({type:"itemsChange",models:c})}});f.mixin.eventDispatcher.mix(va.prototype);a.extend(va.prototype,{create:function(a){this._manager||c(15006,[this.name,"create"]);var b=this.validate(a,
!0);if(b)throw b;(b=this._manager?this._manager.isInUpdate():!1)||this._manager.beginUpdate();for(var d=[],e=R(a),m=[],f=this._idKey,i=0,r=e.length;i<r;i++){var l=e[i],h=l[f],u=this._findById(h);u?(m.push(u),(h=g(u,l,[f]))&&F(this,h)):(l=new this._itemConstructor(l),this.items[h]=l,this.size++,d.push(l),m.push(l))}0<d.length&&L(this,1,d);b||this._manager.endUpdate();return K(a)?m:m[0]},validate:function(a,d){try{var e=this._idKey,m=R(a);"object"!==typeof a&&!K(a)&&c(15007);if(d)for(var f=0,g=m.length;f<
g;f++){var i=m[f],r=i[e];(""===r||null==r)&&c(15002,[this.name,e]);var l=this._schemaInfo._createInitialValueObj(i);b(this.schema,this._schemaInfo._validateItemValue,l,this)}else for(var f=0,h=m.length;f<h;f++)i=m[f],b(this.schema,this._schemaInfo._validateItemValue,i,this)}catch(u){return u}return null},get:function(a){if(K(a)||f.core.data.isObservableArray(a)){for(var b=[],d=0,c=a.length;d<c;d++)b.push(this._findById(a[d]));return b}return this._findById(a)},remove:function(a){this._manager||c(15006,
[this.name,"remove"]);var b=this._manager?this._manager.isInUpdate():!1;b||this._manager.beginUpdate();for(var d=this._idKey,e=R(a),m=[],f=[],g=0,i=e.length;g<i;g++)if(this.has(e[g])){var r=w(e[g])||z(e[g],!0)?e[g]:e[g]._values[d],l=this.items[r];delete this.items[r];this.size--;f.push(l);l._model&&(l._isRemoved=!0);m.push(l)}else f.push(null);0<m.length&&L(this,3,m);b||this._manager.endUpdate();return K(a)?f:f[0]},removeAll:function(){var a=this.toArray();0<a.length&&this.remove(a);return a},has:function(a){return w(a)||
z(a,!0)?!!this._findById(a):"object"===typeof a?null!=a&&N(a.get)&&a===this.items[a.get(this._idKey)]:!1},getManager:function(){return this._manager},_findById:function(a){a=this.items[a];return typeof a===ga?null:a},_dispatchItemsChangeEvent:function(a){a={type:"itemsChange",created:[],recreated:[],removed:[],changed:[a]};this.dispatchEvent(a);this._manager&&(a.target=this,this._manager._dataModelItemsChangeListener(a))},toArray:function(){var a=[],b=this.items,d;for(d in b)b.hasOwnProperty(d)&&
a.push(b[d]);return a}});f.mixin.eventDispatcher.mix(wa.prototype);a.extend(wa.prototype,$a,{validate:function(a){try{var d=a;2===arguments.length&&(d={},d[arguments[0]]=arguments[1]);b(this.schema,this._validateItemValue,d)}catch(c){return c}return null}});f.mixin.eventDispatcher.mix(da.prototype);var Ia={equals:function(a){var b=this.length;if(!K(a)&&!T(a)||a.length!==b)return!1;for(var a=T(a)?a._src:a,d=0;d<b;d++){var c=this[d],e=a[d];if(!(c===e||k(c)&&k(e)))return!1}return!0},copyFrom:function(a){null==
a&&(a=[]);a=T(a)?a._src:a;K(a)||c(15010,[0,a]);a=a.slice(0);a.unshift(0,this.length);Array.prototype.splice.apply(this,a)},get:function(a){return this[a]},set:function(a,b){this[a]=b},toArray:function(){return this.slice(0)},concat:function(){for(var a=f.u.obj.argsToArray(arguments),b=0,d=a.length;b<d;b++)T(a[b])&&(a[b]=a[b].toArray());return this.concat.apply(this,a)}},Ga="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),
ja;for(ja in Ia)Ia.hasOwnProperty(ja)&&-1===a.inArray(ja,Ga)&&Ga.push(ja);var Ja=["concat","slice","splice","filter","map"],Ka=["reverse","sort"],fb="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");ja=0;for(var hb=Ga.length;ja<hb;ja++){var bb=Ga[ja];da.prototype[bb]=function(b){function d(){var e=c.apply(this._src,arguments);if(-1!==a.inArray(b,Ka))e=this;else if(-1!==a.inArray(b,Ja)){var m=xa();m.copyFrom(e);e=m}return e}var c=Ia[b]?Ia[b]:Array.prototype[b];return-1===a.inArray(b,
fb)?d:function(){if(!this.dispatchEvent({type:"changeBefore",method:b,args:arguments})){var a=d.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:b,args:arguments,returnValue:a});return a}}}(bb)}f.u.obj.expose("h5.core.data",{createManager:function(a,b){ha(a)||c(ea);var d=new ma(a);if(null!=b){""===b&&(b="window");var e={};e[a]=d;f.u.obj.expose(b,e)}return d},createObservableArray:xa,createObservableItem:function(a){x(a,!1,null,!0);var d=t(a);D(a,d,!0);var c=
new wa,d=O(a,d);l(c,a,d);c.schema=a;for(var e in d)c[e]=d[e];e=d._createInitialValueObj();b(a,d._validateItemValue,e);g(c,e,null,!0);a=0;for(d=c._aryProps.length;a<d;a++)p(c,c._aryProps[a],c.get(c._aryProps[a]));return c},isObservableArray:T,isObservableItem:function(a){return!(!a||!a.constructor||!a._validateItemValue||N(a.getModel))},createSequence:function(b,d,c){function e(){return r}function m(){var a=r;r+=l;return a}function f(){return r.toString()}function g(){var a=r;r+=l;return a.toString()}
function i(){}var r=null!=b?b:1,l=null!=d?d:1,b=1===c?{current:f,next:g,returnType:1}:{current:e,next:m,returnType:2};b.setCurrent=function(a){r=a};a.extend(i.prototype,b);return new i},SEQ_STRING:1,SEQ_INT:2})})();(function(){function h(a,b){return!a||a.nodeType!==V?void 0:a.getAttribute(b)}function A(a){if(!a)return null;for(var b=[],d=0,c=a.length;d<c;d++)b.push(a[d]);return b}function k(a,b,d,c){var e=[],b=R(b);if(!0===c)return s(e,a,b,d),e;for(var a=a.childNodes,c=0,f=a.length;c<f;c++)s(e,a[c],
b,d);return e}function s(a,b,d,c){if(b.nodeType===V){for(var e=0,f=d.length;e<f;e++){var g=b.getAttribute(d[e]);if(typeof c===ga){if(null!==g){a.push(b);break}}else if(null!==g&&g==c){a.push(b);break}}if(0<b.childNodes.length){b=b.childNodes;e=0;for(f=b.length;e<f;e++)s(a,b[e],d,c)}}}function z(b,d){for(var b=R(b),c=[],e=0,f=b.length;e<f;e++){var l=b[e];if(l.nodeType===V&&!(!0===d&&(null!=h(l,i)||null!=h(l,L))))for(var o=k(l,g,void 0,!0),n=0,p=o.length;n<p;n++){for(var v=!0,q=o[n];null!=q&&q!==l;q=
q.parentNode)if(null!=h(q,i)||null!=h(q,L)){v=!1;break}v&&c.push(o[n])}}return a(c)}function w(b,d,c){for(var e=[],f=0,g=b.length;f<g;f++){var l=b[f];if(l.nodeType===V){if(!0===c){if(null!=l.getAttribute(d)){e.push(l);continue}if(null!=h(l,i)||null!=h(l,L))continue}for(var o=k(l,d,void 0,!1),n=0,p=o.length;n<p;n++){var q=a(o[n])[0],v=q.parentNode;(null==h(v,i)&&null==h(v,L)||v===l)&&e.push(q)}}}return a(e)}function x(a){return a&&a.addEventListener&&a.getModel&&!K(a)&&!f.core.data.isObservableArray(a)||
f.core.data.isObservableItem(a)?!0:!1}function D(a,b){for(var d=0,c=a.length;d<c;d++){var f=a[d];f.nodeType===V&&f.setAttribute(e,b)}}function t(b,d,e){var g=T++,i=d[0];a(i).empty();if(e){!K(e)&&!f.core.data.isObservableArray(e)&&c(da);D(d,g);b._addBindingEntry(e,i,g);f.core.data.isObservableArray(e)&&!b._isWatching(e)&&(d=function(a){b._observableArray_changeListener(a)},b._listeners[b._getContextIndex(e)]=d,e.addEventListener("change",d));var d=h(i,F),d=A(b._getSrcCtxNode(d).childNodes),l=[];b._loopElementsMap[g]=
l;for(var g=i.ownerDocument.createDocumentFragment(),k=e.get?function(a){return e.get(a)}:function(a){return e[a]},o=0,p=e.length;o<p;o++){for(var q=[],v=0,s=d.length;v<s;v++){var t=Y(d[v]);q.push(t);g.appendChild(t)}l[o]=q;i.appendChild(g);n(b,q,k(o),!1,!0)}}}function n(a,b,d,e,g){b=R(b);if(e)t(a,b,d);else{e=T++;d&&(("object"!==typeof d||K(d)||f.core.data.isObservableArray(d))&&c(da),D(b,e),a._addBindingEntry(d,b,e));var i=x(d);i&&!a._isWatching(d)&&(e=function(b){a._observableItem_changeListener(b)},
a._listeners[a._getContextIndex(d)]=e,d.addEventListener("change",e));z(b,g).each(function(){q(this,d,i)});C(a,b,d,!1,g);C(a,b,d,!0,g)}}function C(a,b,d,c,e){var f=c?"data-h5-loop-context":"data-h5-context";w(b,f,e).each(function(){var b=h(this,f),e=null;d&&(e=x(d)?d.get(b):d[b]);n(a,this,e,c)})}function q(b,d,e){for(var f=h(b,g).split(ma),i=[],l=[],o=[],k=0,n=f.length;k<n;k++){var q=f[k];if(-1===q.indexOf(p))0<a.trim(q).length&&(i.push(null),l.push(null),o.push(a.trim(q)));else{var v=q.split(p),
q=a.trim(v[0]),v=a.trim(v[1]),s=null,t=va.exec(q);t&&(s=t[1],q=/(\S+)[\s\(]/.exec(q)[1]);0<q.length&&0<v.length&&(i.push(q),l.push(s),o.push(v))}}f=b.tagName.toLowerCase();k=a(b);n=0;for(q=i.length;n<q;n++){var s=i[n],t=l[n],m=o[n],v=null;d&&(v=e?d.get(m):d[m]);null==s&&("input"===f?(s="attr",t="value"):s="text");switch(s){case "text":null==v?k.text(""):k.text(v);break;case "html":null==v?k.html(""):k.html(v);break;case "class":var s=h(b,O),m=(t=null==s)?"":" ",E=!1;v&&(E=!RegExp("\\s"+v+"\\s").test(" "+
s+" "));k[0].className=(t?"":s)+(E?m+v:"");break;case "attr":t||c(na);"input"===f&&"value"===t?null==v?k.val(""):k.val(v):null==v?k.removeAttr(t):k.attr(t,v);break;case "style":t||c(na);null==v?k.css(t,""):k.css(t,v);break;default:c(N)}}}function l(a,b,d){for(var c=0,e=d.length;c<e;c++){var f=d[c];b.removeChild(f);a._removeBinding(f)}}function o(a){for(var a=a.childNodes,b=[],d=0,c=a.length;d<c;d++)b.push(Y(a[d]));return b}function v(a,b,d,c,e){for(var f=d.ownerDocument.createDocumentFragment(),g=
[],i=0,l=e.length;i<l;i++){var h=o(d);g[i]=h;for(var k=0,v=h.length;k<v;k++)f.appendChild(h[k]);n(a,h,e[i])}Array.prototype[c].apply(b,g);return f}function d(a,b,d,c,e,f){var g=c.length;if(0!==g){for(var i=c[0],h=i,d=1===g?d.length:h+c[1];h<d;h++){var k=e[h];k&&l(a,b,k)}e.splice(i,c[1]);if(!(2>=g)){h=e.length;h=0===h||0===i?b.firstChild:i>=h?null:e[i][0];d=f.ownerDocument.createDocumentFragment();i=[i,0];for(k=2;k<g;k++){for(var v=o(f),p=0,q=v.length;p<q;p++)d.appendChild(v[p]);n(a,v,c[k]);i.push(v)}b.insertBefore(d,
h);Array.prototype.splice.apply(e,i)}}}function b(a,b){void 0!==a.nodeType?a.nodeType===V&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=A(a));this._bindRootId=S++;ya[this._bindRootId]=this;for(var d=[],c=0,e=this._targets.length;c<e;c++){var f=this._targets[c];if(f.nodeType===V){f.setAttribute(H,this._bindRootId);for(var l=k(f,[i,L],void 0,!0),o=0,v=l.length;o<v;o++){var p=xa++;l[o].setAttribute(F,p)}l=k(f,g,void 0,!0);o=0;for(v=l.length;o<v;o++)p=l[o],
/class\s*:/.test(h(p,g))&&""!=p.className&&p.setAttribute(O,p.className)}d.push(f.cloneNode(!0))}this._srces=d;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};n(this,this._targets,this._rootContext,!1,!0)}var g="data-h5-bind",i="data-h5-context",L="data-h5-loop-context",F="data-h5-dyn-ctx",e="data-h5-dyn-vid",H="data-h5-dyn-bind-root",O="data-h5-dyn-cn",p=":",ma=";",va=/\(\s*(\S+)\s*\)/,na=7100,N=7101,da=7102,xa=0,T=0,S=0,ya={},ea={},Y;
(function(){var b=document.createElement("div");b.h5Dummy="a";var d=b.cloneNode(!1),c=void 0!==d.h5Dummy;b.h5Dummy=void 0;c?(d.h5Dummy=void 0,Y=function(b){var d=b.ownerDocument;return b.nodeType===V?a(a.trim(b.outerHTML),d)[0]:b.cloneNode(!0)}):Y=function(a){return a.cloneNode(!0)}})();a.extend(b.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var d=this._targets[a];if(d.nodeType===V){this._removeBinding(d);d.removeAttribute(H);for(var c=k(d,O,void 0,!0),e=0,f=c.length;e<
f;e++)c[e].removeAttribute(O);d=k(d,F,void 0,!0);e=0;for(c=d.length;e<c;e++)d[e].removeAttribute(F)}}delete ya[this._bindRootId]},_observableArray_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b)for(var c in b)if(b.hasOwnProperty(c)){var e=b[c],f=this._getSrcCtxNode(h(e,F)),g=this._loopElementsMap[c];switch(a.method){case "set":d(this,e,a.target,[a.args[0],1,a.args[1]],g,f);break;case "shift":case "pop":var i=g[a.method]();i&&l(this,e,i);break;case "unshift":i=v(this,g,f,a.method,
a.args);e.insertBefore(i,e.firstChild);break;case "push":i=v(this,g,f,a.method,a.args);e.appendChild(i);break;case "splice":d(this,e,a.target,a.args,g,f);break;case "reverse":for(var i=e,k=g;i.firstChild;)i.removeChild(i.firstChild);for(var p=0,e=k.length;p<e;p++)for(var f=k[p],q=f.length-1;0<=q;q--)i.insertBefore(f[q],i.firstChild);g.reverse();break;case "sort":case "copyFrom":case null:for(var i=this._loopElementsMap,k=c,p=a.target,q=g,g=f,f=0,t=q.length;f<t;f++)l(this,e,q[f]);for(var q=e.ownerDocument.createDocumentFragment(),
t=[],f=0,s=p.length;f<s;f++){var L=o(g);t[f]=L;for(var m=0,E=L.length;m<E;m++)q.appendChild(L[m]);n(this,L,p.get(f))}e.appendChild(q);i[k]=t}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b){var d=!1;a.target===this._rootContext&&(d=!0);var c=this,e;for(e in b)if(b.hasOwnProperty(e)){var f=b[e];z(f,d).each(function(){q(this,a.target,!0)});w(f,i).each(function(){var b=h(this,i);if(!(b in a.props))return!0;c._removeBinding(this);var d=h(this,F),d=c._getSrcCtxNode(d),
d=Y(d);this.parentNode.replaceChild(d,this);n(c,d,a.props[b].newValue)});w(f,L).each(function(){var b=h(this,L);if(!(b in a.props)||a.target._isArrayProp(b))return!0;c._removeBinding(this);n(c,this,a.props[b].newValue,!0)})}}},_getSrcCtxNode:function(a){for(var b=0,d=this._srces.length;b<d;b++){var c=this._srces[b];if(h(c,F)===a)return c;c=k(c,F,a);if(0<c.length)return c[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(b){return a.inArray(b,
this._usingContexts)},_addBindingEntry:function(a,b,d){var c=this._getContextIndex(a);-1===c&&(this._usingContexts.push(a),c=this._usingContexts.length-1);ea[d]=a;(a=this._srcToViewMap[c])?a[d]=b:(a={},a[d]=b,this._srcToViewMap[c]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=ea[a];if(b){var d=this._getContextIndex(b);if(-1!==d){var c=this._srcToViewMap[d];c&&c[a]&&(delete c[a],this._hasBindingForSrc(c)||(c=!1,x(b)?
(b.removeEventListener("change",this._listeners[d]),c=!0):f.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[d]),c=!0),c&&delete this._listeners[d],delete this._srcToViewMap[d],this._usingContexts[d]=null))}ea[a]&&delete ea[a]}},_removeBinding:function(a){if(a.nodeType===V){var b=h(a,e);null!=b&&(this._removeBindingEntry(b),a.removeAttribute(e));for(var a=k(a,e),b=0,d=a.length;b<d;b++){var c=a[b];this._removeBindingEntry(h(c,e));c.removeAttribute(e)}}},_getViewsFromSrc:function(a){a=
this._getContextIndex(a);return-1===a?null:this._srcToViewMap[a]}});nb={createBinding:function(a,d){return new b(a,d)}}})();(function(){function h(c){return f.u.obj.isJQueryObject(c)?c:a(c)}function A(){this.__cachedTemplates={}}var k="[",s=7001,z=7002,G=7003,x=7010,D=7011,t=f.async.deferred,n={escapeHtml:function(a){return f.u.str.escapeHtml(a)}},C={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(a,c,f){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);
this.cache[a]={};this.cache[a].templates=c;this.cache[a].path=f;this.cacheUrls.push(a)},deleteCache:function(a,c){c||delete this.cache[a];for(var f=0,d=this.cacheUrls.length;f<d;f++)if(this.cacheUrls[f]===a){this.cacheUrls.splice(f,1);break}},getTemplateByUrls:function(l){function h(b){if(0!==b.length){var d={},e=[];b.each(function(){var b=a.trim(this.id),f=a.trim(this.innerHTML);b||c(z,null,{});try{var g=new EJS.Compiler(f,k);g.compile();d[b]=g.process;e.push(b)}catch(i){f=i.lineNumber,c(x,[f?" line:"+
f:"",i.message],{id:b,error:i,lineNo:f})}});return{compiled:d,data:{ids:e}}}}function n(b,d,c){f.ajax(d).done(function(d,e,f){delete i.accessingUrls[b];d=a(f.responseText).filter(function(){return this.tagName&&-1===this.tagName.indexOf("/")&&8!==this.nodeType});e=this.url;if(0<d.not('script[type="text/ejs"]').length)c.reject(aa(D,null,{url:b,path:e}));else{f=null;try{f=h(d.filter('script[type="text/ejs"]'))}catch(g){g.detail.url=b;g.detail.path=e;c.reject(g);return}var l,k;try{var n=f.compiled;k=
f.data;k.path=e;k.absoluteUrl=b;l=n;i.append(b,n,e)}catch(p){c.reject(aa(s,null,{error:p,url:b,path:e}));return}c.resolve({ret:l,data:k})}}).fail(function(a){delete i.accessingUrls[b];c.reject(aa(G,[a.status,b],{url:b,path:d,error:a}))})}for(var d={},b=[],g=[],i=this,q=function(a){var b=i.cache[a].templates;i.deleteCache(a,!0);i.cacheUrls.push(a);return b},F=0;F<l.length;F++){var e=l[F],A=ba(e);if(this.cache[A])a.extend(d,q(A)),g.push({absoluteUrl:A});else if(this.accessingUrls[A])b.push(this.accessingUrls[A]);
else{var w=f.async.deferred();b.push(this.accessingUrls[A]=w.promise());n(A,e,w)}}var p=t();f.async.when(b).done(function(){for(var b=f.u.obj.argsToArray(arguments),c=0,e=b.length;c<e;c++)a.extend(d,b[c].ret),g.push(b[c].data);p.resolve(d,g)}).fail(function(a){p.reject(a)});return p.promise()}};a.extend(A.prototype,{load:function(f){var h=t(),k=this,d=null;switch(a.type(f)){case "string":a.trim(f)||c(7004);d=[f];break;case "array":d=f;0===d.length&&c(7004);for(var f=0,b=d.length;f<b;f++)w(d[f])?a.trim(d[f])||
c(7004):c(7004);break;default:c(7004)}C.getTemplateByUrls(d).done(function(b,d){a.extend(k.__cachedTemplates,b);h.resolve(d)}).fail(function(a){h.reject(a)});return h.promise()},getAvailableTemplates:function(){var a=[],c;for(c in this.__cachedTemplates)a.push(c);return a},register:function(f,h){"string"!==a.type(h)?c(7E3,null,{id:f}):(!w(f)||!a.trim(f))&&c(z,[]);try{var n=new EJS.Compiler(h,k);n.compile();this.__cachedTemplates[f]=n.process}catch(d){n=d.lineNumber,c(x,[n?" line:"+n:"",d.message],
{id:f})}},isValid:function(a){try{return(new EJS.Compiler(a,k)).compile(),!0}catch(c){return!1}},get:function(f,h){var k=this.__cachedTemplates;(!w(f)||!a.trim(f))&&c(z);(k=k[f])||c(7005,f);var d=h?a.extend(!0,{},h):{},b=d.hasOwnProperty("_h")?new EJS.Helpers(d):new EJS.Helpers(d,{_h:n}),g=null;try{g=k.call(d,d,b)}catch(i){c(7006,i.toString(),i)}return g},update:function(a,c,f){return h(a).html(this.get(c,f))},append:function(a,c,f){return h(a).append(this.get(c,f))},prepend:function(a,c,f){return h(a).prepend(this.get(c,
f))},isAvailable:function(a){return!!this.__cachedTemplates[a]},clear:function(f){if(typeof f===ga)this.__cachedTemplates={};else{var h=null;switch(a.type(f)){case "string":h=[f];break;case "array":f.length||c(z);h=f;break;default:c(z)}for(var f=0,k=h.length;f<k;f++){var d=h[f];(!w(d)||!a.trim(d))&&c(z)}f=0;for(k=h.length;f<k;f++)delete this.__cachedTemplates[h[f]]}},bind:function(h,k){var n=null;null==h&&c(7007);K(h)?n=h:(n=a(h),0===n.length&&c(7007),n=n.toArray());(null==k||"object"!==typeof k||
K(k)||f.core.data.isObservableArray(k))&&c(7009);return nb.createBinding(n,k)}});var q=new A;q.createView=function(){return new A};a(function(){a('script[type="text/ejs"]').each(function(){var c=a.trim(this.id),f=a.trim(this.innerHTML);0!==f.length&&c&&(f=new EJS.Compiler(f,k),f.compile(),q.__cachedTemplates[c]=f.process)})});f.u.obj.expose("h5.core",{view:q})})();(function(){function c(b){var d={},e;for(e in ea){var f=a("<div></div>").addClass(b).addClass(e).appendTo("body"),g=a.camelCase(e);d[g]=
{};a.map(ea[e],function(a){d[g][a]="width"===a||"height"===a?parseInt(f.css(a).replace(/\D/g,""),10):f.css(a)});f.remove()}return d}function A(a,b,d){var a=b.createElement("v:"+a),c;for(c in d)a.style[c]=d[c];return a}function k(a,b){for(var d=[],c=a/2,e=0.8*a/2,f=360/b*Math.PI/180,g=1;g<=b;g++){var i=f*g,h=Math.cos(i),i=Math.sin(i);d.push({from:{x:c+e/2*h,y:c+e/2*i},to:{x:c+e*h,y:c+e*i}})}return d}function s(a){return function(){var b=document.body,d=document.documentElement,c=B?b:M?d:null;return c?
"Height"===a?c["client"+a]>c["scroll"+a]?c["client"+a]:c["scroll"+a]:c["client"+a]:Math.max(b["scroll"+a],d["scroll"+a],b["offset"+a],d["offset"+a],d["client"+a])}}function z(a){return function(){var b=B?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function G(a){var b=B?document.body:document.documentElement;return T.isiOS?window["inner"+a]:b["client"+a]}function x(b){var d=a(b)[0],c=document.body,e=a("html")[0],b={top:0,left:0};if(d===
c&&M)return{top:parseFloat(e.currentStyle.paddingTop||0)+parseFloat(c.currentStyle.marginTop||0)+parseFloat(c.currentStyle.borderTop||0),left:parseFloat(e.currentStyle.paddingLeft||0)+parseFloat(c.currentStyle.marginLeft||0)+parseFloat(c.currentStyle.borderLeft||0)};"undefined"!==typeof d.getBoundingClientRect&&(b=d.getBoundingClientRect());c=B?c:document.documentElement;d=c.clientTop||0;c=c.clientLeft||0;return{top:b.top+pa()-d,left:b.left+ta()-c}}function D(){a.each(ba(arguments),function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",
function(){return!1})})}function t(a){a=aa(a)?a[0]:a;return a===window||a===document||a===document.body}function n(a){return Z(S(a)).getComputedStyle(a,null)}function C(b,d){return!Z(S(b)).getComputedStyle?a(b).css(d):n(b)[d]}function q(b){if(!Z(S(b)).getComputedStyle)return a(b).height();var d=n(b);return b.offsetHeight-parseFloat(d.paddingTop)-parseFloat(d.paddingBottom)}function l(b){if(!Z(S(b)).getComputedStyle)return a(b).width();var d=n(b);return b.offsetWidth-parseFloat(d.paddingLeft)-parseFloat(d.paddingRight)}
function o(b,d){if(!Z(S(b)).getComputedStyle)return a(b).outerHeight();var c=n(b);return q(b)+parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)+parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth)+(d?parseFloat(c.marginTop)+parseFloat(c.marginBottom):0)}function v(b,d){if(!Z(S(b)).getComputedStyle)return a(b).outerWidth();var c=n(b);return l(b)+parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)+parseFloat(c.borderLeftWidth)+parseFloat(c.borderRightWidth)+(d?parseFloat(c.marginLeft)+parseFloat(c.marginRight):
0)}function d(b){if(!Z(S(b)).getComputedStyle)return a(b).innerHeight();var d=n(b);return q(b)+parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)}function b(b){if(!Z(S(b)).getComputedStyle)return a(b).innerWidth();var d=n(b);return l(b)+parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)}function g(b,d,c,e){function f(){i+=g;i>c?(clearInterval(l),d.each(function(a){for(var d in b[a])this.style[d]=""}),e()):d.each(function(b){var d=h[b],c;for(c in d)d[c]+=k[b][c];a(this).css(d)})}var g=X,i=0,h=
[],k=[];d.each(function(a){var e=b[a];k[a]={};h[a]={};var f=n(d[a]),i;for(i in e)h[a][i]=parseFloat(f[i]),k[a][i]=(parseFloat(e[i])-parseFloat(f[i]))*g/c});f();var l=setInterval(f,g)}function i(a,b,d){var c=[];a.each(function(){var a=parseFloat(C(this,"opacity"));c.push({opacity:a})});a.css({opacity:0,display:"block"});g(c,a,b,d)}function L(a,b,d){var c=[];a.each(function(){c.push({opacity:0})});g(c,a,b,d)}function F(b,d){this.style=a.extend(!0,{},b);if(!d.getElementById(na)){d.namespaces.add("v",
"urn:schemas-microsoft-com:vml");var c=d.createElement("style");d.getElementsByTagName("head")[0].appendChild(c);c.id=na;c.setAttribute("type","text/css");c.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }"}c=this.style.throbber.width;this.group=A("group",d,{width:c+"px",height:this.style.throbber.height+"px"});this.group.className=R;for(var c=k(c,this.style.throbber.lines),e=this.style.throbberLine.color,f=this.style.throbberLine.width,g=0,i=c.length;g<i;g++){var h=
c[g],l=h.from,n=h.to,h=A("line",d);h.strokeweight=f;h.strokecolor=e;h.fillcolor=e;h.from=l.x+","+l.y;h.to=n.x+","+n.y;l=A("stroke",d);l.opacity=1;h.appendChild(l);this.group.appendChild(h)}this._createPercentArea(d)}function e(b,d){var e=this,g=a(b);if(g.length){var i=t(g),g=i?a("body"):g,l=S(g[0]);if(l!==window.document&&(g[0]===l||Z(l)===g[0]))g=a(l.body);var k=a.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,fadeOut:-1,promises:null,theme:"a"},d);this._displayed=!1;this._throbbers=[];this._settings=
k;this._styles=a.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},c(k.theme));this._isScreenLock=i;this._$target=g;this._target=1===this._$target.length?this._$target[0]:this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){e._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){e._handleResizeEvent()};this._redrawable=!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof k.fadeIn?k.fadeIn:
-1;this._fadeOutTime="number"===typeof k.fadeOut?k.fadeOut:-1;this._$content=a();this._$overlay=a();this._$skin=a();for(var g=f.u.str.format(V,""===k.message?'style="display: none;"':"",k.message),i="https"===document.location.protocol?"return:false":"about:blank",n=0,o=this._$target.length;n<o;n++)this._$content=this._$content.add(a(l.createElement("div")).append(g).addClass(H).addClass(k.theme).addClass(O).css("display","none")),this._$overlay=this._$overlay.add((k.block?a(l.createElement("div")):
a()).addClass(H).addClass(k.theme).addClass(p).css("display","none")),this._$skin=this._$skin.add((M||B?a(l.createElement("iframe")):a()).attr("src",i).addClass(H).addClass(ma).css("display","none"));var r=this._isScreenLock&&P?"fixed":"absolute";a.each([this._$overlay,this._$content],function(){this.css("position",r)});l=k.promises;k=function(){e.hide()};g=a.hasOwnProperty("curCSS")?"pipe":"then";K(l)?(l=a.map(l,function(a){return a&&N(a.promise)?a:null}),0<l.length&&ua(f.async.when(l),g,[k,k])):
l&&N(l.promise)&&ua(l,g,[k,k])}}var H="h5-indicator",O="content",p="overlay",ma="skin",R="vml-root",na="h5-vmlstyle",V='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',da=500,X=13,T=f.env.ua,aa=f.u.obj.isJQueryObject,ba=f.u.obj.argsToArray,ea={throbber:["width","height"],"throbber-line":["width","color"]},Y=!!document.createElement("canvas").getContext,r=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));a.innerHTML=
'<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";return"number"===typeof a.strokeweight}(),B="CSS1Compat"!==document.compatMode,M=T.isIE&&6>=T.browserVersion,u=T.isChrome&&T.isDesktop,P=!(T.isAndroidDefaultBrowser||T.isiOS&&5>T.browserVersion||M||B||T.isWindowsPhone),ca=null,ha=null,ka=null,ia=null,pa=null,ta=null,Da=function(){var b=document.createDocumentFragment().appendChild(document.createElement("div")),d=["Webkit","Moz","O","ms","Khtml"],c=d.length;return function(e){e=
a.camelCase(e);if(e in b.style)return!0;for(var e=e.charAt(0).toUpperCase()+e.slice(1),f=0;f<c;f++)if(d[f]+e in b.style)return!0;return!1}}(),ha=function(a){return function(){var b=document.body,d=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:B?b["client"+a]:d["client"+a]}}("Height"),ka=s("Height"),ia=s("Width"),pa=z("Top"),ta=z("Left"),ca=Da("animationName");F.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),
this._run())},hide:function(){this.root.innerHTML="";this._runId&&(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,b=this.style.throbber.roundTime,d=this.highlightPos,c=this.group.childNodes,e=0,f=c.length;e<f;e++){var g=c[e];if("textbox"!==g.nodeName){var i=e+1;g.firstChild.opacity=i==d?"1":i==d+1||i==d-1?"0.75":"0.4"}}d==a?d=0:d++;this.highlightPos=d;var h=this;this._runId=setTimeout(function(){h._run.call(h)},Math.floor(b/a))},_createPercentArea:function(b){var d=
A("textbox",b),b=a(b.createElement("table"));b.append("<tr><td></td></tr>");var c=b.find("td");c.width(this.group.style.width);c.height(this.group.style.height);c.css("line-height",this.group.style.height);c.addClass("throbber-percent");d.appendChild(b[0]);this.group.appendChild(d)},setPercent:function(b){a(this.group).find(".throbber-percent").html(b)}};var la=function(b,d){this.style=a.extend(!0,{},b);this.canvas=d.createElement("canvas");this.baseDiv=d.createElement("div");this.percentDiv=d.createElement("div");
var c=this.canvas,e=this.baseDiv,f=this.percentDiv;c.width=this.style.throbber.width;c.height=this.style.throbber.height;c.style.display="block";c.style.position="absolute";e.style.width=this.style.throbber.width+"px";e.style.height=this.style.throbber.height+"px";e.appendChild(c);f.style.width=this.style.throbber.width+"px";f.style.height=this.style.throbber.height+"px";f.style.lineHeight=this.style.throbber.height+"px";f.className="throbber-percent";e.appendChild(f);this.positions=k(c.width,this.style.throbber.lines)};
la.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){a(this.baseDiv).remove();this._runId&&(u?clearInterval(this._runId):clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.canvas,b=a.getContext("2d"),d=this.highlightPos,c=this.positions,e=this.style.throbberLine.color,f=this.style.throbberLine.width,g=this.style.throbber.lines,i=this.style.throbber.roundTime;a.width=a.width;for(var h=0,
l=c.length;h<l;h++){b.beginPath();b.strokeStyle=e;b.lineWidth=f;var k=h+1;b.globalAlpha=k==d?1:k==d+1||k==d-1?0.75:0.4;var n=c[h],k=n.from,n=n.to;b.moveTo(k.x,k.y);b.lineTo(n.x,n.y);b.stroke()}d==g?d=0:d++;this.highlightPos=d;if(u){var o=0;this._runId=setInterval(function(){o++;a.style.webkitTransform="rotate("+o+"deg)";360<=o&&(o-=360)},i/360)}else if(ca)a.className="throbber-canvas";else{var p=this;this._runId=setTimeout(function(){p._run.call(p)},Math.floor(i/g))}},setPercent:function(a){this.percentDiv.innerHTML=
a}};e.prototype={show:function(){if(this._displayed||!this._$target||0<this._$target.children("."+H).length)return this;this._displayed=!0;for(var b=this,d=this._fadeInTime,c=function(){var d=a(window);b._isScreenLock&&(D(b._$overlay,b._$content),P||(d.bind("touchmove",b._scrollHandler),d.bind("scroll",b._scrollHandler)));d.bind("orientationchange",b._resizeHandler);d.bind("resize",b._resizeHandler)},e=0,f=this._$target.length;e<f;e++){var g=this._$target.eq(e),h=this._$content.eq(e),k=this._$skin.eq(e),
l=this._$overlay.eq(e),n=C(g[0],"position");!this._isScreenLock&&"static"===n&&(g.data("before-position",n),g.data("before-zoom",C(g[0],"zoom")),g.css({position:"relative",zoom:"1"}));n=S(g[0]);if(n=Y?new la(this._styles,n):r?new F(this._styles,n):null)b._throbbers.push(n),b.percent(this._settings.percent),n.show(h.children(".indicator-throbber")[0]);g.append(k).append(l).append(h)}e=this._$skin.toArray();Array.prototype.push.apply(e,this._$content.toArray());Array.prototype.push.apply(e,this._$overlay.toArray());
e=a(e);0>d?(e.css("display","block"),c()):i(e,d,c);this._reposition();this._resizeOverlay();return this},_resizeOverlay:function(){var a,b;if(!this._isScreenLock||!P)for(var d=0,c=this._$target.length;d<c;d++){b=this._$target.eq(d);var e=this._$overlay.eq(d),f=this._$skin.eq(d);if(this._isScreenLock)a=ia(),b=ka();else{var g=b[0];a=g.scrollWidth;b=g.scrollHeight;if(M)a=Math.max(a,g.clientWidth),b=Math.max(b,g.clientHeight);else if(T.isIE&&"function"===typeof getComputedStyle){var g=Z(S(g)).getComputedStyle(g,
null),i=parseFloat(g.width)+parseFloat(g.paddingLeft)+parseFloat(g.paddingRight);a+=i-parseInt(i)-1;g=parseFloat(g.height)+parseFloat(g.paddingTop)+parseFloat(g.paddingBottom);b+=g-parseInt(g)-1}}e[0].style.width=a+"px";e[0].style.height=b+"px";if(M||B)f[0].style.width=a+"px",f[0].style.height=b+"px"}},_reposition:function(){for(var c=0,e=this._$target.length;c<e;c++){var f=this._$target.eq(c),g=this._$content.eq(c);if(this._isScreenLock){var i=ha();P?g.css("top",(i-o(g[0]))/2+"px"):g.css("top",pa()+
i/2-o(g[0])/2+"px")}else g.css("top",f.scrollTop()+(d(f[0])-o(g[0]))/2);var i=b(g[0])-l(g[0]),h=0;g.children().each(function(){var b=a(this);if("none"===C(b[0],"display"))return!0;h+=v(this,!0)});g.css("width",h+i);g.css("left",f.scrollLeft()+(b(f[0])-v(g[0]))/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var b=this,d=this._fadeOutTime,c=this._$skin.toArray();Array.prototype.push.apply(c,this._$content.toArray());Array.prototype.push.apply(c,this._$overlay.toArray());var e=
a(c),c=function(){var d=a(window);e.remove();b._isScreenLock||b._$target.each(function(b,d){var c=a(d);c.css({position:c.data("before-position"),zoom:c.data("before-zoom")});c.removeData("before-position").removeData("before-zoom")});d.unbind("touchmove",b._scrollHandler);d.unbind("scroll",b._scrollHandler);d.unbind("orientationchange",b._resizeHandler);d.unbind("resize",b._resizeHandler);b._resizeEventTimerId&&clearTimeout(b._resizeEventTimerId);b._scrollEventTimerId&&clearTimeout(b._scrollEventTimerId)};
if(!ca||u)for(var f=0,g=this._throbbers.length;f<g;f++)this._throbbers[f].hide();0>d?(e.css("display","none"),c()):L(e,d,c);return this},percent:function(a){if("number"!==typeof a||!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var b=0,d=this._throbbers.length;b<d;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!w(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display",
"inline-block").text(a);this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);
this._redrawable=!1;P||M||B?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};f.u.obj.expose("h5.ui",{indicator:function(b,d){return a.isPlainObject(b)?new e(b.target,b):new e(b,d)},isInView:function(b,d){var c,e,f,g,i=a(b);if(typeof d===ga)e=G("Height"),g=G("Width"),c=pa(),f=ta();else{g=a(d);if(0===g.find(i).length)return;f=x(g);c=f.top+parseInt(g.css("border-top-width"));f=f.left+parseInt(g.css("border-left-width"));e=g.innerHeight();g=g.innerWidth()}e=c+e;g=f+g;var h=x(i),k=h.top,
h=h.left,l=k+i.outerHeight(),i=h+i.outerWidth();return(c<=k&&k<e||c<l&&l<=e)&&(f<=h&&h<g||f<i&&i<=g)},scrollToTop:function(){function b(){1===window.scrollY&&(d=0);0<d&&(window.scrollTo(0,1),d--,setTimeout(b,da))}var d=3;window.scrollTo(0,1);1!==a(window).scrollTop()&&setTimeout(b,da)}})})();(function(){function h(){var d=a.mobile.activePage,d=d&&d[0]&&d[0].id;return w(d)&&0<d.length?d:null}function A(){var d=h();null!==d&&a(function(){G.addCSS(d);G.bindController(d)})}function k(a,b){for(var c in D)for(var f=
D[c],h=a===c,k=0,e=f.length;k<e;k++){var l=f[k];if(h)l[(b?"enable":"disable")+"Listeners"]()}for(c in t){f=t[c];h=a===c;k=0;for(e=f.length;k<e;k++)if(l=f[k],h)l[(b?"enable":"disable")+"Listeners"]()}}function s(a,b){a=a.replace(/(\.0+)+$/,"");b=b.replace(/(\.0+)+$/,"");if(a===b)return 0;for(var c=a.split("."),f=b.split("."),h=c.length,k=0;k<h;k++){if(null==f[k])return 1;var e=parseInt(c[k],10),l=parseInt(f[k],10);if(e!==l)return e<l?-1:1}return null!=f[h]?-1:0}var z,G=null,x={},D={},t={},n={},C={},
q=!1,l=!1,o=!1;f.u.obj.ns("h5.ui.jqm");f.ui.jqm.dataPrefix="h5";var v={__name:"JQMController",__ready:function(){var d=this,b=h();a(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){d.loadScript(this.id)});var c=this.$find("#"+b);c.one("h5controllerready.emulatepageshow",function(){o&&c[0]===a.mobile.activePage[0]&&c.trigger("h5jqmpageshow",{prevPage:a("")})})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(a){z||this._initPage(a.event.target.id)},':jqmData(role="page"), :jqmData(role="dialog") pagecreate':function(a){z&&
this._initPage(a.event.target.id)},_initPage:function(a){this.loadScript(a);this.addCSS(a);this.bindController(a)},"{rootElement} pageremove":function(d){a(d.event.target).trigger("h5jqmpagehide",{nextPage:a.mobile.activePage});l=!0;var d=d.event.target.id,b=D[d],c=t[d];if(b){for(var f=0,h=b.length;f<h;f++)b[f].dispose();D[d]=[]}if(c){f=0;for(h=c.length;f<h;f++)c[f].dispose();t[d]=[]}},"{rootElement} pagebeforeshow":function(a){a=a.event.target.id;this.addCSS(a);k(a,!0)},"{rootElement} pagehide":function(d){l||
a(d.event.target).trigger("h5jqmpagehide",{nextPage:d.evArg.nextPage});l=!1;d=d.event.target.id;k(d,!1);this.removeCSS(d)},"{rootElement} pageshow":function(d){var b=!1,c=a(d.event.target),f=d.evArg?d.evArg.prevPage:a("");if(d=D[c[0].id])for(var h=0,k=d.length;h<k;h++)if(!d[h].isReady){c.unbind("h5controllerready.emulatepageshow").one("h5controllerready.emulatepageshow",function(){a.mobile.activePage[0]===c[0]&&c.trigger("h5jqmpageshow",{prevPage:f})});b=!0;break}b||c.trigger("h5jqmpageshow",{prevPage:f})},
"{rootElement} h5controllerbound":function(d){d=d.evArg;if(this!==d){var b=h();null===b||-1!==a.inArray(d,D[b])||(t[b]||(t[b]=[]),t[b].push(d))}},"{rootElement} h5controllerunbound":function(d){var b=d.evArg,d=h();null!==d&&(b=a.inArray(b,t[d]),-1!==b&&t[d].splice(b,1))},loadScript:function(d){var d=a("#"+d),b=a.trim(d.data(this.getDataAttribute("script")));if(0!==b.length)return b=a.map(b.split(","),function(b){return a.trim(b)}),d=!0==d.data(this.getDataAttribute("async")),f.u.loadScript(b,{async:d})},
getDataAttribute:function(a){var b=f.ui.jqm.dataPrefix;null==b&&(b="h5");return 0!==b.length?b+"-"+a:a},bindController:function(a){var b=x[a],c=n[a];if(b&&0!==b.length){D[a]||(D[a]=[]);for(var i=D[a],h=0,k=b.length;h<k;h++){for(var e=b[h],l=!1,o=0,p=i.length;o<p;o++){var q=i[o];if(q&&q.__name===e.__name){l=!0;break}}l||D[a].push(f.core.controller("#"+a,e,c[h]))}}},addCSS:function(c){if(c=C[c])for(var b=document.getElementsByTagName("head")[0],f=b.getElementsByTagName("link"),i=f.length,h=0,k=c.length;h<
k;h++){for(var e=a.mobile.path.parseUrl(c[h]).filename,l=!1,n=0;n<i;n++)if(a.mobile.path.parseUrl(f[n].href).filename===e){l=!0;break}l||(e=document.createElement("link"),e.type="text/css",e.rel="stylesheet",e.href=c[h],b.appendChild(e))}},removeCSS:function(c){var b=C[c];if(b&&(c=h(),null!==c)){var f=C[c];a("link").filter(function(){var c=a(this).attr("href");return-1!==a.inArray(c,b)&&-1===a.inArray(c,f)}).remove()}}};f.u.obj.expose("h5.ui.jqm.manager",{init:function(){q||(q=!0,z=0<=s(a.mobile.version,
"1.4"),a(document).one("pageshow",function(){o=!0}),a(function(){G=mb.controllerInternal("body",v,null,{managed:!1});A()}))},define:function(d,b,f,i){w(d)||c(12E3,"id");null!=b&&!w(b)&&!K(b)&&c(12E3,"cssSrc");null!=f&&((w(f)||K(f))&&c(12001),(!a.isPlainObject(f)||!("__name"in f))&&c(12E3,"controllerDefObject"),null!=i&&!a.isPlainObject(i)&&c(12E3,"initParam"));C[d]||(C[d]=[]);x[d]||(x[d]=[]);n[d]||(n[d]=[]);a.merge(C[d],a.map(a.makeArray(b),function(b){return a.inArray(b,C[d])!==-1?null:b}));f&&-1===
a.inArray(f,x[d])&&(x[d].push(f),n[d].push(i));q&&null!==h()?A():this.init()}})})();(function(){function h(){s||(s=navigator.geolocation);return s}function A(a,c){this.oblateness=a;this.semiMajorAxis=c}function k(){}var s=null,w=f.env.ua;A.prototype.getOblateness=function(){return this.oblateness};A.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var G=new A(298.257222,6378137),x=new A(299.152813,6377397.155),D=Math.PI/180;a.extend(k.prototype,{isSupported:w.isIE&&9<=w.browserVersion?
!0:!!h(),getCurrentPosition:function(a){var c=f.async.deferred();h().getCurrentPosition(function(a){c.resolve(a)},function(a){c.reject(aa(2002,null,a))},a);return c.promise()},watchPosition:function(a){function c(){}var k=f.async.deferred(),q=h().watchPosition(function(a){k.notify(a)},function(a){h().clearWatch(q);k.reject(aa(2002,null,a))},a);c.prototype.unwatch=function(){h().clearWatch(q);k.resolve()};return k.promise(new c)},getDistance:function(a,f,h,k,l){(!isFinite(a)||!isFinite(f)||!isFinite(h)||
!isFinite(k))&&c(2E3);var o=l?l:G;o instanceof A||c(2001);var l=o.getSemiMajorAxis(),s=o.getOblateness(),a=a*D,f=f*D,h=h*D,o=k*D,k=(a+h)/2,s=Math.sqrt(2*s-1)/s,s=Math.pow(s,2),d=Math.sqrt(1-s*Math.pow(Math.sin(k),2)),s=l*(1-s)/Math.pow(d,3),l=l/d,f=f-o;return Math.sqrt(Math.pow(s*(a-h),2)+Math.pow(l*Math.cos(k)*f,2))},GS_GRS80:G,GS_BESSEL:x});f.u.obj.expose("h5.api",{geo:new k})})();(function(){function h(a){if(a){var d=a.deferred;(la(d)||Fa(d)||!a.result)&&c(q)}}function A(b,d,f){if(a.isPlainObject(b))for(var h in b){var k=
a.trim(h).replace(/ +/g," ").split(" "),e=[];""===k[0]?c(o):1===k.length?(e.push(k[0]),e.push("="),e.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(k[1])?3===k.length&&/^like$/i.test(k[1])?(e.push(k[0]),e.push(k[1]),e.push("?"),e.push("ESCAPE"),e.push('"'+k[2]+'"')):(e.push(k[0]),e.push(k[1]),e.push("?")):c(l);d.push(e.join(" "));f.push(b[h])}}function k(){}function s(){this._multiple=!1}function z(a){this._db=a;this._df=v();this._tx=null;this._tasks=[];this._queue=[]}function G(a,c,d){this._statements=
[];this._parameters=[];this._executor=a;this._tableName=c;this._columns=K(d)?d.join(", "):"*";this._orderBy=this._where=null}function x(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._values=d?R(d):[];this._df=v();this._multiple=!0}function D(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._values=d;this._where=null}function t(a,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=c;this._where=null}
function n(a,c,d){this._statements=[];this._parameters=[];this._executor=a;this._statements.push(c);this._parameters.push(d||[])}function C(a){this._db=a}var q=3E3,l=3003,o=3011,v=f.async.deferred,d=f.u.str.format;a.extend(s.prototype,{execute:function(){return this._executor.add(this)._execute(function(a){return a[0]})}});a.extend(z.prototype,{_runTransaction:function(){return null!=this._tx},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._getRecentTask().result=
a},_getRecentTask:function(){return this._tasks[this._tasks.length-1]},add:function(a){a instanceof s||c(3009);var d=this._getRecentTask();(!d||d.result)&&this._queue.push(a);return this},_execute:function(a){function c(){if(0===k.length){var h=a(e);d._setResult.apply(d,[h]);f.notify(h,d)}else{for(var l=k.shift(),n=l._statements,o=l._parameters,p=v().resolve().promise(),h=[],q=0,s=n.length;q<s;q++)(function(a,b){p=X(p,function(){var c=v();d._tx.executeSql(a,b,function(a,b){h.push(l._onComplete(b));
c.resolve()});return c.promise()})})(n[q],o[q]);X(p,function(){e.push(l._multiple?h:h[0]);c()})}}var d=this,f=this._df,k=this._queue,e=[];try{h(this._getRecentTask());this._addTask(f);for(var l=0,n=k.length;l<n;l++)k[l]._buildStatementAndParameters();this._runTransaction()?c():this._db.transaction(function(a){d._tx=a;c()},function(a){d._tx=null;for(var b=d._tasks,c=b.length-1;0<=c;c--)b[c].deferred.reject(aa(3010,["SQLDB ERROR(code="+a.code+")",a.message],a))},function(){d._tx=null;for(var a=d._tasks,
b=a.length-1;0<=b;b--){var c=a[b];c.deferred.resolve(c.result)}})}catch(o){f.reject(o)}this._df=v();return f.promise()},execute:function(){return this._execute(function(a){return a})},promise:function(){return this._df.promise()}});G.prototype=new s;a.extend(G.prototype,{where:function(b){!a.isPlainObject(b)&&!w(b)&&c(3004,["Select","where"]);this._where=b;return this},orderBy:function(b){!a.isPlainObject(b)&&!w(b)&&c(3004,["Select","orderBy"]);this._orderBy=R(b);return this},_buildStatementAndParameters:function(){var b=
"",c=this._where,b=d("SELECT {0} FROM {1}",this._columns,this._tableName);if(a.isPlainObject(c)){var f=[];A(c,f,this._parameters);b+=" WHERE "+f.join(" AND ")}else w(c)&&(b+=" WHERE "+c);K(this._orderBy)&&(b+=" ORDER BY "+this._orderBy.join(", "));this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rows}});x.prototype=new s;a.extend(x.prototype,{_buildStatementAndParameters:function(){var b=this._values,c=this._statements,f=this._parameters;if(0===b.length)c.push(d("INSERT INTO {0} DEFAULT VALUES",
this._tableName)),f.push([]);else for(var h=0,k=b.length;h<k;h++){var e=b[h];if(null==e)c.push(d("INSERT INTO {0} DEFAULT VALUES",this._tableName)),f.push([]);else if(a.isPlainObject(e)){var l=[],n=[],o=[],q;for(q in e)l.push("?"),n.push(q),o.push(e[q]);c.push(d("INSERT INTO {0} ({1}) VALUES ({2})",this._tableName,n.join(", "),l.join(", ")));f.push(o)}}},_onComplete:function(a){return a.insertId}});D.prototype=new s;a.extend(D.prototype,{where:function(b){!a.isPlainObject(b)&&!w(b)&&c(3004,["Update",
"where"]);this._where=b;return this},_buildStatementAndParameters:function(){var b="",c=this._where,b=this._values,f=[],h;for(h in b)f.push(h+" = ?"),this._parameters.push(b[h]);b=d("UPDATE {0} SET {1}",this._tableName,f.join(", "));a.isPlainObject(c)?(h=[],A(c,h,this._parameters),b+=" WHERE "+h.join(" AND ")):w(c)&&(b+=" WHERE "+c);this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});t.prototype=new s;a.extend(t.prototype,{where:function(b){!a.isPlainObject(b)&&
!w(b)&&c(3004,["Del","where"]);this._where=b;return this},_buildStatementAndParameters:function(){var b="",c=this._where,b=d("DELETE FROM {0}",this._tableName);if(a.isPlainObject(c)){var f=[];A(c,f,this._parameters);b+=" WHERE "+f.join(" AND ")}else w(c)&&(b+=" WHERE "+c);this._statements.push([b]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});n.prototype=new s;a.extend(n.prototype,{_buildStatementAndParameters:function(){},_onComplete:function(a){return a}});
a.extend(C.prototype,{select:function(a,d,f){w(a)||c(3001,"select");!K(d)&&"*"!==d&&c(3005,"select");return new G(this.transaction(f),a,d)},insert:function(b,d,f){w(b)||c(3001,"insert");null!=d&&!K(d)&&!a.isPlainObject(d)&&c(3006,"insert");return new x(this.transaction(f),b,d)},update:function(b,d,f){w(b)||c(3001,"update");a.isPlainObject(d)||c(3006,"update");return new D(this.transaction(f),b,d)},del:function(a,d){w(a)||c(3001,"del");return new t(this.transaction(d),a)},sql:function(a,d,f){w(a)||
c(3007,"sql");null!=d&&!K(d)&&c(3008,"sql");return new n(this.transaction(f),a,d)},transaction:function(a){void 0!=a&&!(a instanceof z)&&c(3002,"transaction");return a?a:new z(this._db)}});a.extend(k.prototype,{isSupported:!!window.openDatabase,open:function(a,c,d,f){if(this.isSupported)return a=openDatabase(a,c,d,f),new C(a)}});f.u.obj.expose("h5.api",{sqldb:new k})})();(function(){function c(a){this._storage=a}a.extend(c.prototype,{getLength:function(){return this._storage.length},key:function(a){return this._storage.key(a)},
getItem:function(a){a=this._storage.getItem(a);return null===a?null:f.u.obj.deserialize(a)},setItem:function(a,c){this._storage.setItem(a,f.u.obj.serialize(c))},removeItem:function(a){this._storage.removeItem(a)},clear:function(){this._storage.clear()},each:function(a){for(var c=this._storage,f=0,h=c.length;f<h;f++){var w=c.key(f);a(f,w,this.getItem(w))}}});f.u.obj.expose("h5.api.storage",{isSupported:window.localStorage?function(){try{return window.localStorage.setItem("__H5_WEB_STORAGE_CHECK__",
"ok"),window.localStorage.removeItem("__H5_WEB_STORAGE_CHECK__"),!0}catch(a){return!1}}():!1,local:new c(window.localStorage),session:new c(window.sessionStorage)})})()})(jQuery);