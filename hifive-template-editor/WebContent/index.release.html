<!doctype html>
<!--
/*
 * Copyright (C) 2013-2014 NS Solutions Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
 -->

<html lang="ja">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>hifive テンプレートエディタ</title>

<link rel="stylesheet" href="res/lib/jstree/jstree.custom.css">

<link rel="stylesheet" href="res/lib/bootstrap3.2/css/bootstrap.css" media="screen">
<link rel="stylesheet" href="res/lib/hifive/h5.css">

<link rel="stylesheet" href="res/lib/hifive-ui-library/components/dividedBox/src/DividedBox.css">

<link rel="stylesheet" href="res/lib/editor-external.css">

<link rel="stylesheet" href="css/index.css">


<script src="res/lib/jquery/jquery-2.0.3.js"></script>

<script src="res/lib/bootstrap3.2/js/bootstrap.js"></script>

<script src="res/lib/jstree/jquery.jstree.js"></script>


<script src="res/lib/hifive/ejs-h5mod.js"></script>
<script src="res/lib/hifive/h5.js"></script>
<script src="res/lib/hifive/h5.dev.js"></script>

<script src="hifive/templateEditor/templateEditor.min.js"></script>
<!-- <script src="hifive/templateEditor/js/h5.ext.js"></script> -->
<!-- <script src="hifive/templateEditor/js/constants.js"></script> -->
<!-- <script src="hifive/templateEditor/js/u.js"></script> -->
<!-- <script src="hifive/templateEditor/js/_.js"></script> -->
<!-- <script src="hifive/templateEditor/js/dependencyMap.js"></script> -->
<!-- <script src="hifive/templateEditor/logic/TemplateEditLogic.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/GenericParameterEditController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/PreviewController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/SourceEditorController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/CSSEditorController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/controller/ComponentPaletteController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/ParameterEditController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/TemplateEditController.js"></script> -->
<!-- <script src="hifive/templateEditor/controller/PageController.js"></script> -->
<!-- <script src="hifive/templateEditor/parts/ui/ui.common.js"></script> -->
<!-- <script src="hifive/templateEditor/parts/ui/base/base.js"></script> -->
<!-- <script src="hifive/templateEditor/parts/ui/layout/layout.js"></script> -->
<!-- <script src="hifive/templateEditor/parts/bootstraps3/bootstrap.js"></script> -->

<script src="res/lib/hifive-ui-library/components/dividedBox/src/DividedBox.js"></script>

<!-- u.jsが必要 -->

<script>
	// 環境変数の設定
	hifive.editor.u.setEnv('SYSTEM_LIB', '/hifive-template-editor/WebContent/res/lib');
</script>

<script>
	h5.u.obj.ns('hifive.templateEditor.settings').srcBase = '/hifive-template-editor/WebContent/hifive';

	h5.u.obj.ns('hifive.templateEditor.settings').fileStoreBase = '/hifive-template-editor/WebContent/hifive/templateEditor/storage/files/';
	h5.u.obj.ns('hifive.templateEditor.settings').pathHandwritingController = '/hifive-template-editor/WebContent/hifive/templateEditor/controller/HandwritingController.js';

	h5.u.obj.ns('hifive.templateEditor.settings').savePathBase = '/hifive-template-editor/WebContent/hifive/templateEditor/storage/files/';

	//JsBaseとCssBaseは同一でもよい
	h5.u.obj.ns('hifive.templateEditor.settings').libraryJsBase = '/hifive-template-editor/WebContent/res/lib';
	h5.u.obj.ns('hifive.templateEditor.settings').libraryCssBase = '/hifive-template-editor/WebContent/res/lib';

	h5.ext.basePath = './';
	h5.core.controller.registerAlias('c', 'hifive.templateEditor.controller');
</script>

<script id="tmp-cssErrorMessage" type="text/ejs">
<p>[%= message %]</p>
</script>

<script>
	$(function() {
		$('.dividedBox').each(function() {
			h5.core.controller(this, h5.ui.container.DividedBox);
		});
	});
</script>

<script id="tagEdit-table" type="text/ejs">
[%# TODO タイトルは不要か
<h3 >タグ属性編集<button type="button" class="btn-small apply">適用</button></h3>
%]
<h3 class="tagName">(ダブルクリックで選択)</h3>
<table>
<thead>
<tr><th>属性名</th><th>属性値</th></tr>
</thead>
<tbody>
</tbody>
</tbody></table>
</script>

<script src="sample/sample.js"></script>


</head>
<body class='bg-carbon'>

	<!-- タブ -->
	<ul class="nav nav-tabs">
		<li class="active"><a href="#template" data-toggle="tab">テンプレート</a></li>
		<li><a href="#data" data-toggle="tab">データオブジェクト</a></li>
		<!-- <li><a href="#css" data-toggle="tab">カスタムCSS</a></li> -->
		<li><a href="#setting" data-toggle="tab">設定</a></li>
	</ul>


	<div id="ejsEditorRoot" class="dividedBox vertical container">

		<div class="editArea">

			<!-- タブコンテント -->
			<div class="tab-content">


				<!-- 【テンプレート】 -->
				<div class="tab-pane active" id="template">
					<div class="inputArea row">

						<div class="editAreaBar col-xs-12">

							<!-- UNDO,REDO -->
							<div class="col-xs-3" style="color: black;">
								<input type="image" src="images/undo_32.png" class="undo"> <input type="image" src="images/redo_32.png"
									class="redo">
							</div>

							<!-- セレクタ入力ボックス(テンプレート適用先の指定) -->
							<div class="col-xs-9">
								<div class="form-group pull-right" style="color: black; margin: 0px;">
									<label> <input type="text" class="input-selector" placeholder="selector">
									</label>
									<button type="button" class="selector-button btn btn-primary">セレクタ</button>
								</div>

							</div>

						</div>

						<!-- <div class="dividedBox horizontal row"> -->
						<!-- FIXME pageWrapperがついてないとPaletteがドロップしない -->

						<!-- テンプレート文字列表示エリア -->
						<div class="sourceText pageWrapper col-xs-12">
							<!-- contentEditable="true" -->
						</div>

						<!-- <div class="componentPalette col-xs-3" data-h5-controller="c:ComponentPaletteController"></div> -->
						<!-- </div> -->
					</div>
				</div>


				<!-- 【データオブジェクト】 -->
				<div class="tab-pane row" id="data" style="margin: 0px;">

					<div class="editAreaBar col-xs-12">

						<!-- フォーマットボタン -->
						<div class="col-xs-3">
							<button class="format-button btn btn-primary">フォーマット</button>
						</div>

						<!-- URL or Path入力ボックス(データオブジェクト取得用) -->
						<div class="col-xs-9 ">
							<div class="form-inline pull-right">
								<!-- get,post指定用ラジオボタン -->
								<div class="radio">
									<label> <input type="radio" name="sendType" value="GET" checked>GET
									</label>
								</div>
								<div class="radio">
									<label> <input type="radio" name="sendType" value="POST">POST
									</label>
								</div>
								<!-- 入力ボックス -->
								<div class="form-group" style="margin: 0px;">
									<label> <input type="text" class="input-data-url" placeholder="URL or Path">
									</label>
									<!-- パラメータ入力ボタン、取得ボタン -->
									<button class="data-parameter btn btn-primary">パラメータ</button>
									<button class="data-button btn btn-primary">取得</button>
								</div>
							</div>
						</div>
					</div>

					<!-- パラメータ入力画面 -->
					<div class="parameter-input">
						<i class="close-button">×</i>
						<table class="parameter-input-table">
							<thead>
								<tr>
									<th>name</th>
									<th>value</th>
								</tr>
							</thead>
							<tbody>
								<tr class="control-group ">
									<td class="nameCell"><input class="param-name form-control input-sm" type="text" value=""></td>
									<td class="valueCell"><input class="param-value form-control input-sm" name="" type="text" value=""></td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- データオブジェクト表示エリア -->
					<textarea class="col-xs-12 dataText"></textarea>
				</div>

				<!-- 【カスタムCSS】 -->
				<!--
						<div class="tab-pane" id="css">
							<div id="editPanel" class="bg-carbon vertical">
								<div class="editorRoot autoSize"></div>
								<div class="tagEdit autoSize" data-h5-controller="c:TagEditController"></div>
								<div id="editCSSPanel" class="pane pane-full bg-carbon autoSize">
									<div class="styleDef-wrapper">
										<button type="button" class="applyBtn btn-mini apply">適用</button>
										<textarea id="styleDef" class="col-xs-6"></textarea>
										<div id="cssErrorMessage"></div>
									</div>
								</div>
							</div>
						</div>
				-->


				<!-- 【設定】 -->
				<div class="tab-pane container" id="setting">

					<h3>ライブラリ</h3>
					<div class="row">
						<div class="libraries col-xs-4">
							<div class="control-group">
								<label class="checkbox-inline"> <input class="lib" type="checkbox" value="bs3.2" checked="checked">
									Bootstrap3.2
								</label>
							</div>

							<div class="control-group">
								<label class="checkbox-inline"> <input class="lib" type="checkbox" value="jqm1.3.0"> jQuery
									Mobile 1.3.0
								</label>
							</div>

							<div class="control-group">
								<label class="checkbox-inline"> <input class="lib" type="checkbox" value="jqm1.4.2"> jQuery
									Mobile 1.4.2
								</label>
							</div>

							<div>
								<!-- <input class="btn applyLibBtn btn-default" type="button" name="ok" value="適用"> -->
								<input type="image" src="images/reload_48.png" class="applylibBtn">
							</div>

							<span class="libraryMessage">外部ページを読み込んでいるため、ライブラリは適用されません。</span>
						</div>

						<div class="col-xs-4">
							<button class="blank-button btn btn-primary">ブランクページ</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- プレビュー -->
		<div class="previewArea row">
			<div class="col-xs-12">

				<div class="col-xs-3">
					<h3>プレビュー</h3>
				</div>

				<div class="col-xs-3">
					<input type="image" src="images/load_32.png" class="applyTemplateBtn pull-left">
				</div>

				<div class="col-xs-6">
					<div class="form-group pull-right" style="color: black; padding-top: 10px;">
						<label> <input type="text" class="input-url" placeholder="URL or Path">
						</label>
						<button type="button" class="url-button btn btn-primary">ページ</button>
					</div>
				</div>

			</div>


			<div class="iframeWrapper">
				<iframe src="sample/sample-preview.html"></iframe>
			</div>
		</div>

	</div>

</body>
</html>
